{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":false}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"PrivateName":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$6","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"imports/ui/UIHelpers.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining","pipelineOperator","throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"imports/ui/UIHelpers.js","filename":"imports/ui/UIHelpers.js","sourceMaps":true,"passPerPreset":false,"envName":"development","cwd":"/home/martijn/Documents/GitHub/QRSMeteor","root":"/home/martijn/Documents/GitHub/QRSMeteor","generatorOpts":{"filename":"imports/ui/UIHelpers.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/ui/UIHelpers.js"}},"code":"module.export({\n  gitHubLinks: function () {\n    return gitHubLinks;\n  }\n});\nvar Apps, TemplateApps;\nmodule.watch(require(\"/imports/api/apps\"), {\n  Apps: function (v) {\n    Apps = v;\n  },\n  TemplateApps: function (v) {\n    TemplateApps = v;\n  }\n}, 0);\nvar Streams;\nmodule.watch(require(\"/imports/api/streams\"), {\n  Streams: function (v) {\n    Streams = v;\n  }\n}, 1);\nvar Customers;\nmodule.watch(require(\"/imports/api/customers\"), {\n  Customers: function (v) {\n    Customers = v;\n  }\n}, 2);\nvar senseConfig;\nmodule.watch(require(\"/imports/api/config\"), {\n  senseConfig: function (v) {\n    senseConfig = v;\n  }\n}, 3);\nvar gitHubLinks = {\n  createStream: 'https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsStream.js#L113',\n  copyApp: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L477\",\n  replaceAndReloadApp: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L275\",\n  publishApp: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L604\",\n  requestTicket: \"https://github.com/QHose/QRSMeteor/blob/50bf903dc67d8d1b3757b572e8b2dedbb63202da/imports/api/server/QPSFunctions.js#L205\",\n  createPasport: \"https://github.com/QHose/QRSMeteor/blob/50bf903dc67d8d1b3757b572e8b2dedbb63202da/imports/api/server/QPSFunctions.js#L56\",\n  redirectURLReceived: \"https://github.com/QHose/QRSMeteor/blob/master/imports/SSO/client/SSO.js#L100\",\n  deleteApp: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L570\",\n  logoutUser: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QPSFunctions.js#L461\",\n  saveApp: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L300\",\n  getScript: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L275\",\n  setScript: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L288\",\n  reloadApp: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L292\"\n};\n\nif (Meteor.isClient) {\n  var _freshEnvironment = function () {\n    if (!Customers.find().count() && !TemplateApps.find().count()) {\n      // Session.set('currentStep', 0);\n      return true;\n    }\n  };\n\n  var _currentStep = function () {\n    // console.log('the current step session', Session.get('currentStep'));//\n    //step 0: fresh/resetted environment\n    if (_freshEnvironment()) {\n      return 0;\n    } //step 1 insert customers\n    else if (Session.get('currentStep') === 1) {\n        Router.go('users');\n        return 1;\n      } //step 2 there are customers, but no template\n      else if ( // (Customers.find().count() && !TemplateApps.find().count()) &&\n        Session.get('currentStep') === 2) {\n          return 2;\n        } //step 3\n        else if ( // Customers.find().count() && \n          // TemplateApps.find().count() && \n          Session.get('currentStep') === 3 && !Session.equals('loadingIndicator', 'loading')) {\n            // console.log('loading indicator is ', Session.get('loadingIndicator') )\n            return 3;\n          } //step 4\n          else if (Session.get('currentStep') === 4 // &&\n            // Customers.find().count() &&\n            // TemplateApps.find().count()\n            ) {\n                return 4;\n              } else if (Session.equals('loadingIndicator', 'loading')) {\n              return;\n            } else {\n              Session.set('currentStep', 3);\n              return 3;\n            }\n  };\n\n  module.export({\n    freshEnvironment: function () {\n      return _freshEnvironment;\n    },\n    currentStep: function () {\n      return _currentStep;\n    }\n  });\n\n  var Cookies = require('js-cookie'); // console.log('Setup generic helper functions, for functions every template needs');\n\n\n  Template.registerHelper('formatDate', function (date) {\n    return moment(date).format('DD-MM-YYYY');\n  }); // // Template.registerHelper('formatNumber', function(myNumber) {\n  //     var commaFormat = d3.format(\",\");\n  //     // The expression /,/g is a regular expression that matches all commas.\n  //     return commaFormat(myNumber)\n  //         .replace(/,/g, \".\");\n  // });\n\n  Template.registerHelper('URL_Youtube_howToDemo', function () {\n    return 'https://www.youtube.com/embed/OulQS-1fH-A?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk';\n  });\n  Template.registerHelper('URL_Youtube_quickIntro', function () {\n    return '';\n  });\n  Template.registerHelper('URL_Youtube_1mflashyIntro', function () {\n    return 'https://www.youtube.com/embed/W3gDKdv6K8Y';\n  });\n  Template.registerHelper('URL_Youtube_playlist', function () {\n    return 'https://www.youtube.com/playlist?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk';\n  });\n  Template.registerHelper('URL_Youtube_integrated_flow', function () {\n    return \"https://www.youtube.com/embed/M49nv6on5Eg?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk\";\n  });\n  Template.registerHelper('URL_Youtube_generic_security_intro', function () {\n    return \"https://www.youtube.com/embed/sdCVsMzTf64\";\n  });\n  Template.registerHelper('URL_Youtube_webintegration_introduction', function () {\n    return \"https://www.youtube.com/embed/zuNvZ_UTmow?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk\";\n  }); //QAP\n\n  Template.registerHelper('URL_Youtube_webintegration_extended', function () {\n    return \"https://www.youtube.com/embed/yLTqzftDa7s\";\n  });\n  Template.registerHelper('URL_Youtube_architecture_introduction', function () {\n    return \"https://www.youtube.com/embed/sv5nKDvmRPI?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk\";\n  });\n  Template.registerHelper('URL_Youtube_security_introduction', function () {\n    return \"https://www.youtube.com/embed/XJ9dOHoMiXE?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk\";\n  });\n  Template.registerHelper('URL_Youtube_security_deepDive', function () {\n    return \"https://www.youtube.com/embed/iamo6RLc5Pg\";\n  });\n  Template.registerHelper('URL_Youtube_concept_behind', function () {\n    return \"https://www.youtube.com/embed/1PjcTFnC4Mo\";\n  });\n  Template.registerHelper('doc_demo_manual', function () {\n    return '/docs/How to demo the Qlik Sense SaaS demo platform.pdf';\n  });\n  Template.registerHelper('doc_sec_function_task_matrix', function () {\n    return '/docs/QlikSense Authorizations - Function and Tasks_Demo.xlsx';\n  });\n  Template.registerHelper('doc_securtityIntegration', function () {\n    return 'https://community.qlik.com/docs/DOC-17599';\n  });\n  Template.registerHelper('doc_processIntegration', function () {\n    return 'https://community.qlik.com/docs/DOC-17831';\n  });\n  Template.registerHelper('doc_integrationOverview', function () {\n    return 'https://community.qlik.com/docs/DOC-9533';\n  });\n  Template.registerHelper('doc_sourceCode', function () {\n    return '/docs/Qlik Sense SaaS demo tool documentation of source code.docx';\n  });\n  Template.registerHelper('doc_demo_setup_instructions', function () {\n    return '/docs/Qlik Sense SaaS demo tool setup instructions.docx';\n  });\n  Template.registerHelper('doc_webIntegration', function () {\n    return 'https://community.qlik.com/docs/DOC-17834';\n  });\n  Template.registerHelper('doc_dataIntegration', function () {\n    return 'https://onedrive.live.com/view.aspx?cid=0805405928a75727&id=documents&resid=805405928A75727%211330&app=OneNote&authkey=!ANwk5S8KPC__-dw&&wd=target%28%2F%2FEMBEDDED%20ANALYTICS.one%7Cbf2972be-48a0-46fa-af7a-f6d2f80cf06b%2FData%20integration%20Combine%20sources%20into%20one%20associative%20model%7Ce669a0a2-9a83-470e-aae8-ba63ac500038%2F%29';\n  });\n  Template.registerHelper('seq_ticketing_flow', function () {\n    return \"http://knsv.github.io/mermaid/live_editor/#/view/c2VxdWVuY2VEaWFncmFtCkJyb3dzZXItPj5NZXRlb3Igd2ViIGludGVncmF0aW9uIGRlbW86IFVzZXIgbG9ncyBpbiBpbnRvIE1ldGVvciAKQnJvd3Nlci0-PiBQcm94eTogSUZyYW1lIHRyaWVzIHRvIG9wZW4gU2Vuc2UgY29udGVudCB2aWEgbGluayB0aGF0IGNvbnRhaW5zIC9wcm94eS8KUHJveHktPj5NZXRlb3IgU1NPIGNsaWVudDogUmVkaXJlY3QgcmVxdWVzdCB0byB3ZWJwYWdlIG9uIHRoZSBjbGllbnQgKGNsaWVudCBzaWRlIHJvdXRlKS4KCk5vdGUgcmlnaHQgb2YgUHJveHk6IFByb3h5IGFsc28gaW5jbHVkZXMgdGFyZ2V0SWQgPSA8SUQgZm9yIHRoZSBvcmlnaW5hbCBVUkkgdGhhdCB0aGUgdXNlciB0cmllcyB0byBhY2Nlc3M-LCBhbmQgcHJveHlSZXN0VXJpID0gPHRoZSBVUkkgd2hlcmUgdGhlIGF1dGhlbnRpY2F0aW9uIG1vZHVsZSBjYW4gYWNjZXNzIHRoZSBSRVNUIEFQST4KTWV0ZW9yIFNTTyBjbGllbnQtPk1ldGVvciBzZXJ2ZXI6ICBjbGllbnQgY2FsbHMgKHVzZXIgYXdhcmUpIHNlcnZlciBzaWRlIG1ldGhvZApOb3RlIHJpZ2h0IG9mIE1ldGVvciBzZXJ2ZXI6IFNpbmNlIHRoZSB1c2VyIGlzIGFscmVhZHkgbG9nZ2VkIGluIGluIE1ldGVvciwgd2UgY2FuIHJlcXVlc3QgdGhlIHVzZXJJRCBhbmQgZ3JvdXAgbWVtYmVyc2hpcCBmcm9tIHRoZSBNZXRlb3Igc2Vzc2lvbi4gVHJ1c3QgbWVjaGFuaXNtOiBTZXJ2ZXIgaW1wb3J0ZWQgUWxpayBTZW5zZSBjbGllbnQgY2VydGlmaWNhdGUuCk1ldGVvciBzZXJ2ZXItPj5RUFMgQVBJOiBSZXF1ZXN0IHRpY2tldCBhdCBRUFMgQVBJLCBwcm92aWRlIHRoZSB1c2VySWQgYW5kIGdyb3VwcyBpbiBKU09OLgpOb3RlIHJpZ2h0IG9mIE1ldGVvciBzZXJ2ZXI6IE9wdGlvbmFsbHkgaW5jbHVkZSB0aGUgcmVkaXJlY3QgcGFyYW1ldGVyIHRvIGZvcndhcmQgdGhlIHVzZXIgYmFjayB0byB0aGUgcGFnZSBoZSBpbml0aWFsbHkgdHJpZWQgdG8gYWNjZXNzLgpRUFMgQVBJLS0-Pk1ldGVvciBzZXJ2ZXI6IFFQUyBBUEkgcmV0dXJucyBhIHRpY2tldCBudW1iZXIgKGFuZCBwb3NzaWJseSByZWRpcmVjdCBVUkwpIHdoaWNoIHlvdSBoYXZlIHRvIGFwcGVuZCBpbiB0aGUgVVJMIApNZXRlb3Igc2VydmVyLS0-PiBNZXRlb3Igd2ViIGludGVncmF0aW9uIGRlbW86IENyZWF0ZSBhIHJlZGlyZWN0IFVSTCB3aGljaCB0aGUgY2xpZW50IGNvZGUgY2FuIHB1dCBpbiB0aGUgYnJvd3NlciBVUkwgYmFyLiAKTm90ZSByaWdodCBvZiBNZXRlb3Igd2ViIGludGVncmF0aW9uIGRlbW86IENsaWVudCBzaWRlIGNvZGUsIHJlcGxhY2VzIHRoZSB1cmwgaW4gYnJvd3NlciwgYW5kIGZvcndhcmRzIHRoZSB1c2VyIHRvIFFsaWsgU2Vuc2UuIFVzZXIgbm93IHJlY2VpdmVzIGEgUWxpayBTZW5zZSBzZXNzaW9uIGNvb2tpZSAoc2VlIHZpcnR1YWwgcHJveHkgY29uZmlnKSwgYW5kIGFuZCBzdWNoIHNpbmdsZSBzaWduIG9uIGlzIGNvbmZpZ3VyZWQu\";\n  });\n  Template.registerHelper('github_create_stream', function () {\n    return gitHubLinks.createStream;\n  });\n  Template.registerHelper('github_copy_app', function () {\n    return gitHubLinks.copyApp;\n  });\n  Template.registerHelper('github_replace_and_reload_app', function () {\n    return gitHubLinks.replaceAndReloadApp;\n  });\n  Template.registerHelper('github_publish_app', function () {\n    return gitHubLinks.publishApp;\n  });\n  Template.registerHelper('github_logout_user', function () {\n    return \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QPSFunctions.js#L18\";\n  });\n  Template.registerHelper('senseServerHub', function () {\n    return 'https://' + senseConfig.host + ':' + senseConfig.port + '/' + senseConfig.virtualProxyClientUsage + '/hub';\n  });\n  Template.registerHelper('senseServerDevHub', function () {\n    return 'https://' + senseConfig.host + ':' + senseConfig.port + '/' + senseConfig.virtualProxyClientUsage + '/dev-hub';\n  });\n  Template.registerHelper('senseServerQMC', function () {\n    return 'https://' + senseConfig.host + ':' + senseConfig.port + '/' + senseConfig.virtualProxyClientUsage + '/qmc';\n  });\n  Template.registerHelper('senseServer', function () {\n    return 'https://' + senseConfig.host + ':' + senseConfig.port + '/' + senseConfig.virtualProxyClientUsage;\n  });\n  Template.registerHelper('webIntegrationDemo', function () {\n    return 'https://' + Meteor.settings.public.webIntegrationHost + ':' + Meteor.settings.public.webIntegrationDemoPort;\n  }); //Integration presentation Iframe selector\n\n  Template.registerHelper('IFrameURLChapterSelection', function () {\n    var appId = Cookies.get('slideGeneratorAppId'); //senseConfig.slideGeneratorAppId;\n\n    var IntegrationPresentationSelectionSheet = Meteor.settings.public.slideGenerator.selectionSheet; //'DYTpxv'; selection sheet of the slide generator\n\n    var proxy = Meteor.settings.public.slideGenerator.virtualProxy;\n    var url = senseConfig.host + ':' + senseConfig.port + '/' + proxy + '/single/?appid=' + appId + '&sheet=' + IntegrationPresentationSelectionSheet + '&opt=currsel';\n\n    if (Meteor.settings.public.useSSL) {\n      return 'https://' + url;\n    } else {\n      return 'http://' + url;\n    }\n  }); // Template.registerHelper('authenticatedSlideGenerator', function() {\n  //     return Session.get('authenticatedSlideGenerator');\n  // });\n\n  Template.registerHelper('shrinkForSlideSorter', function () {\n    return Cookies.get('showSlideSorter') === \"true\" ? \"shrink\" : \"\"; //\n  });\n  Template.registerHelper('groupSelectedSlideGenerator', function () {\n    return Session.get('groupForPresentation'); //user selected a presentation type?\n  }); //role that defines your role in the whole integration.qlik.com site, based on this we make selections in the slide generator.\n\n  Template.registerHelper('mainUserRole', function () {\n    return Cookies.get('currentMainRole');\n  });\n  Template.registerHelper('isSelected', function () {\n    return someValue ? 'selected' : '';\n  });\n  Template.registerHelper('customers', function () {\n    return Customers.find({});\n  }); //used for Aldeed autoform\n\n  Template.registerHelper(\"Customers\", Customers);\n  Template.registerHelper('noCustomers', function () {\n    return !Customers.find({}).count();\n  });\n  Template.registerHelper('noTemplateApps', function () {\n    return !TemplateApps.find({}).count();\n  }); //generic helpers to return the collection to the blaze template\n\n  Template.registerHelper('customersCollection', function () {\n    return Customers.find({}, {\n      sort: {\n        checked: -1\n      }\n    });\n  });\n  Template.registerHelper('templateAppsCollection', function () {\n    return TemplateApps.find();\n  });\n  Template.registerHelper('appsCollection', function () {\n    return Apps.find();\n  });\n  Template.registerHelper('streamsCollection', function () {\n    return Streams.find();\n  });\n  Template.registerHelper('freshEnvironment', function () {\n    return _freshEnvironment();\n  });\n  Template.registerHelper('loading', function () {\n    // console.log('loading indicator in helper is: ', Session.get('loadingIndicator'));\n    return Session.get('loadingIndicator');\n  });\n  ;\n  Template.registerHelper('readyToSelectTemplate', function () {\n    return _currentStep() === 2;\n  });\n  Template.registerHelper('templateButNoCustomer', function () {\n    return !Customers.find().count() && TemplateApps.find().count();\n  });\n  Template.registerHelper('readyToGenerate', function () {\n    return _currentStep() === 3 && !Session.equals('loadingIndicator', 'loading');\n  });\n  Template.registerHelper('step3', function () {\n    return Session.get('currentStep') === 3;\n  });\n  Template.registerHelper('step3or4', function () {\n    return Session.get('currentStep') === 3 || Session.get('currentStep') === 4 || Session.equals('loadingIndicator', 'loading');\n  });\n  Template.registerHelper('stepEqualTo', function (stepNr) {\n    // console.log('value of currentStep() ', currentStep());\n    return _currentStep() === stepNr;\n  });\n  Template.registerHelper('generationFinished', function () {\n    return Session.equals('loadingIndicator', 'loading') || Session.get('generated?');\n  });\n  Template.registerHelper('readyToTestSSO', function () {\n    return _currentStep() === 4;\n  });\n  Template.registerHelper('and', function (a, b) {\n    return a && b;\n  });\n  Template.registerHelper('or', function (a, b) {\n    return a || b;\n  });\n}","map":{"version":3,"sources":["imports/ui/UIHelpers.js"],"names":["module","export","gitHubLinks","Apps","TemplateApps","watch","require","v","Streams","Customers","senseConfig","createStream","copyApp","replaceAndReloadApp","publishApp","requestTicket","createPasport","redirectURLReceived","deleteApp","logoutUser","saveApp","getScript","setScript","reloadApp","Meteor","isClient","freshEnvironment","find","count","currentStep","Session","get","Router","go","equals","set","Cookies","Template","registerHelper","date","moment","format","host","port","virtualProxyClientUsage","settings","public","webIntegrationHost","webIntegrationDemoPort","appId","IntegrationPresentationSelectionSheet","slideGenerator","selectionSheet","proxy","virtualProxy","url","useSSL","someValue","sort","checked","stepNr","a","b"],"mappings":"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","sourcesContent":["    // import meteor collections\n    import {\n        Apps,\n        TemplateApps\n    } from '/imports/api/apps';\n    import {\n        Streams\n    } from '/imports/api/streams';\n    import {\n        Customers\n    } from '/imports/api/customers';\n    import {\n        senseConfig\n    } from '/imports/api/config';\n\n\n    export var gitHubLinks = {\n        createStream: 'https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsStream.js#L113',\n        copyApp: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L477\",\n        replaceAndReloadApp: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L275\",\n        publishApp: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L604\",\n        requestTicket: \"https://github.com/QHose/QRSMeteor/blob/50bf903dc67d8d1b3757b572e8b2dedbb63202da/imports/api/server/QPSFunctions.js#L205\",\n        createPasport: \"https://github.com/QHose/QRSMeteor/blob/50bf903dc67d8d1b3757b572e8b2dedbb63202da/imports/api/server/QPSFunctions.js#L56\",\n        redirectURLReceived: \"https://github.com/QHose/QRSMeteor/blob/master/imports/SSO/client/SSO.js#L100\",\n        deleteApp: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L570\",\n        logoutUser: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QPSFunctions.js#L461\",\n        saveApp: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L300\",\n        getScript: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L275\",\n        setScript: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L288\",\n        reloadApp: \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L292\",\n    };\n\n    if (Meteor.isClient) {\n        var Cookies = require('js-cookie');\n\n        // console.log('Setup generic helper functions, for functions every template needs');\n        Template.registerHelper('formatDate', function(date) {\n            return moment(date)\n                .format('DD-MM-YYYY');\n        });\n\n        // // Template.registerHelper('formatNumber', function(myNumber) {\n        //     var commaFormat = d3.format(\",\");\n        //     // The expression /,/g is a regular expression that matches all commas.\n        //     return commaFormat(myNumber)\n        //         .replace(/,/g, \".\");\n        // });\n\n        Template.registerHelper('URL_Youtube_howToDemo', function() {\n            return 'https://www.youtube.com/embed/OulQS-1fH-A?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk';\n        });\n        Template.registerHelper('URL_Youtube_quickIntro', function() {\n            return '';\n        });\n\n        Template.registerHelper('URL_Youtube_1mflashyIntro', function() {\n            return 'https://www.youtube.com/embed/W3gDKdv6K8Y';\n        });\n\n        Template.registerHelper('URL_Youtube_playlist', function() {\n            return 'https://www.youtube.com/playlist?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk';\n        });\n        Template.registerHelper('URL_Youtube_integrated_flow', function() {\n            return \"https://www.youtube.com/embed/M49nv6on5Eg?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk\";\n        });\n\n        Template.registerHelper('URL_Youtube_generic_security_intro', function() {\n            return \"https://www.youtube.com/embed/sdCVsMzTf64\";\n        });\n\n\n        Template.registerHelper('URL_Youtube_webintegration_introduction', function() {\n            return \"https://www.youtube.com/embed/zuNvZ_UTmow?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk\";\n        });\n\n        //QAP\n        Template.registerHelper('URL_Youtube_webintegration_extended', function() {\n            return \"https://www.youtube.com/embed/yLTqzftDa7s\";\n        });\n\n        Template.registerHelper('URL_Youtube_architecture_introduction', function() {\n            return \"https://www.youtube.com/embed/sv5nKDvmRPI?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk\";\n        });\n\n        Template.registerHelper('URL_Youtube_security_introduction', function() {\n            return \"https://www.youtube.com/embed/XJ9dOHoMiXE?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk\";\n        });\n\n        Template.registerHelper('URL_Youtube_security_deepDive', function() {\n            return \"https://www.youtube.com/embed/iamo6RLc5Pg\";\n        });\n\n        Template.registerHelper('URL_Youtube_concept_behind', function() {\n            return \"https://www.youtube.com/embed/1PjcTFnC4Mo\";\n        });\n\n        Template.registerHelper('doc_demo_manual', function() {\n            return '/docs/How to demo the Qlik Sense SaaS demo platform.pdf';\n        });\n\n        Template.registerHelper('doc_sec_function_task_matrix', function() {\n            return '/docs/QlikSense Authorizations - Function and Tasks_Demo.xlsx';\n        });\n\n        Template.registerHelper('doc_securtityIntegration', function() {\n            return 'https://community.qlik.com/docs/DOC-17599';\n        });\n        Template.registerHelper('doc_processIntegration', function() {\n            return 'https://community.qlik.com/docs/DOC-17831';\n        });\n\n\n        Template.registerHelper('doc_integrationOverview', function() {\n            return 'https://community.qlik.com/docs/DOC-9533';\n        });\n\n        Template.registerHelper('doc_sourceCode', function() {\n            return '/docs/Qlik Sense SaaS demo tool documentation of source code.docx';\n        });\n\n        Template.registerHelper('doc_demo_setup_instructions', function() {\n            return '/docs/Qlik Sense SaaS demo tool setup instructions.docx';\n        });\n\n        Template.registerHelper('doc_webIntegration', function() {\n            return 'https://community.qlik.com/docs/DOC-17834';\n        });\n        Template.registerHelper('doc_dataIntegration', function() {\n            return 'https://onedrive.live.com/view.aspx?cid=0805405928a75727&id=documents&resid=805405928A75727%211330&app=OneNote&authkey=!ANwk5S8KPC__-dw&&wd=target%28%2F%2FEMBEDDED%20ANALYTICS.one%7Cbf2972be-48a0-46fa-af7a-f6d2f80cf06b%2FData%20integration%20Combine%20sources%20into%20one%20associative%20model%7Ce669a0a2-9a83-470e-aae8-ba63ac500038%2F%29';\n        });\n\n        Template.registerHelper('seq_ticketing_flow', function() {\n            return \"http://knsv.github.io/mermaid/live_editor/#/view/c2VxdWVuY2VEaWFncmFtCkJyb3dzZXItPj5NZXRlb3Igd2ViIGludGVncmF0aW9uIGRlbW86IFVzZXIgbG9ncyBpbiBpbnRvIE1ldGVvciAKQnJvd3Nlci0-PiBQcm94eTogSUZyYW1lIHRyaWVzIHRvIG9wZW4gU2Vuc2UgY29udGVudCB2aWEgbGluayB0aGF0IGNvbnRhaW5zIC9wcm94eS8KUHJveHktPj5NZXRlb3IgU1NPIGNsaWVudDogUmVkaXJlY3QgcmVxdWVzdCB0byB3ZWJwYWdlIG9uIHRoZSBjbGllbnQgKGNsaWVudCBzaWRlIHJvdXRlKS4KCk5vdGUgcmlnaHQgb2YgUHJveHk6IFByb3h5IGFsc28gaW5jbHVkZXMgdGFyZ2V0SWQgPSA8SUQgZm9yIHRoZSBvcmlnaW5hbCBVUkkgdGhhdCB0aGUgdXNlciB0cmllcyB0byBhY2Nlc3M-LCBhbmQgcHJveHlSZXN0VXJpID0gPHRoZSBVUkkgd2hlcmUgdGhlIGF1dGhlbnRpY2F0aW9uIG1vZHVsZSBjYW4gYWNjZXNzIHRoZSBSRVNUIEFQST4KTWV0ZW9yIFNTTyBjbGllbnQtPk1ldGVvciBzZXJ2ZXI6ICBjbGllbnQgY2FsbHMgKHVzZXIgYXdhcmUpIHNlcnZlciBzaWRlIG1ldGhvZApOb3RlIHJpZ2h0IG9mIE1ldGVvciBzZXJ2ZXI6IFNpbmNlIHRoZSB1c2VyIGlzIGFscmVhZHkgbG9nZ2VkIGluIGluIE1ldGVvciwgd2UgY2FuIHJlcXVlc3QgdGhlIHVzZXJJRCBhbmQgZ3JvdXAgbWVtYmVyc2hpcCBmcm9tIHRoZSBNZXRlb3Igc2Vzc2lvbi4gVHJ1c3QgbWVjaGFuaXNtOiBTZXJ2ZXIgaW1wb3J0ZWQgUWxpayBTZW5zZSBjbGllbnQgY2VydGlmaWNhdGUuCk1ldGVvciBzZXJ2ZXItPj5RUFMgQVBJOiBSZXF1ZXN0IHRpY2tldCBhdCBRUFMgQVBJLCBwcm92aWRlIHRoZSB1c2VySWQgYW5kIGdyb3VwcyBpbiBKU09OLgpOb3RlIHJpZ2h0IG9mIE1ldGVvciBzZXJ2ZXI6IE9wdGlvbmFsbHkgaW5jbHVkZSB0aGUgcmVkaXJlY3QgcGFyYW1ldGVyIHRvIGZvcndhcmQgdGhlIHVzZXIgYmFjayB0byB0aGUgcGFnZSBoZSBpbml0aWFsbHkgdHJpZWQgdG8gYWNjZXNzLgpRUFMgQVBJLS0-Pk1ldGVvciBzZXJ2ZXI6IFFQUyBBUEkgcmV0dXJucyBhIHRpY2tldCBudW1iZXIgKGFuZCBwb3NzaWJseSByZWRpcmVjdCBVUkwpIHdoaWNoIHlvdSBoYXZlIHRvIGFwcGVuZCBpbiB0aGUgVVJMIApNZXRlb3Igc2VydmVyLS0-PiBNZXRlb3Igd2ViIGludGVncmF0aW9uIGRlbW86IENyZWF0ZSBhIHJlZGlyZWN0IFVSTCB3aGljaCB0aGUgY2xpZW50IGNvZGUgY2FuIHB1dCBpbiB0aGUgYnJvd3NlciBVUkwgYmFyLiAKTm90ZSByaWdodCBvZiBNZXRlb3Igd2ViIGludGVncmF0aW9uIGRlbW86IENsaWVudCBzaWRlIGNvZGUsIHJlcGxhY2VzIHRoZSB1cmwgaW4gYnJvd3NlciwgYW5kIGZvcndhcmRzIHRoZSB1c2VyIHRvIFFsaWsgU2Vuc2UuIFVzZXIgbm93IHJlY2VpdmVzIGEgUWxpayBTZW5zZSBzZXNzaW9uIGNvb2tpZSAoc2VlIHZpcnR1YWwgcHJveHkgY29uZmlnKSwgYW5kIGFuZCBzdWNoIHNpbmdsZSBzaWduIG9uIGlzIGNvbmZpZ3VyZWQu\";\n        });\n\n        Template.registerHelper('github_create_stream', function() {\n            return gitHubLinks.createStream;\n        });\n\n        Template.registerHelper('github_copy_app', function() {\n            return gitHubLinks.copyApp;\n        });\n\n        Template.registerHelper('github_replace_and_reload_app', function() {\n            return gitHubLinks.replaceAndReloadApp;\n        });\n\n        Template.registerHelper('github_publish_app', function() {\n            return gitHubLinks.publishApp;\n        });\n\n        Template.registerHelper('github_logout_user', function() {\n            return \"https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QPSFunctions.js#L18\";\n        });\n\n        Template.registerHelper('senseServerHub', function() {\n            return 'https://' + senseConfig.host + ':' + senseConfig.port + '/' + senseConfig.virtualProxyClientUsage + '/hub';\n        });\n\n        Template.registerHelper('senseServerDevHub', function() {\n            return 'https://' + senseConfig.host + ':' + senseConfig.port + '/' + senseConfig.virtualProxyClientUsage + '/dev-hub';\n        });\n\n        Template.registerHelper('senseServerQMC', function() {\n            return 'https://' + senseConfig.host + ':' + senseConfig.port + '/' + senseConfig.virtualProxyClientUsage + '/qmc';\n        });\n\n        Template.registerHelper('senseServer', function() {\n            return 'https://' + senseConfig.host + ':' + senseConfig.port + '/' + senseConfig.virtualProxyClientUsage;\n        });\n\n        Template.registerHelper('webIntegrationDemo', function() {\n            return 'https://' + Meteor.settings.public.webIntegrationHost + ':' + Meteor.settings.public.webIntegrationDemoPort;\n        });\n\n        //Integration presentation Iframe selector\n        Template.registerHelper('IFrameURLChapterSelection', function() {\n            var appId = Cookies.get('slideGeneratorAppId'); //senseConfig.slideGeneratorAppId;\n            var IntegrationPresentationSelectionSheet = Meteor.settings.public.slideGenerator.selectionSheet; //'DYTpxv'; selection sheet of the slide generator\n            var proxy = Meteor.settings.public.slideGenerator.virtualProxy;\n            var url = senseConfig.host + ':' + senseConfig.port + '/' + proxy + '/single/?appid=' + appId + '&sheet=' + IntegrationPresentationSelectionSheet + '&opt=currsel';\n            if (Meteor.settings.public.useSSL) {\n                return 'https://' + url;\n            } else {\n                return 'http://' + url;\n            }\n        });\n\n        // Template.registerHelper('authenticatedSlideGenerator', function() {\n        //     return Session.get('authenticatedSlideGenerator');\n        // });\n\n        Template.registerHelper('shrinkForSlideSorter', function() {\n            return Cookies.get('showSlideSorter') === \"true\" ? \"shrink\" : \"\"; //\n        });\n\n        Template.registerHelper('groupSelectedSlideGenerator', function() {\n            return Session.get('groupForPresentation'); //user selected a presentation type?\n        });\n\n        //role that defines your role in the whole integration.qlik.com site, based on this we make selections in the slide generator.\n        Template.registerHelper('mainUserRole', function() {\n            return Cookies.get('currentMainRole');\n        });\n\n        Template.registerHelper('isSelected', function() {\n            return someValue ? 'selected' : '';\n        });\n\n        Template.registerHelper('customers', function() {\n            return Customers.find({});\n        });\n\n        //used for Aldeed autoform\n        Template.registerHelper(\"Customers\", Customers);\n\n        Template.registerHelper('noCustomers', function() {\n            return !Customers.find({})\n                .count();\n        });\n\n        Template.registerHelper('noTemplateApps', function() {\n            return !TemplateApps.find({})\n                .count();\n        });\n\n        //generic helpers to return the collection to the blaze template\n        Template.registerHelper('customersCollection', function() {\n            return Customers.find({}, {\n                sort: {\n                    checked: -1\n                }\n            });\n        });\n\n        Template.registerHelper('templateAppsCollection', function() {\n            return TemplateApps.find();\n        });\n\n        Template.registerHelper('appsCollection', function() {\n            return Apps.find();\n        });\n\n        Template.registerHelper('streamsCollection', function() {\n            return Streams.find();\n        });\n\n        Template.registerHelper('freshEnvironment', function() {\n            return freshEnvironment();\n        });\n\n        Template.registerHelper('loading', function() {\n            // console.log('loading indicator in helper is: ', Session.get('loadingIndicator'));\n            return Session.get('loadingIndicator');\n        });\n\n        export function freshEnvironment() {\n            if (!Customers.find().count() && !TemplateApps.find().count()) {\n                // Session.set('currentStep', 0);\n                return true\n            }\n        };\n\n        Template.registerHelper('readyToSelectTemplate', function() {\n            return currentStep() === 2\n        });\n\n        Template.registerHelper('templateButNoCustomer', function() {\n            return !Customers.find()\n                .count() && TemplateApps.find()\n                .count()\n        });\n\n        Template.registerHelper('readyToGenerate', function() {\n            return currentStep() === 3 && !Session.equals('loadingIndicator', 'loading');\n        });\n\n        Template.registerHelper('step3', function() {\n            return Session.get('currentStep') === 3\n        });\n\n        Template.registerHelper('step3or4', function() {\n            return Session.get('currentStep') === 3 ||\n                Session.get('currentStep') === 4 ||\n                Session.equals('loadingIndicator', 'loading')\n        });\n\n        Template.registerHelper('stepEqualTo', function(stepNr) {\n            // console.log('value of currentStep() ', currentStep());\n            return currentStep() === stepNr;\n        });\n\n        export function currentStep() {\n            // console.log('the current step session', Session.get('currentStep'));//\n\n            //step 0: fresh/resetted environment\n            if (freshEnvironment()) {\n                return 0\n            }\n            //step 1 insert customers\n            else if (Session.get('currentStep') === 1) {\n                Router.go('users');\n                return 1\n            }\n            //step 2 there are customers, but no template\n            else if (\n                // (Customers.find().count() && !TemplateApps.find().count()) &&\n                Session.get('currentStep') === 2) {\n                return 2\n            }\n            //step 3\n            else if (\n                // Customers.find().count() && \n                // TemplateApps.find().count() && \n                Session.get('currentStep') === 3 &&\n                !Session.equals('loadingIndicator', 'loading')) {\n                // console.log('loading indicator is ', Session.get('loadingIndicator') )\n                return 3\n            }\n            //step 4\n            else if (\n                Session.get('currentStep') === 4\n                // &&\n                // Customers.find().count() &&\n                // TemplateApps.find().count()\n            ) {\n                return 4;\n            } else if (Session.equals('loadingIndicator', 'loading')) {\n                return;\n            } else {\n                Session.set('currentStep', 3);\n                return 3;\n            }\n        }\n\n        Template.registerHelper('generationFinished', function() {\n            return (Session.equals('loadingIndicator', 'loading') || Session.get('generated?'));\n        });\n\n        Template.registerHelper('readyToTestSSO', function() {\n            return currentStep() === 4\n        });\n\n        Template.registerHelper('and', (a, b) => {\n            return a && b;\n        });\n        Template.registerHelper('or', (a, b) => {\n            return a || b;\n        });\n\n    }"]},"sourceType":"script","hash":"1793b25ac38fb157ffc312a2546c860081fcde9b"}
