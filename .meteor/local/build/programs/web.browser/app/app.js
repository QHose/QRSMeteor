var require = meteorInstall({"imports":{"ui":{"generation":{"OEMPartnerSide":{"OEMPartner.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/OEMPartner.html                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.OEMPartner.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.OEMPartner.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/template.OEMPartner.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("OEMPartner");
Template["OEMPartner"] = new Template("Template.OEMPartner", (function() {
  var view = this;
  return [ HTML.DIV({
    class: "ui icon message"
  }, "\n        ", Blaze.If(function() {
    return Spacebars.dataMustache(view.lookup("stepEqualTo"), 2);
  }, function() {
    return [ "\n            ", HTML.IMG({
      alt: "",
      class: "icon",
      src: "images/app.png"
    }), "\n        " ];
  }, function() {
    return [ "\n            ", HTML.IMG({
      alt: "",
      class: "icon",
      src: "images/intro.png"
    }), "\n        " ];
  }), "\n        ", HTML.DIV({
    class: "content"
  }, "\n            ", Blaze.If(function() {
    return Spacebars.dataMustache(view.lookup("stepEqualTo"), 0);
  }, function() {
    return [ "\n                ", HTML.DIV({
      class: "header"
    }, "\n                    Step 1: Which customers need access to Qlik Sense apps?\n                "), "\n                ", HTML.P("\n                    ", HTML.UL("\n                        ", HTML.LI("You can use these customers later to generate streams and apps in step 3."), "\n                        ", HTML.LI("You can use the users to test the single sign on and our layered approach to governed ", HTML.A({
      href: "#",
      class: "selfservice"
    }, "self service"), " in step 4."), "\n                    "), "\n                "), "\n            " ];
  }), "\n            ", Blaze.If(function() {
    return Spacebars.dataMustache(view.lookup("stepEqualTo"), 2);
  }, function() {
    return [ "\n                ", Spacebars.include(view.lookupTemplate("step2")), "\n            " ];
  }), "\n            ", Blaze.If(function() {
    return Spacebars.call(view.lookup("templateButNoCustomer"));
  }, function() {
    return [ "\n                ", HTML.DIV({
      class: "header"
    }, "\n                    Customers\n                "), "\n                ", HTML.P("\n                    You already selected a template, but please re-insert your customers.\n                "), "\n            " ];
  }), "\n            ", Blaze.If(function() {
    return Spacebars.dataMustache(view.lookup("stepEqualTo"), 3);
  }, function() {
    return [ " ", Spacebars.include(view.lookupTemplate("step3")), " " ];
  }), "\n            ", Blaze.If(function() {
    return Spacebars.dataMustache(view.lookup("stepEqualTo"), 4);
  }, function() {
    return [ " ", Spacebars.include(view.lookupTemplate("step4")), " " ];
  }), "\n            ", Blaze.If(function() {
    return Spacebars.call(view.lookup("loading"));
  }, function() {
    return [ "\n                ", HTML.DIV({
      class: "header"
    }, "\n                    API communication is in progress...\n                "), "\n                ", HTML.P("Your SaaS platform is now sending API calls to the Qlik Sense. Below you will find a summary of the actions we have automated. See more info about what we do here in the ", HTML.A({
      href: function() {
        return Spacebars.mustache(view.lookup("pathFor"), "APILogs");
      },
      target: "_blank"
    }, "API documentation"), "."), "\n                ", Blaze._TemplateWith(function() {
      return {
        collection: Spacebars.call(view.lookup("restrictedApiLogs")),
        settings: Spacebars.call(view.lookup("RESTCallSettings"))
      };
    }, function() {
      return Spacebars.include(view.lookupTemplate("reactiveTable"));
    }), "\n            " ];
  }), "\n        "), "\n    "), "\n    ", Blaze.If(function() {
    return Spacebars.call(view.lookup("readyToTestSSO"));
  }, function() {
    return [ " ", Spacebars.include(view.lookupTemplate("simulateUserLogin")), " " ];
  }), " ", Spacebars.include(view.lookupTemplate("mainButtons")), "\n    ", Blaze.If(function() {
    return Spacebars.dataMustache(view.lookup("or"), view.lookup("noCustomers"), view.lookup("templateButNoCustomer"));
  }, function() {
    return [ "\n        ", HTML.DIV({
      class: "ui icon message"
    }, "\n            ", HTML.IMG({
      class: "icon",
      alt: "",
      src: "images/customers.png"
    }), "\n            ", HTML.DIV({
      class: "content"
    }, "\n                ", HTML.DIV({
      class: "header"
    }, "\n                    ", HTML.H4("No customers..."), "\n                "), "\n                ", HTML.P("This demo simulates the first day of your SaaS platform. As a first step we need to insert some customers, or use some fictitious customers we created for you.\n                "), "\n                ", Spacebars.include(view.lookupTemplate("insertCustomerButtons")), "\n            "), "\n        "), "\n        ", HTML.Comment(" {{else}} {{> customerOverview}}  "), "\n        ", HTML.Comment('   {{#if readyToSelectTemplate}}\n    <div class="ui icon message">\n        <img class="icon" src="images/app.png">\n        <div class="content">\n            <div class="header">\n                <h4>No template apps</h4>\n            </div>\n            <p>Please select an app in the templates stream (on the right) which you would like to use as a basis template. We will create a copy and publish it into the "customer name" stream for each of your selected customers</p>\n        </div>\n    </div>\n    {{else}}\n    {{> templateOverview}}{{/if}} ') ];
  }) ];
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"customerOverview.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/customerOverview.html                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.customerOverview.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.customerOverview.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/template.customerOverview.js                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("customerOverview");
Template["customerOverview"] = new Template("Template.customerOverview", (function() {
  var view = this;
  return [ HTML.DIV({
    class: "ui icon message"
  }, "\n        ", HTML.Raw('<img class="icon" alt="" src="images/customers.png">'), "\n        ", HTML.DIV({
    class: "content"
  }, "\n            ", HTML.DIV({
    class: "header"
  }, "\n                ", HTML.H4(Blaze.View("lookup:NrCustomers", function() {
    return Spacebars.mustache(view.lookup("NrCustomers"));
  }), " Customer(s) stored in the database of your SaaS platform "), "\n            "), "\n        "), "\n    "), "\n    ", HTML.DIV({
    class: "ui styled fluid accordion"
  }, "\n        ", HTML.Raw('<div class="title">\n            <i class="dropdown icon"></i> View the customers\n        </div>'), "\n        ", HTML.DIV({
    class: "content"
  }, "\n            ", HTML.TABLE({
    class: "ui celled striped table"
  }, "\n                ", HTML.THEAD("\n                    ", HTML.TR("\n                        ", HTML.TH("Customer"), "\n                        ", HTML.TH("Delete customer"), "\n                        ", HTML.TH("Generate stream"), "\n                    "), "\n                "), "\n                ", HTML.TBODY("\n                    ", Blaze.Each(function() {
    return Spacebars.call(view.lookup("customers"));
  }, function() {
    return [ " ", Spacebars.include(view.lookupTemplate("customer")), " " ];
  }), "\n                "), "\n            "), "\n        "), "\n    ") ];
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"mainButtons.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/mainButtons.html                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.mainButtons.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.mainButtons.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/template.mainButtons.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("mainButtons");
Template["mainButtons"] = new Template("Template.mainButtons", (function() {
  var view = this;
  return [ Blaze.Unless(function() {
    return Spacebars.dataMustache(view.lookup("stepEqualTo"), 0);
  }, function() {
    return [ "\n        ", HTML.A({
      href: "",
      class: function() {
        return [ "ui ", Spacebars.mustache(view.lookup("loading")), " basic button resetEnvironment" ];
      }
    }, HTML.I({
      class: "delete icon"
    })), "\n    " ];
  }), "\n    ", Blaze.If(function() {
    return Spacebars.dataMustache(view.lookup("stepEqualTo"), 2);
  }, function() {
    return [ " ", Spacebars.include(view.lookupTemplate("step2Buttons")), " " ];
  }), "\n    ", Blaze.If(function() {
    return Spacebars.call(view.lookup("readyToSelectTemplate"));
  }, function() {
    return [ "\n        ", HTML.A({
      href: "",
      class: "ui green button goToStep3"
    }, "Go to step 3"), "\n    " ];
  }), "\n    ", Blaze.If(function() {
    return Spacebars.call(view.lookup("step3or4"));
  }, function() {
    return [ " ", Spacebars.include(view.lookupTemplate("APIButton")), " " ];
  }), "\n    ", Blaze.Unless(function() {
    return Spacebars.call(view.lookup("loading"));
  }, function() {
    return [ "\n        ", Blaze.If(function() {
      return Spacebars.dataMustache(view.lookup("stepEqualTo"), 3);
    }, function() {
      return [ "\n            ", Spacebars.include(view.lookupTemplate("step3Buttons")), "\n        " ];
    }), "\n        ", Blaze.If(function() {
      return Spacebars.dataMustache(view.lookup("stepEqualTo"), 4);
    }, function() {
      return [ "\n            ", Spacebars.include(view.lookupTemplate("step4Buttons")), "\n        " ];
    }), "\n    " ];
  }) ];
}));

Template.__checkName("step2Buttons");
Template["step2Buttons"] = new Template("Template.step2Buttons", (function() {
  var view = this;
  return HTML.Raw('<a href="" class="ui basic button backToStep1"><i class="mail reply icon"></i> </a>');
}));

Template.__checkName("step3Buttons");
Template["step3Buttons"] = new Template("Template.step3Buttons", (function() {
  var view = this;
  return [ HTML.Raw('<a href="" class="ui basic button backToStep2"><i class="mail reply icon"></i> </a>\n    <a href="" class="ui basic button forwardToSSOStep"><i class="mail forward icon"></i></a>\n    '), HTML.A({
    href: "",
    class: function() {
      return [ "ui ", Spacebars.mustache(view.lookup("loading")), " green button generateStreamAndApp" ];
    }
  }, HTML.Raw('<i class="play icon "></i>'), "Start") ];
}));

Template.__checkName("step4Buttons");
Template["step4Buttons"] = new Template("Template.step4Buttons", (function() {
  var view = this;
  return [ HTML.Raw('<a href="" class="ui basic button backToStep3"><i class="mail reply icon"></i> </a>\n    '), Blaze.If(function() {
    return Spacebars.call(view.lookup("userSelected"));
  }, function() {
    return [ "\n        ", HTML.A({
      class: "ui green button webIntegrationDemo",
      href: function() {
        return [ Spacebars.mustache(view.lookup("webIntegrationDemo")), "/hub" ];
      },
      target: "_blank"
    }, "Test user login"), "\n    " ];
  }) ];
}));

Template.__checkName("APIButton");
Template["APIButton"] = new Template("Template.APIButton", (function() {
  var view = this;
  return HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "ApiLogsTable");
    },
    target: "_blank",
    class: "ui basic button ApiLogsTable"
  }, HTML.Raw('<i class="list layout icon"></i>API calls'));
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"simulateUserLogin.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/simulateUserLogin.html                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.simulateUserLogin.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.simulateUserLogin.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/template.simulateUserLogin.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("simulateUserLogin");
Template["simulateUserLogin"] = new Template("Template.simulateUserLogin", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui icon message"
  }, HTML.Raw('\n        <img class="icon" alt="" src="images/id.png">\n        '), HTML.DIV({
    class: "content"
  }, "\n            ", HTML.Raw('<div class="header">\n                <h4>Simulate a user login</h4>\n            </div>'), '\n            Try different users and notice the difference in visible streams, apps and access to functionality. Notice\n            that each user can only see their own "company space" in Qlik Sense, and users with role\n            ', HTML.UL("\n                ", HTML.Raw("<li>Consumer can only display</li>"), "\n                ", HTML.Raw("<li>Contributor can create sheets</li>"), "\n                ", HTML.Raw("<li>Developer can create apps and load data</li>"), "\n                ", HTML.Raw("<li>Admin can maintain apps in the QMC</li>"), "\n                ", HTML.LI("Global auditor can display all apps and ", HTML.A({
    class: "item",
    href: function() {
      return Spacebars.mustache(view.lookup("senseServerQMC"));
    },
    target: "_blank"
  }, "settings")), "\n            "), "\n            ", HTML.DIV({
    class: "ui blue button box-content",
    style: "width: fit-content"
  }, "\n                ", HTML.NAV({
    role: "presentation",
    "aria-label": "Main Navigation",
    class: "",
    id: "flyoutnavkbfixed"
  }, "\n                    ", HTML.UL("\n                        ", HTML.LI({
    class: "has-submenu"
  }, "\n                            ", HTML.Raw('<a href="#flyoutnavkbfixed" aria-expanded="false" aria-haspopup="true" id="bodyDropdown">Select your user  </a>'), "\n                            ", HTML.UL({
    class: "selectRole"
  }, "\n\n                                ", Blaze.Each(function() {
    return Spacebars.call(view.lookup("customers"));
  }, function() {
    return [ "\n                                ", Blaze.Each(function() {
      return Spacebars.call(view.lookup("users"));
    }, function() {
      return [ "\n                                ", HTML.LI(HTML.A({
        href: "#",
        id: function() {
          return Spacebars.mustache(view.lookup("name"));
        }
      }, " ", HTML.I({
        class: "male icon"
      }), " ", Blaze.View("lookup:name", function() {
        return Spacebars.mustache(view.lookup("name"));
      }), " (", Blaze.View("lookup:group", function() {
        return Spacebars.mustache(view.lookup("group"));
      }), " -\n                                        ", Blaze.View("lookup:...name", function() {
        return Spacebars.mustache(Spacebars.dot(view.lookup(".."), "name"));
      }))), "\n                                " ];
    }), "\n                                " ];
  }), "\n\n                            "), "\n                        "), "\n                    "), "\n                "), "\n            "), "\n            ", HTML.Raw('<!-- <div class="ui fluid selection dropdown" aria-haspopup="listbox"\n            aria-labelledby="selectUser">\n                <input id="currentUser" type="hidden">\n                <i class="user icon"></i>\n                {{#if currentUser}} {{currentUser}} {{else}}\n                    <div id="selectUser" class="default text">Select a user</div>\n                {{/if}}\n                <i class="dropdown icon"></i>\n                <div class="menu">\n                    <div class="header">Users from step 1</div>\n                    {{#each customers}}\n                        {{#each users}}\n                            <div role="option" class="item" data-value="{{name}}" data-text="{{name}}">\n                                <i class="male icon"></i> {{name}} ({{group}} - {{../name}})\n                            </div>\n                        {{/each}}\n                    {{/each}}\n                </div>\n            </div> -->'), "\n        "), "\n    ");
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"step2.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/step2.html                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.step2.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.step2.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/template.step2.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("step2");
Template["step2"] = new Template("Template.step2", (function() {
  var view = this;
  return [ HTML.Raw('<div class="header">\n        Step 2: Select a template app\n    </div>\n    '), HTML.P("\n        Which apps should be made available for your customers?\n        ", HTML.Raw("<!-- In step 3 we will create a copy of this template for each of your selected customers. (Also called SaaS provisioning). -->"), "\n        ", Blaze.Each(function() {
    return Spacebars.call(view.lookup("appsInTemplateStream"));
  }, function() {
    return [ " ", Spacebars.include(view.lookupTemplate("templateCheckBox")), " " ];
  }), "\n    "), HTML.Raw('\n    <p>Note: We received these apps dynamically via an <a href="http://help.qlik.com/en-US/sense-developer/3.2/Subsystems/RepositoryServiceAPI/Content/RepositoryServiceAPI/RepositoryServiceAPI-App-Get-Hub-List.htm" target="_blank">API call</a>.</p>') ];
}));

Template.__checkName("templateCheckBox");
Template["templateCheckBox"] = new Template("Template.templateCheckBox", (function() {
  var view = this;
  return HTML.DIV({
    class: "field"
  }, "\n        ", HTML.DIV({
    class: "ui toggle checkbox template"
  }, "\n            ", HTML.INPUT(HTML.Attrs({
    type: "checkbox",
    name: "templateSelector"
  }, function() {
    return Spacebars.attrMustache(view.lookup("checked"));
  })), "\n            ", HTML.LABEL(Blaze.View("lookup:name", function() {
    return Spacebars.mustache(view.lookup("name"));
  })), "\n        "), "\n    ");
}));

Template.__checkName("templateOverview");
Template["templateOverview"] = new Template("Template.templateOverview", (function() {
  var view = this;
  return [ Spacebars.include(view.lookupTemplate("yourSaasPlatformMenu")), "\n    ", HTML.DIV({
    class: "ui icon message",
    style: "margin-top: 60px"
  }, "\n        ", HTML.Raw('<img class="icon" alt="" src="images/app.png">'), "\n        ", HTML.DIV({
    class: "content"
  }, "\n            ", HTML.DIV({
    class: "header"
  }, "\n                ", HTML.H4(Blaze.View("lookup:NrTemplates", function() {
    return Spacebars.mustache(view.lookup("NrTemplates"));
  }), " Selected template app(s)"), "\n            "), "\n            ", HTML.Raw('<p>We will create a "customer name" stream, replace the script, reload and publish a copy of each template app for each of your customers</p>'), "\n        "), "\n    "), "\n    ", HTML.DIV({
    class: "ui styled fluid accordion"
  }, "\n        ", HTML.Raw('<div class="title">\n            <i class="dropdown icon"></i> View selected templates\n        </div>'), "\n        ", HTML.DIV({
    class: "content"
  }, "\n            ", HTML.TABLE({
    class: "ui celled table"
  }, "\n                ", HTML.THEAD("\n                    ", HTML.TR("\n                        ", HTML.TH("App (QVF)"), "\n                        ", HTML.TH("Don't mark as template"), "\n                    "), "\n                "), "\n                ", HTML.TBODY("\n                    ", Blaze.Each(function() {
    return Spacebars.call(view.lookup("templateApps"));
  }, function() {
    return [ "\n                    ", HTML.TR("\n                        ", HTML.TD(" ", HTML.A({
      href: function() {
        return Spacebars.mustache(view.lookup("linkToApp"));
      },
      target: "_blank"
    }, " ", Blaze.View("lookup:name", function() {
      return Spacebars.mustache(view.lookup("name"));
    }), " ")), "\n                        ", HTML.TD({
      class: "removeTemplateApp"
    }, HTML.I({
      class: "remove circle icon"
    })), "\n                    "), "\n                    " ];
  }), "\n                "), "\n            "), "\n        "), "\n    ") ];
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"step3.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/step3.html                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.step3.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.step3.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/template.step3.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("step3");
Template["step3"] = new Template("Template.step3", (function() {
  var view = this;
  return HTML.DIV({
    class: "step3"
  }, HTML.Raw('\n        <h4 class="header">\n            Step 3: Start provisioning Qlik Sense apps\n        </h4>\n        <p>\n            This demo step shows you how to copy an app (dashboard) which serves as a "template layout" for each of your\n            customers. Besides creating a copy, we will also reload the app with data from the customer database.</p>\n        '), HTML.P("The following apps\n        ", HTML.UL("\n            ", Blaze.Each(function() {
    return Spacebars.call(view.lookup("templateApps"));
  }, function() {
    return [ "\n            ", HTML.LI("\n                ", Blaze.View("lookup:name", function() {
      return Spacebars.mustache(view.lookup("name"));
    }), "\n            "), "\n            " ];
  }), "\n        "), '\n        will be "provided" to customers :\n        ', HTML.UL("\n            ", Blaze.Each(function() {
    return Spacebars.call(view.lookup("customers"));
  }, function() {
    return [ "\n            ", HTML.LI("\n                ", Blaze.View("lookup:name", function() {
      return Spacebars.mustache(view.lookup("name"));
    }), "\n            "), "\n            " ];
  }), "\n        "), "\n        "), "\n\n        ", HTML.DIV({
    class: "ui accordion"
  }, "\n            ", HTML.Raw('<div class="active title">\n                <i class="dropdown icon"></i>\n                Some technical background...\n            </div>'), "\n            ", HTML.DIV({
    class: "content"
  }, "\n                ", HTML.Raw('<p>This demo platform provides you with a wrapper around the Qlik Sense <a href="https://help.qlik.com/en-US/sense/3.1/Content/Videos/Videos-qmc-intro.htm">QMC</a>. This\n                    means you\n                    can execute activities (like pressing buttons) in this demo platform, and in the end they will be\n                    executed\n                    remotely in Qlik Sense (via API calls).</p>'), "\n                ", HTML.P("\n                    Using these calls you can, for example, create streams and apps or complete any other activity that\n                    you’d be\n                    able to do in the QMC or app. Each activity you do is ", HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "ApiLogsTable");
    },
    class: "item"
  }, "logged"), ". In these logs you can see the request from this demo platform and the\n                    responses\n                    from Qlik Sense. "), "\n                ", HTML.Raw('<p>\n                    Why do you have to select a customer first? Well, in your SaaS platform you probably want to publish\n                    the\n                    apps only for customers who pay or who have activited the app in your software, so this "selection"\n                    simulates that use case.\n                </p>'), "\n                ", HTML.P("\n                ", HTML.Raw("<h4>Fully automated SaaS provisioning</h4>"), Spacebars.include(view.lookupTemplate("usingTheDemo")), "\n                "), "\n                ", HTML.Raw('<img class="ui medium centered image" alt="" data-action="zoom" src="images/saas demo concept simple.png">'), "\n\n            "), "\n        "), "\n    ");
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"step4.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/step4.html                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.step4.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.step4.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/template.step4.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("step4");
Template["step4"] = new Template("Template.step4", (function() {
  var view = this;
  return HTML.DIV({
    class: "step4"
  }, HTML.Raw('\n    <h4 class="header">4: Test Single Sign On</h4>\n    <p>\n      Select a user in the dropdown below to test the single sign on between\n      your SaaS platform and Qlik Sense.\n    </p>\n    '), HTML.DIV({
    class: "ui accordion"
  }, "\n      ", HTML.Raw('<div class="title">\n        <i class="dropdown icon"></i>\n        Technical flow explained\n      </div>'), "\n      ", HTML.DIV({
    class: "content"
  }, "\n        ", HTML.Raw("<p>\n          We have now finished creating the content per customer. So a good time\n          to look at how Qlik can re-use your SaaS platforms authorizations and\n          implement single sign on. On this page you will see a dropdown, this\n          dropdown contains the users of your SaaS platform. Using this dropdown\n          we can simulate a user login (without having to insert passwords etc.).\n          In this way you can easily test the single sign on process, and make\n          sure your platform is in the lead.\n        </p>"), "\n        ", HTML.P("\n          If you select a user a ticket will be requested which inludes your SaaS\n          platform's current authorizations (the groups) in a dynamic way. This\n          means you don't have to create users and roles up front in Qlik Sense.\n          The\n          ", HTML.A({
    target: "",
    href: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "securityRules");
    },
    class: "item"
  }, "QMC security rules"), '\n          are also created in a dynamic way, so we can protect the apps and\n          streams with a couple of generic rules. The row/column level security is\n          done via a special section in the script of an app (QVF). In this demo\n          we used the group (Country) to ensure each user only sees his country in\n          the "row level security app" in the " everyone stream.\n        '), "\n        ", HTML.P("\n          In the your\n          ", HTML.A({
    class: "item",
    href: function() {
      return [ Spacebars.mustache(view.lookup("webIntegrationDemo")), "/hub" ];
    },
    target: "_blank"
  }, "SaaS platform"), "\n          menu you can see Qlik Sense embedded via IFrame's and DIV tags. On the\n          other side, if you press any link on the current page you will go to\n          Qlik Sense directly. See security integration\n          ", HTML.A({
    target: "",
    href: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "introductionSecurity");
    },
    class: "item"
  }, "videos"), "\n          for more information on the complete security flow.\n        "), "\n      "), "\n    "), "\n    \n  ");
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"users.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/users.html                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.users.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.users.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/template.users.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("insertCustomerButtons");
Template["insertCustomerButtons"] = new Template("Template.insertCustomerButtons", (function() {
  var view = this;
  return HTML.Raw('<!-- <div class="ui small buttons"> -->\n        <!-- <a href="{{pathFor \'users\'}}" class="ui button insertNewCustomer">Insert customers</a>\n        <div class="or"></div> -->\n        <a href="#" class="ui positive button insertDummyCustomers">Use fictitious customers</a>\n    <!-- </div> -->');
}));

Template.__checkName("users");
Template["users"] = new Template("Template.users", (function() {
  var view = this;
  return [ Spacebars.include(view.lookupTemplate("yourSaasPlatformMenu")), "\n\n    ", Spacebars.include(view.lookupTemplate("stepsRow")), "\n    ", HTML.DIV({
    class: "ui two column stackable grid"
  }, "\n        ", HTML.DIV({
    id: "insertCustomer",
    class: "ui modal"
  }, "\n            ", Spacebars.include(view.lookupTemplate("insertCustomer")), "\n        "), "\n        ", HTML.DIV({
    class: "row"
  }, "\n            ", HTML.DIV({
    class: "column"
  }, "\n                ", HTML.Raw('<h4 class="ui dividing header">\n                    Your Saas Platform: Customers\n                </h4>'), "\n                ", HTML.Raw('<!-- <div class="ui segment"> -->'), "\n                ", Blaze.If(function() {
    return Spacebars.call(view.lookup("noCustomers"));
  }, function() {
    return [ "\n                    ", HTML.DIV({
      class: "ui icon message"
    }, "\n                        ", HTML.IMG({
      class: "icon",
      alt: "",
      src: "images/customers.png"
    }), "\n                        ", HTML.DIV({
      class: "content"
    }, "\n                            ", HTML.DIV({
      class: "header"
    }, "\n                                ", HTML.H4("No customers"), "\n                            "), "\n                            ", HTML.P("Please insert some customers."), "\n                        "), "\n                    "), "\n                    ", Spacebars.include(view.lookupTemplate("insertCustomerButtons")), "\n                " ];
  }, function() {
    return [ "\n                    ", HTML.DIV({
      class: "ui icon message"
    }, "\n                        ", HTML.IMG({
      class: "icon",
      alt: "",
      src: "images/customers.png"
    }), "\n                        ", HTML.DIV({
      class: "content"
    }, "\n                            ", HTML.DIV({
      class: "header"
    }, "\n                                Customers in your SaaS platform\n                            "), "\n                            ", HTML.P("Note that you don't have to create users or groups in Qlik Sense (See security ", HTML.A({
      href: function() {
        return Spacebars.mustache(view.lookup("pathFor"), "documentation");
      },
      target: "_blank",
      class: "item"
    }, "\n                            documentation"), " or this ", HTML.A({
      href: function() {
        return Spacebars.mustache(view.lookup("URL_Youtube_integrated_flow"));
      },
      target: "_blank"
    }, " video "), ").\n                            "), "\n                        "), "\n                    "), "\n                    ", HTML.TABLE({
      class: "ui simple table"
    }, "\n                        ", HTML.THEAD("\n                            ", HTML.TR("\n                                ", HTML.TH("Customer"), "\n                                ", HTML.TH("Delete customer"), "\n                            "), "\n                        "), "\n                        ", HTML.TBODY("\n                            ", Blaze.Each(function() {
      return Spacebars.call(view.lookup("customers"));
    }, function() {
      return [ "\n                                ", HTML.TR({
        class: function() {
          return [ "customer-row ", Spacebars.mustache(view.lookup("active")) ];
        }
      }, "\n                                    ", HTML.TD({
        class: function() {
          return Spacebars.mustache(view.lookup("ribbon"));
        }
      }, "\n                                        ", Blaze.View("lookup:name", function() {
        return Spacebars.mustache(view.lookup("name"));
      }), "\n                                    "), "\n                                    ", HTML.TD({
        class: "delete"
      }, HTML.I({
        class: "remove circle icon"
      })), "\n                                "), "\n                            " ];
    }), "\n                        "), "\n                    "), "\n                    ", HTML.DIV({
      class: "ui buttons"
    }, "\n                        ", HTML.Comment(' <a href="#" class="ui button insertNewCustomer">Insert new customer</a>\n                        <div class="or"></div> '), "\n                        ", HTML.A({
      href: "#",
      class: "ui positive button backToGeneration"
    }, HTML.I({
      class: "play icon "
    }), " Go to step 2"), "\n                    "), "\n                " ];
  }), "\n                ", HTML.Raw("<!-- </div> -->"), "\n            "), "\n            ", HTML.DIV({
    class: "column"
  }, "\n                ", HTML.Raw("<!-- {{#if isChrome}}\n                {{#if showUpdateScreen}}\n                {{> updateUserFormStep1}}\n                {{/if}}\n                {{else}} -->"), "\n                ", Blaze.If(function() {
    return Spacebars.call(view.lookup("showUpdateScreen"));
  }, function() {
    return [ "\n                    ", Spacebars.include(view.lookupTemplate("displayUsers")), "\n                " ];
  }), "\n                ", HTML.Raw("<!-- {{/if}} -->"), "\n            "), "\n        "), "\n    ") ];
}));

Template.__checkName("displayUsers");
Template["displayUsers"] = new Template("Template.displayUsers", (function() {
  var view = this;
  return Spacebars.With(function() {
    return Spacebars.call(view.lookup("selectedCustomerDoc"));
  }, function() {
    return [ "\n        ", HTML.H4({
      class: "ui dividing header"
    }, "\n      An overview of the group memberships for customer:  ", Blaze.View("lookup:name", function() {
      return Spacebars.mustache(view.lookup("name"));
    }), "\n  "), "\n        ", HTML.FORM({
      class: "ui form"
    }, "\n            ", Blaze.Each(function() {
      return Spacebars.call(view.lookup("users"));
    }, function() {
      return [ "\n                ", HTML.DIV({
        class: "ui segment"
      }, "\n                    ", HTML.DIV({
        class: "ui form"
      }, "\n                        ", HTML.DIV({
        class: "three fields"
      }, "\n                            ", HTML.DIV({
        class: "field"
      }, "\n                                ", Blaze.View("lookup:name", function() {
        return Spacebars.mustache(view.lookup("name"));
      }), "\n                            "), "\n                            ", HTML.DIV({
        class: "field"
      }, "\n                                ", Blaze.View("lookup:group", function() {
        return Spacebars.mustache(view.lookup("group"));
      }), "\n                            "), "\n                            ", HTML.DIV({
        class: "field"
      }, "\n                                ", Blaze.View("lookup:country", function() {
        return Spacebars.mustache(view.lookup("country"));
      }), "\n                            "), "\n                        "), "\n                    "), "\n                "), "\n            " ];
    }), "\n        "), "\n    " ];
  });
}));

Template.__checkName("updateUserFormStep1");
Template["updateUserFormStep1"] = new Template("Template.updateUserFormStep1", (function() {
  var view = this;
  return Spacebars.With(function() {
    return Spacebars.call(view.lookup("selectedCustomerDoc"));
  }, function() {
    return [ "\n        ", HTML.H4({
      class: "ui dividing header"
    }, "\n      Update the group memberships for customer:  ", Blaze.View("lookup:name", function() {
      return Spacebars.mustache(view.lookup("name"));
    }), "\n  "), "\n        ", HTML.FORM({
      class: "ui form"
    }, "\n            ", Blaze.Each(function() {
      return Spacebars.call(view.lookup("users"));
    }, function() {
      return [ "\n                ", Spacebars.include(view.lookupTemplate("updateGroupsFormStep1")), "\n            " ];
    }), "\n        "), "\n    " ];
  });
}));

Template.__checkName("updateGroupsFormStep1");
Template["updateGroupsFormStep1"] = new Template("Template.updateGroupsFormStep1", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui green segment"
  }, "\n        ", HTML.DIV({
    class: "ui form"
  }, "\n            ", HTML.DIV({
    class: "three fields"
  }, "\n                ", HTML.DIV({
    class: "field"
  }, "\n                    ", Blaze.View("lookup:name", function() {
    return Spacebars.mustache(view.lookup("name"));
  }), "\n                "), "\n                ", HTML.DIV({
    class: "field"
  }, "\n                    ", HTML.DIV({
    class: "ui fluid selection dropdown"
  }, "\n                        ", HTML.Raw('<input name="group" type="hidden">'), "\n                        ", HTML.Raw('<i class="user icon"></i>'), Blaze.View("lookup:group", function() {
    return Spacebars.mustache(view.lookup("group"));
  }), "\n                        ", HTML.Raw('<div class="default text"></div>'), "\n                        ", HTML.Raw('<i class="dropdown icon"></i>'), "\n                        ", HTML.Raw('<div class="menu">\n                            <div class="header">Users from step 1</div>\n                            <!-- {{#each groups}}\n                                <div class="item" data-value="{{this}}" data-text="{{this}}">\n                                    {{this}}\n                                </div>\n                                {{/each}} -->\n                            <div class="item" data-value="Contributor" data-text="Contributor"></div>\n                            <div class="item" data-value="Developer" data-text="Developer">Developer</div>\n                            <!-- <div class="item" data-value="Admin" data-text="Admin">{{../name}} admin</div>\n                                <div class="item" data-value="Global auditor" data-text="Global auditor">SaaS platform auditor (global display)</div> -->\n                        </div>'), "\n                    "), "\n                "), "\n                ", HTML.DIV({
    class: "field"
  }, "\n                    ", HTML.DIV({
    class: "ui dropdown country"
  }, "\n                        ", HTML.INPUT({
    type: "hidden",
    name: "country",
    value: function() {
      return Spacebars.mustache(view.lookup("country"));
    }
  }), "\n                        ", HTML.Raw('<i class="dropdown icon"></i>'), "\n                        ", HTML.DIV({
    class: "default text"
  }, Blaze.View("lookup:country", function() {
    return Spacebars.mustache(view.lookup("country"));
  })), "\n                        ", HTML.Raw('<div class="menu">\n                            <div class="item" data-value="Italy">Italy</div>\n                            <div class="item" data-value="United States">United States</div>\n                            <div class="item" data-value="Germany">Germany</div>\n                        </div>'), "\n                    "), "\n                "), "\n            "), "\n        "), "\n    ");
}));

Template.__checkName("modalRefresher");
Template["modalRefresher"] = new Template("Template.modalRefresher", (function() {
  var view = this;
  return "";
}));

Template.__checkName("insertCustomer");
Template["insertCustomer"] = new Template("Template.insertCustomer", (function() {
  var view = this;
  return [ Spacebars.include(view.lookupTemplate("sAlert")), "\n    ", Blaze._TemplateWith(function() {
    return {
      collection: Spacebars.call(view.lookup("Customers")),
      id: Spacebars.call("insertCustomerForm"),
      omitFields: Spacebars.call("users.$.currentlyLoggedIn"),
      type: Spacebars.call("insert")
    };
  }, function() {
    return Spacebars.include(view.lookupTemplate("autoForm"), function() {
      return [ "\n        ", HTML.FIELDSET("\n            ", Blaze._TemplateWith(function() {
        return {
          name: Spacebars.call("name")
        };
      }, function() {
        return Spacebars.include(view.lookupTemplate("afQuickField"));
      }), " ", Blaze._TemplateWith(function() {
        return {
          name: Spacebars.call("users")
        };
      }, function() {
        return Spacebars.include(view.lookupTemplate("afQuickField"));
      }), "\n        "), "\n        ", HTML.DIV({
        class: "ui right floated buttons"
      }, "\n            ", HTML.BUTTON({
        type: "submit",
        class: "ui positive button saveNewCustomer"
      }, "\n                ", HTML.I({
        class: "edit icon "
      }), " Insert customer"), "\n            ", HTML.DIV({
        class: "or"
      }), "\n            ", HTML.BUTTON({
        type: "submit",
        class: "ui button closeInsertModal"
      }, "\n                close"), "\n        "), "\n    " ];
    });
  }) ];
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"OEMPartner.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/OEMPartner.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  insertTemplateAndDummyCustomers: function () {
    return insertTemplateAndDummyCustomers;
  }
});
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Meteor;
module.watch(require("meteor/meteor"), {
  Meteor: function (v) {
    Meteor = v;
  }
}, 1);
var senseConfig;
module.watch(require("/imports/api/config.js"), {
  senseConfig: function (v) {
    senseConfig = v;
  }
}, 2);
var Apps, TemplateApps, GeneratedResources;
module.watch(require("/imports/api/apps.js"), {
  Apps: function (v) {
    Apps = v;
  },
  TemplateApps: function (v) {
    TemplateApps = v;
  },
  GeneratedResources: function (v) {
    GeneratedResources = v;
  }
}, 3);
var Customers, dummyCustomers;
module.watch(require("/imports/api/customers.js"), {
  Customers: function (v) {
    Customers = v;
  },
  dummyCustomers: function (v) {
    dummyCustomers = v;
  }
}, 4);
var Streams;
module.watch(require("/imports/api/streams.js"), {
  Streams: function (v) {
    Streams = v;
  }
}, 5);
var APILogs;
module.watch(require("/imports/api/APILogs"), {
  APILogs: function (v) {
    APILogs = v;
  }
}, 6);
var freshEnvironment;
module.watch(require("/imports/ui/UIHelpers"), {
  freshEnvironment: function (v) {
    freshEnvironment = v;
  }
}, 7);
module.watch(require("./OEMPartner.html"));
module.watch(require("./customerOverview.js"));
module.watch(require("./simulateUserLogin.js"));
module.watch(require("./step2"));
module.watch(require("./step3"));
module.watch(require("./step4"));
module.watch(require("./mainButtons"));
var lodash;
module.watch(require("lodash"), {
  "default": function (v) {
    lodash = v;
  }
}, 8);
_ = lodash;
Template.OEMPartner.helpers({
  linkToApp: function () {
    return 'http://' + senseConfig.host + ':' + senseConfig.port + '/' + senseConfig.virtualProxyClientUsage + '/sense/app/' + this.id;
  },
  RESTCallSettings: function () {
    return {
      rowsPerPage: 6,
      responsive: true,
      autoWidth: false,
      showFilter: false,
      showNavigation: 'never',
      showColumnToggles: false,
      fields: [{
        key: 'action',
        label: 'Activities that are currently being executed via API calls'
      }, // {
      //     key: 'request',
      //     label: 'Request',
      //     cellClass: "overflow: hidden; text - overflow: ellipsis"
      // },
      {
        key: 'createDate',
        hidden: true,
        label: 'Create Date',
        sortOrder: 0,
        sortDirection: 'descending'
      }]
    };
  },
  restrictedApiLogs: function () {
    return APILogs.find({}, {
      fields: {
        'response.content': 0
      }
    });
  }
});
Template.OEMPartner.events({
  'submit .new-customer': function (event) {
    // Prevent default browser form submit
    event.preventDefault(); // Get value from form element

    var target = event.target;
    var customerName = target.text.value; // Insert a task into the collection

    Customers.insert({
      name: customerName,
      checked: true,
      createdAt: new Date(),
      // current time
      createdBy: Meteor.user()
    }); // Clear form

    target.text.value = '';
  },
  'click .resetEnvironment': function () {
    Session.set('loadingIndicator', 'loading');
    Meteor.call('resetEnvironment', function (err, res) {
      if (err) {
        sAlert.error(err);
        console.log(err);
        Session.set('loadingIndicator', '');
      } else {
        Session.set('loadingIndicator', '');
        Session.set('currentUser', null); // sAlert.success("Qlik Sense has been cleaned up: we have removed all previously provisioned streams and apps");
      }
    });
    Session.set('currentStep', 0);
    Session.set('generated?', false); // Session.set('goToSt', false);
  },
  'click .generateStreamAndApp': function () {
    Session.set('loadingIndicator', 'loading');
    var selectedCustomers = Customers.find({
      generationUserId: Meteor.userId(),
      checked: true
    }).fetch();
    Meteor.call('generateStreamAndApp', selectedCustomers, function (err, result) {
      if (err) {
        sAlert.error(err);
        console.log(err);
        Session.set('loadingIndicator', '');
        Session.setAuth('generated?', false);
      } else {
        Session.set('loadingIndicator', '');
        Session.setAuth('generated?', true);
        Session.setAuth('currentStep', 4);
        console.log('generateStreamAndApp succes', result); // sAlert.success('We have created "a copy" of the template app for each customer. And to group the apps, we created a stream with the name of the customer');
      }
    });
  },
  'click .insertDummyCustomers': function (event) {
    event.preventDefault();
    insertTemplateAndDummyCustomers(); // sAlert.success('We have pre-selected some fictitious customers. Which apps will you provide your customers?');

    Session.setAuth('currentStep', 2);
  },
  'click .goToStep3': function (event) {
    if (TemplateApps.find().count()) {
      Session.setAuth('currentStep', 3); // sAlert.success('We have now selected the customers and the apps they need. Now press start to create the apps in Qlik Sense');
    } else {
      sAlert.error('Please select at least one template');
    }
  }
}); //end Meteor events

function insertTemplateAndDummyCustomers() {
  _.each(dummyCustomers, function (customer) {
    customer.generationUserId = Meteor.userId();
    Customers.insert(customer);
  }); // const templateAppId = Meteor.settings.public.templateAppId;
  // console.log('Insert insertTemplateAndDummyCustomers, with templateAppId', templateAppId);
  // TemplateApps.insert({
  //     name: "My first template",
  //     id: templateAppId,
  //     generationUserId: Meteor.userId(),
  //     checked: true
  // });

}

// Template.OEMPartner.onCreated(function() {
//     //see https://guide.meteor.com/data-loading.html
//     const templateAppsHandle = Meteor.subscribe('templateApps');
//     const apiLogsHandle = Meteor.subscribe('apiLogs');
//     const customersHandle = Meteor.subscribe('customers', { //http://stackoverflow.com/questions/28621132/meteor-subscribe-callback
//         onReady: function() {
//             // if (freshEnvironment()) {
//             //     console.log('There is a freshEnvironment');
//             //     insertTemplateAndDummyCustomers()
//             //     Session.setAuth('currentStep', 3);
//             // };
//         },
//         onError: function() { console.log("onError", arguments); }
//     });
// });
Template.OEMPartner.onRendered(function () {
  Template.instance().$('.ui.embed').embed();
});
Template.templateCheckBox.onRendered(function () {
  Template.instance().$('.ui.toggle.checkbox').checkbox();
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"customerOverview.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/customerOverview.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Meteor;
module.watch(require("meteor/meteor"), {
  Meteor: function (v) {
    Meteor = v;
  }
}, 1);
var senseConfig;
module.watch(require("/imports/api/config.js"), {
  senseConfig: function (v) {
    senseConfig = v;
  }
}, 2);
var Apps, TemplateApps, GeneratedResources;
module.watch(require("/imports/api/apps.js"), {
  Apps: function (v) {
    Apps = v;
  },
  TemplateApps: function (v) {
    TemplateApps = v;
  },
  GeneratedResources: function (v) {
    GeneratedResources = v;
  }
}, 3);
var Customers, dummyCustomers;
module.watch(require("/imports/api/customers.js"), {
  Customers: function (v) {
    Customers = v;
  },
  dummyCustomers: function (v) {
    dummyCustomers = v;
  }
}, 4);
module.watch(require("./customerOverview.html"));
Template.customerOverview.helpers({
  NrCustomers: function () {
    return Customers.find().count();
  }
});
Template.customerOverview.onRendered(function () {
  this.$('.ui.accordion').accordion();
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"mainButtons.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/mainButtons.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Meteor;
module.watch(require("meteor/meteor"), {
  Meteor: function (v) {
    Meteor = v;
  }
}, 1);
var senseConfig;
module.watch(require("/imports/api/config.js"), {
  senseConfig: function (v) {
    senseConfig = v;
  }
}, 2);
var Apps, TemplateApps, GeneratedResources;
module.watch(require("/imports/api/apps.js"), {
  Apps: function (v) {
    Apps = v;
  },
  TemplateApps: function (v) {
    TemplateApps = v;
  },
  GeneratedResources: function (v) {
    GeneratedResources = v;
  }
}, 3);
var Customers, dummyCustomers;
module.watch(require("/imports/api/customers.js"), {
  Customers: function (v) {
    Customers = v;
  },
  dummyCustomers: function (v) {
    dummyCustomers = v;
  }
}, 4);
var Streams;
module.watch(require("/imports/api/streams.js"), {
  Streams: function (v) {
    Streams = v;
  }
}, 5);
var APILogs;
module.watch(require("/imports/api/APILogs"), {
  APILogs: function (v) {
    APILogs = v;
  }
}, 6);
module.watch(require("./mainButtons.html"));
Template.mainButtons.events({
  'click .forwardToSSOStep': function () {
    console.log('forward to step 4 sso clicked'); // Session.setAuth('generated?', true);

    Session.setAuth('currentStep', 4);
  },
  'click .backToStep3': function () {
    Session.setAuth('currentStep', 3);
  },
  'click .backToStep2': function () {
    Session.setAuth('currentStep', 2);
  },
  'click .backToStep1': function () {
    Session.setAuth('currentStep', 1);
    Router.go('users');
  },
  'click .oneStepBack': function () {
    Session.setAuth('currentStep', Session.get('currentStep') - 1);
  },
  'click .deleteAllCustomers': function () {
    Meteor.call('removeAllCustomers', function (err, result) {
      if (err) {
        sAlert.error(err);
      } else {// sAlert.success('All customers have been deleted from the local database of the SaaS platform');
      }
    });
  },
  'click .toggleAllCustomers': function () {
    // console.log('deSelect all dummyCustomers clicked');
    _.each(Customers.find({}).fetch(), function (customer) {
      Customers.update(customer._id, {
        $set: {
          checked: !customer.checked
        }
      });
    });
  },
  'click .button.webIntegrationDemo': function (event, template) {
    // Prevent default browser form submit
    event.preventDefault();
    var currentUser = Session.get('currentUser');

    if (!currentUser) {
      sAlert.error('No user, please select a user in the dropdown');
      return;
    } else {
      window.open('http://' + Meteor.settings.public.webIntegrationHost + ':' + Meteor.settings.public.webIntegrationDemoPort + '/hub');
    }
  }
});
Template.mainButtons.onRendered(function () {
  Template.instance().$('.ui.dropdown').dropdown();
  this.$('.resetEnvironment').popup({
    title: 'Reset demo',
    content: 'Delete all apps and streams you have generated.'
  });
  this.$('.button.generateStreamAndApp').popup({
    title: 'Start provisioning',
    content: 'Create the selected apps for each customer.'
  });
});
Template.step2Buttons.onRendered(function () {
  this.$('.backToStep1').popup({
    title: 'Back to step 1',
    content: 'Go back one step, in order to maintain the customers and users.'
  });
});
Template.APIButton.onRendered(function () {
  this.$('.button.ApiLogsTable').popup({
    title: 'API Calls',
    content: 'View the API calls between this demo platform and Qlik Sense.'
  });
});
Template.step3Buttons.onRendered(function () {
  this.$('.backToStep2').popup({
    title: 'Back to step 2',
    content: 'Go back on step, in order to select the template apps.'
  });
  this.$('.forwardToSSOStep').popup({
    title: 'Go to step 4',
    content: 'Go forward one step without generating first, this lets you test the single sign on using the users and their groups.'
  });
});
Template.step4Buttons.helpers({
  userSelected: function () {
    return Session.get('currentUser');
  }
});
Template.step4Buttons.onRendered(function () {
  this.$('.backToStep3').popup({
    title: 'Back to step 3',
    content: 'Go back one step, this enables you to start restart the generation of streams and apps (provisioning).'
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"simulateUserLogin.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/simulateUserLogin.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Meteor;
module.watch(require("meteor/meteor"), {
  Meteor: function (v) {
    Meteor = v;
  }
}, 0);
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 1);
var config;
module.watch(require("/imports/api/config.js"), {
  senseConfig: function (v) {
    config = v;
  }
}, 2);
module.watch(require("./simulateUserLogin.html"));
Template.simulateUserLogin.helpers({
  currentUser: function () {
    return Session.get('currentUser');
  }
});
Template.simulateUserLogin.events({
  'click .selectRole a': function (event, template) {
    var currentUser = event.currentTarget.id;
    Session.set('currentUser', currentUser); // console.log('click event: user made a selection in the simulateUserLogin box, for user: ' + currentUser + ' with Meteor.userId():' + Meteor.userId());

    try {
      Meteor.call('simulateUserLogin', currentUser);
    } catch (err) {
      sAlert.error(err.message);
    }

    template.$(".has-submenu.open").removeClass("open");
  }
});
Template.simulateUserLogin.onRendered(function () {
  console.log('user from session: ', Session.get('currentUser'));
  this.$('.ui.dropdown').dropdown({
    'set selected': 'A'
  });
  this.$('.ui.dropdown').dropdown('refresh');
  this.$('.message').transition('scale in');
  !function () {
    var w = window,
        d = w.document;

    if (w.onfocusin === undefined) {
      d.addEventListener('focus', addPolyfill, true);
      d.addEventListener('blur', addPolyfill, true);
      d.addEventListener('focusin', removePolyfill, true);
      d.addEventListener('focusout', removePolyfill, true);
    }

    function addPolyfill(e) {
      var type = e.type === 'focus' ? 'focusin' : 'focusout';
      var event = new CustomEvent(type, {
        bubbles: true,
        cancelable: false
      });
      event.c1Generated = true;
      e.target.dispatchEvent(event);
    }

    function removePolyfill(e) {
      if (!e.c1Generated) {
        // focus after focusin, so chrome will the first time trigger tow times focusin
        d.removeEventListener('focus', addPolyfill, true);
        d.removeEventListener('blur', addPolyfill, true);
        d.removeEventListener('focusin', removePolyfill, true);
        d.removeEventListener('focusout', removePolyfill, true);
      }

      setTimeout(function () {
        d.removeEventListener('focusin', removePolyfill, true);
        d.removeEventListener('focusout', removePolyfill, true);
      });
    }
  }();

  function hasClass(el, className) {
    if (el.classList) {
      return el.classList.contains(className);
    } else {
      return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);
    }
  }

  var menuItems1 = document.querySelectorAll('#flyoutnavkbfixed li.has-submenu');
  var timer1, timer2;
  Array.prototype.forEach.call(menuItems1, function (el, i) {
    el.addEventListener("mouseover", function (event) {
      this.className = "has-submenu open";
      clearTimeout(timer1);
    });
    el.addEventListener("mouseout", function (event) {
      timer1 = setTimeout(function (event) {
        var opennav = document.querySelector("#flyoutnavkbfixed .has-submenu.open");
        opennav.className = "has-submenu";
        opennav.querySelector('a').setAttribute('aria-expanded', "false");
      }, 1000);
    });
    el.querySelector('a').addEventListener("click", function (event) {
      if (this.parentNode.className == "has-submenu") {
        this.parentNode.className = "has-submenu open";
        this.setAttribute('aria-expanded', "true");
      } else {
        this.parentNode.className = "has-submenu";
        this.setAttribute('aria-expanded', "false");
      }

      event.preventDefault();
    });
    var links = el.querySelectorAll('a');
    Array.prototype.forEach.call(links, function (el, i) {
      el.addEventListener("focus", function () {
        if (timer2) {
          clearTimeout(timer2);
          timer2 = null;
        }
      });
      el.addEventListener("blur", function (event) {
        timer2 = setTimeout(function () {
          var opennav = document.querySelector("#flyoutnavkbfixed .has-submenu.open");

          if (opennav) {
            opennav.className = "has-submenu";
            opennav.querySelector('a').setAttribute('aria-expanded', "false");
          }
        }, 10);
      });
    });
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"step2.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/step2.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Meteor;
module.watch(require("meteor/meteor"), {
  Meteor: function (v) {
    Meteor = v;
  }
}, 1);
var senseConfig;
module.watch(require("/imports/api/config.js"), {
  senseConfig: function (v) {
    senseConfig = v;
  }
}, 2);
var Apps, TemplateApps, GeneratedResources;
module.watch(require("/imports/api/apps.js"), {
  Apps: function (v) {
    Apps = v;
  },
  TemplateApps: function (v) {
    TemplateApps = v;
  },
  GeneratedResources: function (v) {
    GeneratedResources = v;
  }
}, 3);
var Customers, dummyCustomers;
module.watch(require("/imports/api/customers.js"), {
  Customers: function (v) {
    Customers = v;
  },
  dummyCustomers: function (v) {
    dummyCustomers = v;
  }
}, 4);
var Streams;
module.watch(require("/imports/api/streams.js"), {
  Streams: function (v) {
    Streams = v;
  }
}, 5);
var APILogs;
module.watch(require("/imports/api/APILogs"), {
  APILogs: function (v) {
    APILogs = v;
  }
}, 6);
module.watch(require("./step2.html"));
Template.step2.helpers({
  appsInTemplateStream: function () {
    return Apps.find({
      "stream.name": Meteor.settings.public.TemplateAppStreamName
    });
  }
});
Template.step2.onRendered(function () {
  var templateAppsHandle = Meteor.subscribe('templateApps', {
    //http://stackoverflow.com/questions/28621132/meteor-subscribe-callback
    onReady: function () {},
    onError: function () {
      console.log("onError", arguments);
    }
  });
});
Template.templateCheckBox.helpers({
  checked: function () {
    var selectedTemplates = TemplateApps.find().fetch();

    var templateSelected = _.some(selectedTemplates, ['id', this.id]);

    return templateSelected ? 'checked' : '';
  }
});
Template.templateCheckBox.events({
  'change .checkbox.template': function (event, template) {
    var currentApp = this;
    var selector = {
      'generationUserId': Meteor.userId(),
      'id': currentApp.id
    };

    if (event.target.checked) {
      Meteor.call('upsertTemplate', selector, currentApp);
    } else {
      Meteor.call('removeTemplate', selector, currentApp);
    }
  }
});
Template.templateOverview.helpers({
  templateApps: function () {
    return TemplateApps.find();
  },
  NrTemplates: function () {
    return TemplateApps.find().count();
  }
});
Template.templateOverview.events({
  'click .removeTemplateApp': function () {
    TemplateApps.remove(this._id);
  }
});
Template.templateOverview.onRendered(function () {
  this.$('.ui.accordion').accordion();
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"step3.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/step3.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Meteor;
module.watch(require("meteor/meteor"), {
  Meteor: function (v) {
    Meteor = v;
  }
}, 1);
var senseConfig;
module.watch(require("/imports/api/config.js"), {
  senseConfig: function (v) {
    senseConfig = v;
  }
}, 2);
var Apps, TemplateApps, GeneratedResources;
module.watch(require("/imports/api/apps.js"), {
  Apps: function (v) {
    Apps = v;
  },
  TemplateApps: function (v) {
    TemplateApps = v;
  },
  GeneratedResources: function (v) {
    GeneratedResources = v;
  }
}, 3);
var Customers, dummyCustomers;
module.watch(require("/imports/api/customers.js"), {
  Customers: function (v) {
    Customers = v;
  },
  dummyCustomers: function (v) {
    dummyCustomers = v;
  }
}, 4);
var Streams;
module.watch(require("/imports/api/streams.js"), {
  Streams: function (v) {
    Streams = v;
  }
}, 5);
var APILogs;
module.watch(require("/imports/api/APILogs"), {
  APILogs: function (v) {
    APILogs = v;
  }
}, 6);
module.watch(require("./step3.html"));
Template.step3.helpers({
  templateApps: function () {
    return TemplateApps.find();
  }
});
Template.step3.onRendered(function () {
  this.$('.ui.accordion').accordion();
  this.$('.step3').transition('scale in');
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"step4.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/step4.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./step4.html"));
Template.step4.onRendered(function () {
  this.$('.ui.accordion').accordion();
  this.$('.step4').transition('scale in');
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"users.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/OEMPartnerSide/users.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var config;
module.watch(require("/imports/api/config.js"), {
  senseConfig: function (v) {
    config = v;
  }
}, 1);
var ironRouter;
module.watch(require("meteor/iron:router"), {
  ironRouter: function (v) {
    ironRouter = v;
  }
}, 2);
var Apps, TemplateApps;
module.watch(require("/imports/api/apps.js"), {
  Apps: function (v) {
    Apps = v;
  },
  TemplateApps: function (v) {
    TemplateApps = v;
  }
}, 3);
var Customers, dummyCustomers;
module.watch(require("/imports/api/customers.js"), {
  Customers: function (v) {
    Customers = v;
  },
  dummyCustomers: function (v) {
    dummyCustomers = v;
  }
}, 4);
var Streams;
module.watch(require("/imports/api/streams.js"), {
  Streams: function (v) {
    Streams = v;
  }
}, 5);
module.watch(require("/imports/ui/UIHelpers"));
var insertTemplateAndDummyCustomers;
module.watch(require("/imports/ui/generation/OEMPartnerSide/OEMPartner"), {
  insertTemplateAndDummyCustomers: function (v) {
    insertTemplateAndDummyCustomers = v;
  }
}, 6);
module.watch(require("./users.html"));
//http://www.webtempest.com/meteor-js-autoform-tutorial
AutoForm.addHooks(['insertCustomerForm'], {
  onSuccess: function (operation, result, template) {// sAlert.success('We inserted the customer into your local MongoDB.');
    //Router.go("/posts");
  } // before: {
  //     // Replace `formType` with the form `type` attribute to which this hook applies
  //     insert: function(customer) {
  //         // Potentially alter the doc
  //         if (Meteor.userId()) {
  //             customer.generationUserId = Meteor.userId();
  //             customer.checked = true;
  //         }
  //         console.log('insert users add hook', customer);
  //         return customer;
  //     }
  // },

});
SimpleSchema.debug = false;
Template.users.helpers({
  autoSaveMode: function () {
    //return Session.get("autoSaveMode") ? true : false;
    return true;
  },
  isselectedCustomer: function () {
    return Session.equals("selectedCustomerStep1", this._id);
  },
  formType: function () {
    if (Session.get("selectedCustomerStep1")) {
      return "update";
    } else {
      return "disabled";
    }
  },
  showUpdateScreen: function () {
    return Session.get("selectedCustomerStep1");
  },
  ribbon: function () {
    return Session.equals("selectedCustomerStep1", this._id) ? "ui ribbon label" : '';
  },
  active: function () {
    return Session.equals("activeCustomer", this._id) ? "active" : '';
  },
  isChrome: function () {
    //update screen does not work with edge and firefox because of a bug somehwere
    var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
    console.log('user is using Chrome? ', isChrome);
    return isChrome;
  }
});
Template.displayUsers.helpers({
  selectedCustomerDoc: function () {
    // console.log('selectedCustomerStep1 helper doc ', Customers.findOne(Session.get("selectedCustomerStep1")));
    return Customers.findOne(Session.get("selectedCustomerStep1"));
  }
});
Template.updateUserFormStep1.helpers({
  selectedCustomerDoc: function () {
    // console.log('selectedCustomerStep1 helper doc ', Customers.findOne(Session.get("selectedCustomerStep1")));
    return Customers.findOne(Session.get("selectedCustomerStep1"));
  }
});
Template.updateGroupsFormStep1.events({
  'change': function (evt, template) {
    //will give you your data context also
    console.log('form changed');

    try {
      //logout all users before removing all the current customers. This to prevent the screen stays logged in at an old user.
      Meteor.call('resetLoggedInUser');
    } catch (err) {}

    var updatedUser = {
      name: Template.currentData().name,
      group: template.find("[name='group']").value,
      country: template.find("[name='country']").value,
      currentlyLoggedIn: false
    };
    Meteor.call('updateUserForCustomer', updatedUser); // sAlert.success('Groups are updated for ' + updatedUser.name);
  }
});
Template.users.events({
  '.customer-row': function (event, template) {
    console.log('mouseenter event user table'); // var row = event.currentTarget;

    Session.set("activeCustomer", this._id);
  },
  'click .delete': function () {
    try {
      Meteor.call('resetLoggedInUser'); //logout all users before removing all the current customers. This to prevent the screen stays logged in at an old user.
    } catch (err) {//ignore
    }

    Customers.remove(this._id);
    Session.set("selectedCustomerStep1", '');
  },
  'click .backToGeneration': function () {
    console.log('go to step 2 clicked');
    event.preventDefault();
    Session.set('currentStep', 2);
    Router.go('generation_embedded');
  },
  'click .customer-row': function () {
    Session.set("selectedCustomerStep1", this._id);
  },
  'click .insertDummyCustomers': function (event) {
    event.preventDefault();
    insertTemplateAndDummyCustomers();
  },
  'click .insertNewCustomer': function () {
    $('#insertCustomer').modal('show').modal({
      observeChanges: true
    });
    refreshModal();
  }
});

function refreshModal() {
  Meteor.setTimeout(function () {
    refreshModal();
  }, 1);
  return $('#insertCustomer').modal('refresh');
}

Template.insertCustomer.events({
  'click .closeInsertModal': function () {
    $('#insertCustomer').modal('hide');
  }
});
Template.modalRefresher.onRendered(function () {
  $('#insertCustomer').modal('refresh');
});
Template.users.onRendered(function () {
  AutoForm.setDefaultTemplate("semanticUI");
});
Template.updateGroupsFormStep1.onRendered(function () {
  this.$('.ui.dropdown').dropdown(); // setTimeout(function() {
  //     template.$('.ui.dropdown.country')
  //         .dropdown('set text', this.data.country);
  //     template.$('.ui.dropdown.group')
  //         .dropdown('set text', this.data.group);
  //     // console.log('set group box to', updatedUser.group);
  // }, 300)
});
Template.insertCustomer.onRendered(function () {
  this.$('#insertCustomer').modal('refresh');
});
Template.users.onCreated(function () {
  // this.subscribe('customers');
  Session.set('currentStep', 1); //see https://guide.meteor.com/data-loading.html     

  var customersHandle = Meteor.subscribe('customers', {
    //http://stackoverflow.com/questions/28621132/meteor-subscribe-callback
    onReady: function () {},
    onError: function () {
      console.log("onError", arguments);
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"customer.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/customer.html                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.customer.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.customer.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/template.customer.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("customer");
Template["customer"] = new Template("Template.customer", (function() {
  var view = this;
  return HTML.TR("\n        ", HTML.TD("\n            ", HTML.INPUT({
    type: "checkbox",
    checked: function() {
      return Spacebars.mustache(view.lookup("checked"));
    },
    class: "toggle-checked"
  }), " ", Blaze.View("lookup:name", function() {
    return Spacebars.mustache(view.lookup("name"));
  }), "\n        "), HTML.Raw('\n        <td class="delete"><i class="remove circle icon"></i></td>        \n        <td class="generateStream"><i class="video play outline icon"></i></td>\n    '));
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"generation.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/generation.html                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.generation.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.generation.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/template.generation.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("stepsRow");
Template["stepsRow"] = new Template("Template.stepsRow", (function() {
  var view = this;
  return HTML.DIV({
    class: "row"
  }, HTML.Raw('\n    <div class="header">\n      <h3>Steps to finish the demo</h3>\n    </div>\n    '), Spacebars.include(view.lookupTemplate("steps")), "\n  ");
}));

Template.__checkName("generation");
Template["generation"] = new Template("Template.generation", (function() {
  var view = this;
  return [ Spacebars.include(view.lookupTemplate("yourSaasPlatformMenu")), " ", Spacebars.include(view.lookupTemplate("stepsRow")), "\n  ", HTML.DIV({
    class: "row"
  }, "\n    ", HTML.DIV({
    class: "ui stackable two column grid"
  }, "\n      ", HTML.DIV({
    class: "column"
  }, "\n        ", HTML.Raw('<h3 class="ui dividing header">Your Saas Platform: admin panel</h3>'), "\n        ", Spacebars.include(view.lookupTemplate("OEMPartner")), "\n      "), "\n      ", Blaze.If(function() {
    return Spacebars.call(view.lookup("step3or4"));
  }, function() {
    return [ " ", Spacebars.include(view.lookupTemplate("QlikSense")), " " ];
  }), "\n    "), "\n  ") ];
}));

Template.__checkName("QlikSense");
Template["QlikSense"] = new Template("Template.QlikSense", (function() {
  var view = this;
  return HTML.DIV({
    class: "column"
  }, HTML.Raw('\n    <h3 class="ui dividing header">Qlik Sense</h3>\n    '), HTML.DIV({
    class: "ui styled fluid accordion"
  }, "\n      ", HTML.DIV({
    class: "ui"
  }, Spacebars.include(view.lookupTemplate("generationStreams"))), "\n      ", HTML.DIV({
    class: "ui"
  }, Spacebars.include(view.lookupTemplate("generationApps"))), "\n      ", HTML.DIV({
    class: function() {
      return [ "ui ", Blaze.If(function() {
        return Spacebars.call(view.lookup("loading"));
      }, function() {
        return " active ";
      }), " inverted dimmer" ];
    }
  }, "\n        ", HTML.DIV({
    class: "ui indeterminate text loader"
  }, "\n          Your SaaS platform is now managing Qlik Sense via\n          ", HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "ApiLogsTable");
    },
    target: "_blank"
  }, "API calls"), "\n        "), "\n      "), "\n    "), "\n  ");
}));

Template.__checkName("generationStreams");
Template["generationStreams"] = new Template("Template.generationStreams", (function() {
  var view = this;
  return [ HTML.Raw('<div class="ui dimmer">\n    <div class="content">\n      <div class="center">\n        <div class="ui indeterminate text loader">\n          Receiving the Streams from Qlik Sense via the QRS API... <br>\n          \'/qrs/stream/full\'\n        </div>\n      </div>\n    </div>\n  </div>\n  '), HTML.DIV({
    class: "content"
  }, "\n    ", HTML.H4({
    class: "ui header"
  }, "\n      ", HTML.Raw('<img class="ui dropdown mini image" alt="" src="images/stream.png">'), "Received ", Blaze.View("lookup:countStreams", function() {
    return Spacebars.mustache(view.lookup("countStreams"));
  }), " streams via the QRS API\n    "), "\n    ", Blaze._TemplateWith(function() {
    return {
      settings: Spacebars.call(view.lookup("streamSettings"))
    };
  }, function() {
    return Spacebars.include(view.lookupTemplate("reactiveTable"));
  }), "\n  ") ];
}));

Template.__checkName("generationApps");
Template["generationApps"] = new Template("Template.generationApps", (function() {
  var view = this;
  return [ HTML.Raw('<div class="ui dimmer">\n    <div class="content">\n      <div class="center">\n        <div class="ui indeterminate text loader">\n          Receiving the Apps from Qlik Sense via the QRS API... <br>\n          \'/qrs/apps/full\'\n        </div>\n      </div>\n    </div>\n  </div>\n  '), HTML.DIV({
    class: "ui accordion"
  }, "\n    ", HTML.DIV({
    class: function() {
      return [ Blaze.If(function() {
        return Spacebars.call(view.lookup("readyToSelectTemplate"));
      }, function() {
        return "active";
      }), " content" ];
    }
  }, "\n      ", HTML.H4({
    class: "ui header"
  }, "\n        ", HTML.Raw('<img class="ui dropdown mini image" alt="" src="images/app.png">'), "\n        Received ", Blaze.View("lookup:countApps", function() {
    return Spacebars.mustache(view.lookup("countApps"));
  }), " apps via the QRS API\n      "), "\n      ", Blaze._TemplateWith(function() {
    return {
      settings: Spacebars.call(view.lookup("appSettings"))
    };
  }, function() {
    return Spacebars.include(view.lookupTemplate("reactiveTable"));
  }), "\n    "), "\n  ") ];
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"steps.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/steps.html                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.steps.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.steps.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/template.steps.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("steps");
Template["steps"] = new Template("Template.steps", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui ordered fluid steps"
  }, "\n        ", HTML.DIV({
    class: function() {
      return [ Spacebars.mustache(view.lookup("stepStatus"), 1), " step" ];
    }
  }, "\n            ", HTML.Raw('<div class="content">\n                <div class="title">Select Customers</div>\n                <div class="description">Which customers need\n                    <br>access to Qlik Sense apps?</div>\n            </div>'), "\n        "), "\n        ", HTML.DIV({
    class: function() {
      return [ Spacebars.mustache(view.lookup("stepStatus"), 2), " step" ];
    }
  }, "\n            ", HTML.Raw('<div class="content">\n                <div class="title">Select template</div>\n                <div class="description">\n                    Which apps will\n                    <br> you provide your\n                    <br> customers?</div>\n            </div>'), "\n        "), "\n        ", HTML.DIV({
    class: function() {
      return [ Spacebars.mustache(view.lookup("stepStatus"), 3), " step" ];
    }
  }, "\n            ", HTML.Raw('<div class="content">\n                <div class="title">Start provisioning</div>\n                <div class="description">Start setting up Qlik Sense\n                    <br>and create the apps\n                    <br>for each customer.</div>\n            </div>'), "\n        "), "\n        ", HTML.DIV({
    class: function() {
      return [ Spacebars.mustache(view.lookup("stepStatus"), 4), " step" ];
    }
  }, "\n            ", HTML.Raw('<div class="content">\n                <div class="title">Test</div>\n                <div class="description">Test the Single Sign On\n                    <br>with the users and groups\n                    <br>from your platform.</div>\n            </div>'), "\n        "), "\n    ");
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"customer.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/customer.js                                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Customers;
module.watch(require("/imports/api/customers"), {
  Customers: function (v) {
    Customers = v;
  }
}, 1);
module.watch(require("./customer.html"));
Template.customer.events({
  'click .toggle-checked': function () {
    // Set the checked property to the opposite of its current value
    Customers.update(this._id, {
      $set: {
        checked: !this.checked
      }
    });
  },
  'click .delete': function () {
    Customers.remove(this._id);
  },
  'click .generateStream': function () {
    var customerName = this.name;
    Meteor.call('createStream', customerName, function (err, result) {
      if (err) {
        sAlert.error(err);
      } else {
        sAlert.success('Stream created for customer: ' + customerName);
        updateSenseInfo();
      }
    });
  }
} // 'click .copyApp'() {
//   console.log('copyApp clicked');
//   var customer = this; //if you click on a row in the customer template, the current customer is available in this
//   Meteor.call('copyAppSelectedCustomers', function(err, result) {
//     if (err) {
//       sAlert.error(err);
//       console.log(err);
//     } else {
//       console.log('copy app succes', result);
//       sAlert.success('App copied for customer: '+customerName); //, and apps have been published into the customer stream ');
//       updateSenseInfo();
//     }
//   });
// }
);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"generation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/generation.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  updateSenseInfo: function () {
    return updateSenseInfo;
  }
});
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Customers, dummyCustomers;
module.watch(require("/imports/api/customers"), {
  Customers: function (v) {
    Customers = v;
  },
  dummyCustomers: function (v) {
    dummyCustomers = v;
  }
}, 1);
var Session;
module.watch(require("meteor/session"), {
  Session: function (v) {
    Session = v;
  }
}, 2);
var config;
module.watch(require("/imports/api/config"), {
  senseConfig: function (v) {
    config = v;
  }
}, 3);
module.watch(require("/imports/ui/UIHelpers"));
module.watch(require("./generation.html"));
module.watch(require("./steps.js"));
var Apps, TemplateApps, GeneratedResources;
module.watch(require("/imports/api/apps"), {
  Apps: function (v) {
    Apps = v;
  },
  TemplateApps: function (v) {
    TemplateApps = v;
  },
  GeneratedResources: function (v) {
    GeneratedResources = v;
  }
}, 4);
var APILogs;
module.watch(require("/imports/api/APILogs"), {
  APILogs: function (v) {
    APILogs = v;
  }
}, 5);
var Streams;
module.watch(require("/imports/api/streams"), {
  Streams: function (v) {
    Streams = v;
  }
}, 6);
module.watch(require("./customer"));
module.watch(require("./OEMPartnerSide/OEMPartner"));
var moment;
module.watch(require("moment"), {
  "default": function (v) {
    moment = v;
  }
}, 7);
Template.generationApps.helpers({
  countApps: function () {
    return Apps.find().count();
  },
  appSettings: function () {
    // console.log('client generation helper: get app table, the config used to generate the URLs to Sense: ', config);
    return {
      collection: Apps,
      rowsPerPage: 5,
      showFilter: true,
      showColumnToggles: true,
      // fields: ['customer', 'telephone', 'email', 'status', 'itemCount', 'deliveryDate', 'remarks'],
      fields: [{
        key: 'name',
        label: 'App',
        fn: function (value, object, key) {
          if (Session.get('currentStep') === 4 && Session.get('currentUser')) {
            return new Spacebars.SafeString('<a href=http://' + config.host + ':' + config.port + '/' + config.virtualProxyClientUsage + '/sense/app/' + object.id + ' target="_blank">' + value + '</a>');
          } else {
            return object.name;
          }
        }
      }, {
        key: 'id',
        label: 'Guid',
        hidden: true,
        fn: function (value) {
          return new Spacebars.SafeString('<a href=http://' + config.host + ':' + config.port + '/' + config.virtualProxyClientUsage + '/sense/app/' + value + ' target="_blank">' + value + '</a>');
        }
      }, {
        key: 'description',
        label: 'description',
        hidden: true
      }, {
        key: 'modifiedDate',
        label: 'ModifiedDate',
        hidden: true,
        fn: function (value) {
          return moment(value).format('DD-MM-YYYY');
        }
      }, {
        key: 'stream.name',
        label: 'Stream',
        sortOrder: 1,
        fn: function (value, object) {
          return value;
        }
      }, {
        key: 'published',
        label: 'Published',
        hidden: true
      }, {
        key: 'lastReloadTime',
        label: 'Last reload',
        hidden: true,
        fn: function (value) {
          return moment(value).format('MMMM Do YYYY, h:mm:ss a');
        }
      }, {
        key: 'fileSize',
        label: 'File size',
        hidden: true,
        fn: function (value) {
          return value / 1000000;
        }
      }]
    };
  }
});
Template.generationStreams.helpers({
  countStreams: function () {
    return Streams.find().count();
  },
  streamSettings: function () {
    return {
      collection: Streams,
      rowsPerPage: 5,
      showFilter: true,
      showColumnToggles: true,
      fields: [{
        key: 'name',
        label: 'Stream',
        fn: function (value, object, key) {
          if (Session.get('currentStep') === 4 && Session.get('currentUser')) {
            return new Spacebars.SafeString('<a href=http://' + config.host + ':' + config.port + '/' + config.virtualProxyClientUsage + '/hub/stream/' + object.id + ' target="_blank">' + value + '</a>');
          } else {
            return object.name;
          }
        }
      }, // { key: 'id', label: 'Guid' }, 
      {
        key: 'id',
        label: 'Guid',
        hidden: true
      }, {
        key: 'createdDate',
        label: 'Created date',
        hidden: true,
        fn: function (value, object) {
          return moment(value).format('DD-MM-YYYY');
        }
      }]
    };
  }
});
Template.generation.events({
  'click .reactive-table tbody tr': function (event) {
    var currentApp = this;
    console.log(event); // if (event.target.className == "markAsTemplate") {
    //     console.log('markAsTemplate app clicked: ' + currentApp.name);
    //     TemplateApps.upsert(currentApp._id, {
    //         $set: {
    //             name: currentApp.name,
    //             id: currentApp.id,
    //             generationUserId: Meteor.userId(),
    //             checked: !this.checked
    //         },
    //     });
    // }
    //Copy APP

    if (event.target.className === "copyApp") {
      console.log('Copy app clicked: ' + currentApp.name);
      Meteor.call('copyAppSelectedCustomers', currentApp, function (error, result) {
        //contains QVF guid of the current iteration over the apps  
        if (error) {
          sAlert.error(error);
        } else {// sAlert.success("QVF '" + currentApp.name + " copied in Qlik Sense via the QRS API for each of the selected customers");
        }
      }); //method call 
    } //DELETE APP


    if (event.target.className === "deleteApp") {
      console.log('delete app clicked: ' + currentApp.name);
      Meteor.call('deleteApp', this.id, function (error, result) {
        if (error) {
          sAlert.error(error);
          console.log(error);
        } else {
          console.log('app removed'); // sAlert.success("APP " + currentApp.name + " deleted in Qlik Sense via the QRS API");
        }
      }); //method call 
    } //end if delete button is clicked 
    //DELETE Stream


    if (event.target.className == "deleteStream") {
      var currentStream = this;
      console.log('delete stream clicked: ' + currentStream.name);
      Meteor.call('deleteStream', this.id, function (error, result) {
        if (error) {
          sAlert.error(error);
          console.log(error);
        } else {
          console.log('Stream removed'); // sAlert.success('Stream: ' + currentStream.name + " deleted in Qlik Sense via the QRS API");
        }
      }); //method call 
    } //delete stream event target

  } //'click .reactive-table tbody tr        

}); //end Meteor events

var updateSenseInfo = function () {
  Meteor.call('updateLocalSenseCopy');
};

//this code gets executed if the page has been loaded, so a good moment to Connect to Sense a get the most recent apps and streams
Template.generation.onRendered(function () {
  if (!Session.get('currentStep')) {
    Session.set('currentStep', 1);
  }

  updateSenseInfo();
  console.log('generated onRendered: Check if we have a connection to Sense?'); // $('.dimmer')
  //     .dimmer('show');

  Meteor.call('getStreams', function (error, result) {
    if (error) {
      console.error(error);
      Session.set('NoSenseConnection', true);
      sAlert.error("We can't connect to Qlik Sense, is your Sense VM running, all services started?, virtual proxy 'hdr' configured? Did you export the certificates and referred to them in the settings-XYZ.json in your project root? Also check the host/port (Qlik Sense) settings. Make sure you check the problem solving chapters in the installation manual (documentation-generic tab).");
    } else {
      var message = "Connected to Qlik Sense via the REST and websocket APIs. We registered a QRS notification event to ensure this MeteorJs platform automatically updates when Qlik Sense changes."; // console.log(message);
      // sAlert.success(message);

      Session.set('NoSenseConnection', false);
    }
  });
});
Template.QlikSense.onRendered(function () {
  this.$('.ui.accordion').accordion();
});
Template.generation.onCreated(function () {
  //see https://guide.meteor.com/data-loading.html
  this.subscribe('streams');
  this.subscribe('customers');
  var templateAppsHandle = Meteor.subscribe('templateApps');
  var apiLogsHandle = Meteor.subscribe('apiLogs');
  var customersHandle = Meteor.subscribe('customers', {
    //http://stackoverflow.com/questions/28621132/meteor-subscribe-callback
    onReady: function () {},
    onError: function () {
      console.log("onError", arguments);
    }
  });
  var self = this;
  self.autorun(function () {
    self.subscribe('generatedResources', function () {
      // console.log('generatedResources changed, so update the apps subscription');
      Tracker.autorun(function () {
        var generatedAppsFromUser = GeneratedResources.find().map(function (resource) {
          return resource.appId;
        }); // console.log('onCreated generatedResources are: ', generatedAppsFromUser);
        //now get all the apps from Qlik Sense, but filter them so that only the apps are show which the current user has generated

        Meteor.subscribe('apps', generatedAppsFromUser);
      }); //do the same but now for the streams

      Tracker.autorun(function () {
        var generatedStreamsFromUser = GeneratedResources.find().map(function (resource) {
          return resource.streamId;
        });
        Meteor.subscribe('streams', generatedStreamsFromUser);
      });
    });
  });
}); // Template.generationStreams.onRendered(function() {
//     this.$('.title')
//         .popup({
//             title: 'Streams',
//             content: 'Via the QRS API we obtained the list of streams. Streams are a way to group apps that share a common purpose. In our case we give each customer its own stream.',
//             delay: {
//                 show: 1500,
//                 hide: 0
//             }
//         });
// })
// Template.generationApps.onRendered(function() {
//     this.$('.title')
//         .popup({
//             title: 'Apps',
//             content: 'Via the QRS API we obtained the list of apps (dashboards). The app is at the core of Qlik Sense. An app is loaded with data, and the visualizations the app contains allow your customers to explore the data.',
//             delay: {
//                 show: 1500,
//                 hide: 0
//             }
//         });
// })
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"steps.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/generation/steps.js                                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./steps.html"));
var currentStep;
module.watch(require("/imports/ui/UIHelpers"), {
  currentStep: function (v) {
    currentStep = v;
  }
}, 0);
Template.steps.helpers({
  stepStatus: function (stepNr) {
    if (currentStep() === 0 && stepNr === 1) {
      return 'active';
    } else if (currentStep() === stepNr) {
      if (stepNr === 4 && Session.get('currentUser')) {
        return 'completed';
      } else {
        return 'active';
      }
    } else if (stepNr < currentStep()) {
      return 'completed';
    } else {
      return '';
    }
  }
});
Template.steps.onRendered(function () {// this.$('.step')
  //     .popup({
  //         title: 'Demo steps',
  //         content: "If you just started, you can insert some fictitious customers and an app. In Step 3, we will give your customers a private copy of this app.  In Step 4, you can test single sign on and web integration options.",
  //         delay: {
  //             show: 500,
  //             hide: 0
  //         }
  //     });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"useCases":{"SSBI":{"SSBI.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/useCases/SSBI/SSBI.html                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.SSBI.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.SSBI.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/useCases/SSBI/template.SSBI.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("SSBILayout");
Template["SSBILayout"] = new Template("Template.SSBILayout", (function() {
  var view = this;
  return [ Blaze._TemplateWith(function() {
    return "nav";
  }, function() {
    return Spacebars.include(view.lookupTemplate("yield"));
  }), "\n    ", HTML.DIV({
    class: "ui grid",
    style: "margin: 10px"
  }, "\n        ", Spacebars.include(view.lookupTemplate("sAlert")), "\n        ", HTML.DIV({
    class: "four wide column",
    style: "max-width: 400px;"
  }, Blaze._TemplateWith(function() {
    return "aside";
  }, function() {
    return Spacebars.include(view.lookupTemplate("yield"));
  })), "\n        ", HTML.DIV({
    class: "twelve wide column"
  }, Spacebars.include(view.lookupTemplate("yield"))), "\n    ") ];
}));

Template.__checkName("SSBISenseApp");
Template["SSBISenseApp"] = new Template("Template.SSBISenseApp", (function() {
  var view = this;
  return Blaze.If(function() {
    return Spacebars.call(view.lookup("show"));
  }, function() {
    return [ " ", Spacebars.include(view.lookupTemplate("SSBISenseIFrame")), " " ];
  });
}));

Template.__checkName("SSBISenseIFrame");
Template["SSBISenseIFrame"] = new Template("Template.SSBISenseIFrame", (function() {
  var view = this;
  return HTML.DIV({
    class: "IFrameSense"
  }, "\n        ", HTML.IFRAME({
    class: "SSBIIFrame",
    src: function() {
      return Spacebars.mustache(view.lookup("appURL"));
    }
  }), "\n    ");
}));

Template.__checkName("SSBIUsers");
Template["SSBIUsers"] = new Template("Template.SSBIUsers", (function() {
  var view = this;
  return [ HTML.H4({
    class: "ui dividing header",
    style: "position: relative;\n    left: -13px; margin-top: 20px;"
  }, "Users: ", Blaze.View("lookup:currentUser", function() {
    return Spacebars.mustache(view.lookup("currentUser"));
  })), "\n    ", HTML.DIV({
    class: "ui  grid userList"
  }, "\n        ", HTML.DIV({
    class: "ui text loader"
  }, "Logging in ", Blaze.View("lookup:user", function() {
    return Spacebars.mustache(view.lookup("user"));
  }), "..."), "\n        ", Spacebars.include(view.lookupTemplate("userCards")), "\n        ", Blaze.If(function() {
    return Spacebars.call(view.lookup("showSenseButtons"));
  }, function() {
    return [ "\n        ", HTML.DIV({
      class: "ui row"
    }, "\n        ", Spacebars.include(view.lookupTemplate("senseButtons")), "\n    "), "\n        " ];
  }), "\n    "), "\n    ", Spacebars.include(view.lookupTemplate("modalSSBI")), HTML.Raw('\n    <h4 class="ui dividing header">What are we trying to demonstrate here?</h4>\n\n    '), HTML.DIV({
    class: "ui message"
  }, "\n        ", HTML.Raw('<i class="unlock alternate icon"></i>'), '\n        Here we demonstrate the effect of applying different access rights (derived\n        from your platform) for some fictitious\n        users. Qlik on a user to automatically login into Qlik Sense "as this user". John can analyse data in predefined sheets and apps. He can only see\n        Germany. Linda can create her own sheets in predefined apps. She can only see\n        USA. Paul can maintain apps and sheets of his own department in the Qlik\n        Management Console (QMC). Martin can create his own sheets and apps and can display all countries. ', HTML.Raw("<br>"), HTML.Raw("<br>"), "\n        ", HTML.Raw('<!-- <div class="ui accordion"> -->'), "\n            ", HTML.Raw('<!-- <div class="title">\n                <i class="dropdown icon"></i>Read more...\n            </div> -->'), "\n            ", HTML.DIV({
    class: "content"
  }, "\n                ", HTML.Raw('<h5 class="ui dividing header">Resource restriction</h5>'), "\n                ", HTML.P("The main goal is to show you how you can create a solid governed\n                    ", HTML.Raw('<a href="#" class="selfservice">self service</a>'), " (segregation of duties) concept to prevent\n                    unrealiable reporting. A key control here is\n                    the use of an approval workflow before content is made available to all users (of a department).\n                    Example\n                    ", HTML.A({
    target: "_blank",
    href: function() {
      return Spacebars.mustache(view.lookup("doc_sec_function_task_matrix"));
    }
  }, "functions and tasks"), " to segregate\n                    using the\n                    ", HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "securityRules");
    },
    target: "_blank",
    class: "item"
  }, "security rules"), " are:\n                ", HTML.Raw("<ul>\n                    <li>analyze (display) apps</li>\n                    <li>create own sheets</li>\n                    <li>create own apps</li>\n                    <li>publish into stream/community</li>\n                    <li>maintain the Qlik management console (QMC)</li>\n                </ul>"), "\n                "), "\n                ", HTML.Raw('<h5 class="ui dividing header">Data restriction (row/column level security)</h5>'), "\n                ", HTML.Raw("<p>You’ll see a simple solution in our demonstration where both of our fictitious users, Linda and John,\n                    go to the\n                    same website, but see different things based on their authorizations. Qlik Sense makes this possible\n                    because\n                    it uses a dynamic, attribute-based security approach in which we re-use all the pre-existing users\n                    and roles\n                    from your SaaS platform or any other user provider like Windows AD or SAML. This ensures Qlik Sense\n                    stays\n                    in sync automatically and avoids the overhead of double maintenance.</p>"), "\n                ", HTML.Raw('<h5 class="ui dividing header">Single Sign On via ticket exchange</h5>'), "\n                ", HTML.P(HTML.Raw("We forward the identity of the user from your SaaS platform to Qlik Sense via a ticket. A ticket\n                    contains the\n                    userId and his auhtorizations (groups). These groups can be used to restrict resources as well as\n                    data (rows\n                    &amp; columns). Try to switch a user and see the ticket request in the\n                    "), HTML.A({
    target: "",
    href: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "ApiLogsTable");
    }
  }, "API Logs"), "."), "\n                ", HTML.Raw("<p></p>"), "\n                ", HTML.Raw('<img class="ui small image" alt="" data-action="zoom" src="images/flow - ticketing authentication for dummies.png" style="margin:20px">'), "\n                ", HTML.Raw("<p></p>"), "\n                ", HTML.Raw('<h5 class="ui dividing header">Integrated authorization overview</h5>'), "\n                ", HTML.Raw("<!-- <p>  -->"), "\n                ", HTML.Raw('<img class="ui small image" alt="" data-action="zoom" src="images/securityOverview.png" style="margin:20px">'), "\n                ", HTML.Raw("<!-- </p> -->"), "\n            "), "\n        ", HTML.Raw("<!-- </div> -->"), "\n    ") ];
}));

Template.__checkName("senseButtons");
Template["senseButtons"] = new Template("Template.senseButtons", (function() {
  var view = this;
  return HTML.Raw('<h4 class="ui dividing header">Select Qlik Sense page</h4>\n    <div class="ui blue button box-content" style="margin-bottom: 129px;">\n        <nav role="presentation" aria-label="Main Navigation" class="" id="flyoutnavkbfixed">\n            <ul>\n                <li class="has-submenu">\n                    <a href="#flyoutnavkbfixed" aria-expanded="false" aria-haspopup="true" id="bodyDropdown">Which page do you want to embed?</a>\n                    <ul class="selectRole">\n                        <!-- <li><a class="hub" href="#" >Hub</a></li> -->\n                        <li><a href="#" class="sheet">App</a></li>\n                        <li><a href="#" class="app">Sheet</a></li>\n                        <li><a href="#" class="QMC">QMC</a></li>\n                    </ul>\n                </li>\n            </ul>\n        </nav>\n    </div>\n<!-- \n    <ul role="menubar" aria-label="functions" id="appmenu">\n        <li class="hub" role="menuitem"> <a href="">Hub</a> </li>\n        <li class="sheet" role="menuitem"><a href="">App</a> </li>\n        <li class="app" role="menuitem"><a href="">Sheet</a></li>\n        <li class="QMC" role="menuitem"><a href="">QMC</a></li>\n    </ul> -->');
}));

Template.__checkName("userCards");
Template["userCards"] = new Template("Template.userCards", (function() {
  var view = this;
  return HTML.Raw('<div class="ui blue button box-content" style="margin-bottom: 129px; margin-top: 12px;">\n        <nav role="presentation" aria-label="Main Navigation" class="" id="flyoutnavkbfixed">\n            <ul>\n                <li class="has-submenu">\n                    <a href="#flyoutnavkbfixed" aria-expanded="false" aria-haspopup="true" id="bodyDropdown">Select your user</a>\n                    <ul class="selectRole">\n                        <li><a class="consumer" href="#">John - Consumer - Germany</a></li>\n                        <li><a href="#" class="contributor">Linda - Contributor - US</a></li>\n                        <li><a href="#" class="developer">Martin - Developer - Everything</a></li>\n                        <li><a href="#" class="admin">Paul - Admin</a></li>\n                    </ul>\n                </li>\n            </ul>\n        </nav>\n    </div>');
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"SSBI.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/useCases/SSBI/SSBI.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Customers, dummyCustomers;
module.watch(require("/imports/api/customers"), {
  Customers: function (v) {
    Customers = v;
  },
  dummyCustomers: function (v) {
    dummyCustomers = v;
  }
}, 1);
var Session;
module.watch(require("meteor/session"), {
  Session: function (v) {
    Session = v;
  }
}, 2);
var senseConfig;
module.watch(require("/imports/api/config"), {
  senseConfig: function (v) {
    senseConfig = v;
  }
}, 3);
module.watch(require("/imports/ui/UIHelpers"));

var _;

module.watch(require("meteor/underscore"), {
  "default": function (v) {
    _ = v;
  }
}, 4);
var Cookies;
module.watch(require("js-cookie"), {
  "default": function (v) {
    Cookies = v;
  }
}, 5);
var insertTemplateAndDummyCustomers;
module.watch(require("/imports/ui/generation/OEMPartnerSide/OEMPartner"), {
  insertTemplateAndDummyCustomers: function (v) {
    insertTemplateAndDummyCustomers = v;
  }
}, 6);
module.watch(require("./SSBI.html"));
var server,
    QMCUrl,
    hubUrl,
    sheetUrl,
    appUrl = "";
Template.SSBISenseApp.helpers({
  show: function () {
    return Session.get("currentUser") && !Session.equals("loadingIndicator", "loading") ? "Yes" : null;
  }
});
Template.SSBIUsers.onCreated(function () {
  Session.set("loadingIndicator", "");
  Session.set("currentUser", null);
  server = senseConfig.host;

  if (Meteor.settings.public.useSSL) {
    server = "https://" + server;
  } else {
    server = "http://" + server;
  }

  var appId = Meteor.settings.public.SSBI.appId;
  console.log("server", server);
  QMCUrl = server + "/console";
  hubUrl = server + "/hub";
  sheetUrl = server + "/sense/app/" + appId;
  console.log("sheetUrl", sheetUrl);
  appUrl = server + "/sense/app/" + appId + "/sheet/" + Meteor.settings.public.SSBI.sheetId + "/state/analysis";
  console.log("SSBIApp URL", appUrl);
});
Template.SSBISenseIFrame.onRendered(function () {
  this.$(".IFrameSense").transition("slide in right");
});
Template.SSBISenseIFrame.helpers({
  appURL: function () {
    // console.log('SSBISenseIFrame helper: de app url is: ', Session.get('appUrl'));
    return Session.get("IFrameUrl");
  }
});
Template.SSBIUsers.helpers({
  currentUser: function () {
    if (Session.get("currentUser")) {
      return "(" + Session.get("currentUser") + " currently logged in)";
    }
  },
  user: function () {
    return Session.get("currentUser");
  },
  showSenseButtons: function () {
    return Session.get("currentUser") && !Session.equals("loadingIndicator", "loading") ? "Yes" : null;
  }
});
Template.SSBIUsers.events({
  "click .consumer": function () {
    var passport = {
      UserId: "John",
      Groups: ["CONSUMER", "UNITED STATES"]
    };
    login(passport);
  },
  "click .contributor": function () {
    var passport = {
      UserId: "Linda",
      Groups: ["CONTRIBUTOR", "UNITED STATES"]
    };
    login(passport);
  },
  "click .developer": function () {
    var passport = {
      UserId: "Martin",
      Groups: ["DEVELOPER"]
    };
    login(passport);
  },
  "click .admin": function (e, t) {
    var passport = {
      UserId: "Paul",
      Groups: ["CONTRIBUTOR", "UNITED STATES"]
    };
    login(passport);
  },
  "click .selfservice ": function () {
    $(".ui.modal.SSBI").modal("show").modal("refresh").modal("refresh");
  },
  "click .hub ": function () {
    Session.set("IFrameUrl", hubUrl);
  },
  "click .sheet ": function () {
    Session.set("IFrameUrl", sheetUrl);
  },
  "click .app ": function () {
    Session.set("IFrameUrl", appUrl);
  },
  "click .QMC ": function () {
    Session.set("IFrameUrl", QMCUrl);
  }
});
Template.SSBIUsers.onCreated(function () {
  Session.set("appUrl", appUrl);
});
Template.SSBIUsers.onRendered(function () {
  this.$(".ui.accordion").accordion();
});

function login(passport) {
  return _regenerator.default.async(function () {
    function login$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            console.log("🚀 ~ file: SSBI.js:136 ~ login ~ passport:", passport);

            try {
              //logout the current user in the browser by replacing the iframe url to tenant/logout
              console.log("DELETE COOKIE FROM BROWSER by replacing the iframe url to /logout");
              Session.set("currentUser", passport.UserId);
              Session.set("IFrameUrl", "https://" + senseConfig.host + "/logout");
              Meteor.call("getJWTToken", passport, function () {
                function _callee(error, token) {
                  var URLtoOpen;
                  return _regenerator.default.async(function () {
                    function _callee$(_context) {
                      while (1) {
                        switch (_context.prev = _context.next) {
                          case 0:
                            if (!error) {
                              _context.next = 4;
                              break;
                            }

                            console.error("Error getJWTToken", error);
                            _context.next = 13;
                            break;

                          case 4:
                            console.log("🚀 ~ file: SSBI.js:151 ~ login ~ token:", token);
                            URLtoOpen = Session.get("appUrl");
                            console.log("------------------------------------");
                            console.log("requesting JWT at Qlik cloud JWT IdP  with passport: " + JSON.stringify(passport));
                            console.log("------------------------------------");
                            console.log("login: the url to open is: ", URLtoOpen);
                            _context.next = 12;
                            return _regenerator.default.awrap(jwtLogin(token));

                          case 12:
                            Session.set("IFrameUrl", URLtoOpen);

                          case 13:
                          case "end":
                            return _context.stop();
                        }
                      }
                    }

                    return _callee$;
                  }(), null, this);
                }

                return _callee;
              }());
            } catch (err) {
              console.error(err);
              sAlert.error("Login error", err.message);
            }

          case 2:
          case "end":
            return _context2.stop();
        }
      }
    }

    return login$;
  }(), null, this);
}

function qlikLogin() {
  var tokenRes, loginRes, message, recheckLoggedIn, _message;

  return _regenerator.default.async(function () {
    function qlikLogin$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.t0 = _regenerator.default;
            _context3.next = 3;
            return _regenerator.default.awrap(getJWTToken(JWTENDPOINT));

          case 3:
            _context3.t1 = _context3.sent.json();
            _context3.next = 6;
            return _context3.t0.awrap.call(_context3.t0, _context3.t1);

          case 6:
            tokenRes = _context3.sent;
            _context3.next = 9;
            return _regenerator.default.awrap(jwtLogin(tokenRes.token));

          case 9:
            loginRes = _context3.sent;
            console.log("🚀 ~ file: index.html:46 ~ qlikLogin ~ login result status", loginRes);

            if (!(loginRes.status != 200)) {
              _context3.next = 15;
              break;
            }

            message = "Something went wrong while logging in.";
            alert(message);
            throw new Error(message);

          case 15:
            _context3.next = 17;
            return _regenerator.default.awrap(checkLoggedIn());

          case 17:
            recheckLoggedIn = _context3.sent;

            if (!(recheckLoggedIn.status !== 200)) {
              _context3.next = 22;
              break;
            }

            _message = "Third-party cookies are not enabled in your browser settings and/or browser mode.";
            alert(_message);
            throw new Error(_message);

          case 22:
            console.log("Logged in!", loginRes);
            return _context3.abrupt("return", true);

          case 24:
          case "end":
            return _context3.stop();
        }
      }
    }

    return qlikLogin$;
  }(), null, this);
}

function jwtLogin(token) {
  var authHeader;
  return _regenerator.default.async(function () {
    function jwtLogin$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            console.log("\uD83D\uDE80 ~ file: SSBI.js:196 ~ Now using the token received from the server to make a client side call to  https://" + Meteor.settings.public.tenantDomain + "/login/jwt-session?qlik-web-integration-id=" + Meteor.settings.public.qlikWebIntegrationId + " with jwtLogin ~ token:", token);
            authHeader = "Bearer " + token;
            _context4.next = 4;
            return _regenerator.default.awrap(fetch("https://" + Meteor.settings.public.tenantDomain + "/login/jwt-session?qlik-web-integration-id=" + Meteor.settings.public.qlikWebIntegrationId, {
              credentials: "include",
              mode: "cors",
              method: "POST",
              headers: {
                Authorization: authHeader,
                "qlik-web-integration-id": Meteor.settings.public.qlikWebIntegrationId
              }
            }));

          case 4:
            return _context4.abrupt("return", _context4.sent);

          case 5:
          case "end":
            return _context4.stop();
        }
      }
    }

    return jwtLogin$;
  }(), null, this);
}

function checkLoggedIn() {
  return _regenerator.default.async(function () {
    function checkLoggedIn$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            _context5.next = 2;
            return _regenerator.default.awrap(fetch("https://" + Meteor.settings.public.tenantDomain + "/api/v1/users/me", {
              mode: "cors",
              credentials: "include",
              headers: {
                "qlik-web-integration-id": Meteor.settings.public.qlikWebIntegrationId
              }
            }));

          case 2:
            return _context5.abrupt("return", _context5.sent);

          case 3:
          case "end":
            return _context5.stop();
        }
      }
    }

    return checkLoggedIn$;
  }(), null, this);
}

Template.userCards.onRendered(function () {
  this.$(".dimmable.image").dimmer({
    on: "hover"
  });
  this.$(".column").transition("scale in");
  this.$("#flyoutnavkbfixed").focus();
  !function () {
    var w = window,
        d = w.document;

    if (w.onfocusin === undefined) {
      d.addEventListener("focus", addPolyfill, true);
      d.addEventListener("blur", addPolyfill, true);
      d.addEventListener("focusin", removePolyfill, true);
      d.addEventListener("focusout", removePolyfill, true);
    }

    function addPolyfill(e) {
      var type = e.type === "focus" ? "focusin" : "focusout";
      var event = new CustomEvent(type, {
        bubbles: true,
        cancelable: false
      });
      event.c1Generated = true;
      e.target.dispatchEvent(event);
    }

    function removePolyfill(e) {
      if (!e.c1Generated) {
        // focus after focusin, so chrome will the first time trigger tow times focusin
        d.removeEventListener("focus", addPolyfill, true);
        d.removeEventListener("blur", addPolyfill, true);
        d.removeEventListener("focusin", removePolyfill, true);
        d.removeEventListener("focusout", removePolyfill, true);
      }

      setTimeout(function () {
        d.removeEventListener("focusin", removePolyfill, true);
        d.removeEventListener("focusout", removePolyfill, true);
      });
    }
  }();

  function hasClass(el, className) {
    if (el.classList) {
      return el.classList.contains(className);
    } else {
      return new RegExp("(^| )" + className + "( |$)", "gi").test(el.className);
    }
  }

  var menuItems1 = document.querySelectorAll("#flyoutnavkbfixed li.has-submenu");
  var timer1, timer2;
  Array.prototype.forEach.call(menuItems1, function (el, i) {
    el.addEventListener("mouseover", function (event) {
      this.className = "has-submenu open";
      clearTimeout(timer1);
    });
    el.addEventListener("mouseout", function (event) {
      timer1 = setTimeout(function (event) {
        var opennav = document.querySelector("#flyoutnavkbfixed .has-submenu.open");
        opennav.className = "has-submenu";
        opennav.querySelector("a").setAttribute("aria-expanded", "false");
      }, 1000);
    });
    el.querySelector("a").addEventListener("click", function (event) {
      if (this.parentNode.className == "has-submenu") {
        this.parentNode.className = "has-submenu open";
        this.setAttribute("aria-expanded", "true");
      } else {
        this.parentNode.className = "has-submenu";
        this.setAttribute("aria-expanded", "false");
      }

      event.preventDefault();
    });
    var links = el.querySelectorAll("a");
    Array.prototype.forEach.call(links, function (el, i) {
      el.addEventListener("focus", function () {
        if (timer2) {
          clearTimeout(timer2);
          timer2 = null;
        }
      });
      el.addEventListener("blur", function (event) {
        timer2 = setTimeout(function () {
          var opennav = document.querySelector("#flyoutnavkbfixed .has-submenu.open");

          if (opennav) {
            opennav.className = "has-submenu";
            opennav.querySelector("a").setAttribute("aria-expanded", "false");
          }
        }, 10);
      });
    });
  });
});
Template.senseButtons.onRendered(function () {
  this.$(".SenseIframe").transition("swing up");
  !function () {
    var w = window,
        d = w.document;

    if (w.onfocusin === undefined) {
      d.addEventListener("focus", addPolyfill, true);
      d.addEventListener("blur", addPolyfill, true);
      d.addEventListener("focusin", removePolyfill, true);
      d.addEventListener("focusout", removePolyfill, true);
    }

    function addPolyfill(e) {
      var type = e.type === "focus" ? "focusin" : "focusout";
      var event = new CustomEvent(type, {
        bubbles: true,
        cancelable: false
      });
      event.c1Generated = true;
      e.target.dispatchEvent(event);
    }

    function removePolyfill(e) {
      if (!e.c1Generated) {
        // focus after focusin, so chrome will the first time trigger tow times focusin
        d.removeEventListener("focus", addPolyfill, true);
        d.removeEventListener("blur", addPolyfill, true);
        d.removeEventListener("focusin", removePolyfill, true);
        d.removeEventListener("focusout", removePolyfill, true);
      }

      setTimeout(function () {
        d.removeEventListener("focusin", removePolyfill, true);
        d.removeEventListener("focusout", removePolyfill, true);
      });
    }
  }();

  function hasClass(el, className) {
    if (el.classList) {
      return el.classList.contains(className);
    } else {
      return new RegExp("(^| )" + className + "( |$)", "gi").test(el.className);
    }
  }

  var menuItems1 = document.querySelectorAll("#flyoutnavkbfixed li.has-submenu");
  var timer1, timer2;
  Array.prototype.forEach.call(menuItems1, function (el, i) {
    el.addEventListener("mouseover", function (event) {
      this.className = "has-submenu open";
      clearTimeout(timer1);
    });
    el.addEventListener("mouseout", function (event) {
      timer1 = setTimeout(function (event) {
        var opennav = document.querySelector("#flyoutnavkbfixed .has-submenu.open");
        opennav.className = "has-submenu";
        opennav.querySelector("a").setAttribute("aria-expanded", "false");
      }, 1000);
    });
    el.querySelector("a").addEventListener("click", function (event) {
      if (this.parentNode.className == "has-submenu") {
        this.parentNode.className = "has-submenu open";
        this.setAttribute("aria-expanded", "true");
      } else {
        this.parentNode.className = "has-submenu";
        this.setAttribute("aria-expanded", "false");
      }

      event.preventDefault();
    });
    var links = el.querySelectorAll("a");
    Array.prototype.forEach.call(links, function (el, i) {
      el.addEventListener("focus", function () {
        if (timer2) {
          clearTimeout(timer2);
          timer2 = null;
        }
      });
      el.addEventListener("blur", function (event) {
        timer2 = setTimeout(function () {
          var opennav = document.querySelector("#flyoutnavkbfixed .has-submenu.open");

          if (opennav) {
            opennav.className = "has-submenu";
            opennav.querySelector("a").setAttribute("aria-expanded", "false");
          }
        }, 10);
      });
    });
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"useCaseSelection.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/useCases/useCaseSelection.html                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.useCaseSelection.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.useCaseSelection.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/useCases/template.useCaseSelection.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("useCaseSelection");
Template["useCaseSelection"] = new Template("Template.useCaseSelection", (function() {
  var view = this;
  return HTML.Raw('<div class="ui grid">\n        <div class="two column row" style="margin-bottom: 115px;">\n            <div class="column">\n              \n                    <h1 style="    font-size: 1.5rem;">QLIK CLOUD INTEGRATION</h1>\n                    <p class="present">Have embedding questions? Want to learn more about our embedding approaches, technology and\n                        relevant\n                        use\n                        cases? We have answers – explore further.</p>\n                    <p>Map your road to embedding analytics success here. Select your integration use case below to start your journey</p>\n                    \n            </div>\n            <div class="column">\n                <div class="ui fluid rounded image">    \n                    <img alt="" src="https://www.qlik.com/us/-/media/42c726c85e6d45678aa9e7ad2f58fe8f.ashx">\n                </div>\n            </div>\n        </div>\n        <div class="three column row" style="margin-bottom: 50px; left: 8px;">\n            <div class="ui three blue buttons">\n                <button class="ui active button " id="SAAS" tabindex="0">Qlik Cloud</button>\n                <div class="or"></div>\n                <button class="ui button " id="CM">Client Managed</button>\n                <div class="or"></div>\n                <button class="ui button selectRole" id="CM2SAAS">Client Managed to Qlik Cloud</button>\n              </div>\n           \n            <div class="column">\n                <p></p>\n            </div>\n            <div class="column">\n                <p></p>\n            </div>\n        </div>\n    </div>');
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"useCaseSelection.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/useCases/useCaseSelection.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

module.export({
  initQlikSense: function () {
    return initQlikSense;
  },
  getSlideGenApp: function () {
    return getSlideGenApp;
  },
  getAllSlideHeaders: function () {
    return getAllSlideHeaders;
  },
  getSubjectArea: function () {
    return getSubjectArea;
  },
  getLevel2: function () {
    return getLevel2;
  },
  getLevel1: function () {
    return getLevel1;
  },
  getAllSlideHeadersPlain: function () {
    return getAllSlideHeadersPlain;
  },
  getAllSlides: function () {
    return getAllSlides;
  },
  getComment: function () {
    return getComment;
  },
  setChangeListener: function () {
    return setChangeListener;
  }
});
module.watch(require("/imports/ui/useCases/useCaseSelection.html"));
module.watch(require("/imports/ui/slideGenerator/slides.html"));
module.watch(require("/imports/ui/slideGenerator/slides"));
module.watch(require("/imports/ui/slideGenerator/slides.css"));
var nav;
module.watch(require("/imports/ui/nav.js"), {
  "*": function (v) {
    nav = v;
  }
}, 0);
var SenseSelections;
module.watch(require("/imports/api/logger"), {
  SenseSelections: function (v) {
    SenseSelections = v;
  }
}, 1);
module.watch(require("./SSBI/SSBI.js"));
var Session;
module.watch(require("meteor/session"), {
  Session: function (v) {
    Session = v;
  }
}, 2);
var config;
module.watch(require("/imports/api/config.js"), {
  senseConfig: function (v) {
    config = v;
  }
}, 3);
console.log("🚀 ~ file: useCaseSelection.js:10 ~ config:", config);

var schema = require("enigma.js/schemas/3.2.json"); // import {
//     APILogs,
//     REST_Log
// } from '/imports/api/APILogs';


var enigma = require("enigma.js"); // const schema = require("enigma.js/schemas/12.20.0.json");


var Cookies = require("js-cookie");

var Reveal = require("reveal.js");

var qix = null;
var possibleRoles = ["Developer", "Hosting Ops", "Business Analyst", "CTO", "C-Level - non-technical"];

function initQlikSense() {
  return _regenerator.default.async(function () {
    function initQlikSense$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return _regenerator.default.awrap(makeSureSenseIsConnected());

          case 2:
            qix = _context.sent;
            _context.next = 5;
            return _regenerator.default.awrap(setChangeListener(qix));

          case 5:
          case "end":
            return _context.stop();
        }
      }
    }

    return initQlikSense$;
  }(), null, this);
}

function makeSureSenseIsConnected() {
  return _regenerator.default.async(function () {
    function makeSureSenseIsConnected$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.t0 = _regenerator.default;
            _context2.t1 = getSlideGenApp;
            _context2.next = 4;
            return _regenerator.default.awrap(getTicket());

          case 4:
            _context2.t2 = _context2.sent;
            _context2.t3 = (0, _context2.t1)(_context2.t2);
            _context2.next = 8;
            return _context2.t0.awrap.call(_context2.t0, _context2.t3);

          case 8:
            return _context2.abrupt("return", _context2.sent);

          case 9:
          case "end":
            return _context2.stop();
        }
      }
    }

    return makeSureSenseIsConnected$;
  }(), null, this);
}

function getSlideGenApp(ticket) {
  var ticketUrl, engineConfig, session, _possibleEnigmaErr, global, doc;

  return _regenerator.default.async(function () {
    function getSlideGenApp$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            ticketUrl = ticket ? "?QlikTicket=" + ticket : "";
            engineConfig = {
              schema: schema,
              url: (config.useSSL ? "wss" : "ws") + "://" + config.host + ":" + (config.useSSL ? Meteor.settings.public.qlikSensePortSecure : Meteor.settings.public.qlikSensePort) + "/" + Meteor.settings.public.slideGenerator.virtualProxy + "/app/" + config.slideGeneratorAppId + ticketUrl
            };
            _context4.prev = 2;
            // create a new session:
            session = enigma.create(engineConfig); // console.log(`Connecting to ${session.config.url}`);
            //https://github.com/qlik-oss/enigma.js/blob/master/examples/basics/events/session.js
            // bind traffic events to log what is sent and received on the socket:
            // session.on("traffic:sent", (data) => console.log("sent:", data));
            // session.on("traffic:received", (data) => console.log("received:", data));
            // Catch possible errors sent on WebSocket

            session.on("traffic:received", function (res) {
              if (res.params && res.params.severity === "fatal") {
                _possibleEnigmaErr = res.params.message;
              }
            });
            session.on('traffic:received', function () {
              function _callee(data) {
                return _regenerator.default.async(function () {
                  function _callee$(_context3) {
                    while (1) {
                      switch (_context3.prev = _context3.next) {
                        case 0:
                          if (data.method === 'OnAuthenticationInformation' && data.params.mustAuthenticate === true) {
                            console.error('User is not authenticated... Redirect to root URL');
                            window.location.href = window.location.origin;
                          }

                        case 1:
                        case "end":
                          return _context3.stop();
                      }
                    }
                  }

                  return _callee$;
                }(), null, this);
              }

              return _callee;
            }());
            session.on('notification:*', function (name) {
              return console.log("Session: Notification event: " + name);
            }); // open the socket and eventually receive the QIX global API, and then close
            // the session:

            _context4.prev = 7;
            _context4.next = 10;
            return _regenerator.default.awrap(session.open());

          case 10:
            global = _context4.sent;
            _context4.next = 16;
            break;

          case 13:
            _context4.prev = 13;
            _context4.t0 = _context4["catch"](7);
            console.log("Error getting the global connection", _context4.t0);

          case 16:
            _context4.prev = 16;
            _context4.next = 19;
            return _regenerator.default.awrap(global.openDoc(config.slideGeneratorAppId));

          case 19:
            doc = _context4.sent;
            console.log("********** User is authenticated and connected to the app, Session: Document id: " + doc.id);
            return _context4.abrupt("return", doc);

          case 24:
            _context4.prev = 24;
            _context4.t1 = _context4["catch"](16);
            console.error("🚀 ~ file: useCaseSelection.js:68 ~ error:", _context4.t1);

          case 27:
            _context4.next = 33;
            break;

          case 29:
            _context4.prev = 29;
            _context4.t2 = _context4["catch"](2);

            if (_context4.t2.enigmaError) {
              console.error("Enigma error:", possibleEnigmaErr || _context4.t2);
            } else {
              console.error("Qlik Sense Qix error, cannot make a websocket connection from the browser to Sense. ", _context4.t2);
            }

            sAlert.error(_context4.t2.message); // window.location.href = window.location.origin;

          case 33:
          case "end":
            return _context4.stop();
        }
      }
    }

    return getSlideGenApp$;
  }(), null, this, [[2, 29], [7, 13], [16, 24]]);
}

//make sure you go to the first slide when we have new slide data
Tracker.autorun(function () {
  Session.get("slideHeaders");
  Meteor.setTimeout(function () {
    try {
      Reveal.slide(0);
    } catch (error) {}
  }, 500);
}); // ONRENDERED.

Template.useCaseSelection.onRendered(function () {
  function _callee2() {
    var textToShow, hasClass, menuItems1, timer1, timer2;
    return _regenerator.default.async(function () {
      function _callee2$(_context5) {
        while (1) {
          switch (_context5.prev = _context5.next) {
            case 0:
              hasClass = function () {
                function _ref(el, className) {
                  if (el.classList) {
                    return el.classList.contains(className);
                  } else {
                    return new RegExp("(^| )" + className + "( |$)", "gi").test(el.className);
                  }
                }

                return _ref;
              }();

              Session.set("showSelector", false);
              this.$("#flyoutnavkbfixed").focus();
              $(".ui.dropdown").dropdown("refresh");
              textToShow = Cookies.get("currentMainRole") ? Cookies.get("currentMainRole") : "Your role?";
              $(".ui.dropdown").dropdown("set selected", textToShow);
              !function () {
                var w = window,
                    d = w.document;

                if (w.onfocusin === undefined) {
                  d.addEventListener("focus", addPolyfill, true);
                  d.addEventListener("blur", addPolyfill, true);
                  d.addEventListener("focusin", removePolyfill, true);
                  d.addEventListener("focusout", removePolyfill, true);
                }

                function addPolyfill(e) {
                  var type = e.type === "focus" ? "focusin" : "focusout";
                  var event = new CustomEvent(type, {
                    bubbles: true,
                    cancelable: false
                  });
                  event.c1Generated = true;
                  e.target.dispatchEvent(event);
                }

                function removePolyfill(e) {
                  if (!e.c1Generated) {
                    // focus after focusin, so chrome will the first time trigger tow times focusin
                    d.removeEventListener("focus", addPolyfill, true);
                    d.removeEventListener("blur", addPolyfill, true);
                    d.removeEventListener("focusin", removePolyfill, true);
                    d.removeEventListener("focusout", removePolyfill, true);
                  }

                  setTimeout(function () {
                    d.removeEventListener("focusin", removePolyfill, true);
                    d.removeEventListener("focusout", removePolyfill, true);
                  });
                }
              }();
              menuItems1 = document.querySelectorAll("#flyoutnavkbfixed li.has-submenu");
              Array.prototype.forEach.call(menuItems1, function (el, i) {
                el.addEventListener("mouseover", function (event) {
                  this.className = "has-submenu open";
                  clearTimeout(timer1);
                });
                el.addEventListener("mouseout", function (event) {
                  timer1 = setTimeout(function (event) {
                    var opennav = document.querySelector("#flyoutnavkbfixed .has-submenu.open");
                    opennav.className = "has-submenu";
                    opennav.querySelector("a").setAttribute("aria-expanded", "false");
                  }, 1000);
                });
                el.querySelector("a").addEventListener("click", function (event) {
                  if (this.parentNode.className == "has-submenu") {
                    this.parentNode.className = "has-submenu open";
                    this.setAttribute("aria-expanded", "true");
                  } else {
                    this.parentNode.className = "has-submenu";
                    this.setAttribute("aria-expanded", "false");
                  }

                  event.preventDefault();
                });
                var links = el.querySelectorAll("a");
                Array.prototype.forEach.call(links, function (el, i) {
                  el.addEventListener("focus", function () {
                    if (timer2) {
                      clearTimeout(timer2);
                      timer2 = null;
                    }
                  });
                  el.addEventListener("blur", function (event) {
                    timer2 = setTimeout(function () {
                      var opennav = document.querySelector("#flyoutnavkbfixed .has-submenu.open");

                      if (opennav) {
                        opennav.className = "has-submenu";
                        opennav.querySelector("a").setAttribute("aria-expanded", "false");
                      }
                    }, 10);
                  });
                });
              });

            case 9:
            case "end":
              return _context5.stop();
          }
        }
      }

      return _callee2$;
    }(), null, this);
  }

  return _callee2;
}()); //
// ─── SLIDE GENERATOR BUTTON CLICK ─────────────────────────────────────────────────────────────────────
//

Template.useCaseSelection.events({
  "click .slides": function () {
    function _callee3(e, t) {
      return _regenerator.default.async(function () {
        function _callee3$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                Session.set("showSelector", true);
                Router.go("slides");

              case 2:
              case "end":
                return _context6.stop();
            }
          }
        }

        return _callee3$;
      }(), null, this);
    }

    return _callee3;
  }(),
  "click #CM": function () {
    function _callee4(e, t) {
      return _regenerator.default.async(function () {
        function _callee4$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                window.open("https://evaluation.qlik.com", "_blank").focus();

              case 1:
              case "end":
                return _context7.stop();
            }
          }
        }

        return _callee4$;
      }(), null, this);
    }

    return _callee4;
  }(),
  "click #videoButton": function () {
    function _callee5(e, t) {
      return _regenerator.default.async(function () {
        function _callee5$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                nav.selectMenuItemInSense("*Video overview:*");

              case 1:
              case "end":
                return _context8.stop();
            }
          }
        }

        return _callee5$;
      }(), null, this);
    }

    return _callee5;
  }(),
  "click #CM2SAAS": function () {
    function _callee6(e, t) {
      var selectedRole;
      return _regenerator.default.async(function () {
        function _callee6$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                //if anaything happens with the dropdown box... adjust the selection, and get new slides.
                selectedRole = "Client managed to SaaS"; //e.currentTarget.id;

                _context9.next = 3;
                return _regenerator.default.awrap(getSlides(selectedRole));

              case 3:
              case "end":
                return _context9.stop();
            }
          }
        }

        return _callee6$;
      }(), null, this);
    }

    return _callee6;
  }(),
  "click #SAAS": function () {
    function _callee7(e, t) {
      var selectedRole;
      return _regenerator.default.async(function () {
        function _callee7$(_context10) {
          while (1) {
            switch (_context10.prev = _context10.next) {
              case 0:
                //if anaything happens with the dropdown box... adjust the selection, and get new slides.
                selectedRole = "Qlik Cloud"; //e.currentTarget.id;

                _context10.next = 3;
                return _regenerator.default.awrap(getSlides(selectedRole));

              case 3:
              case "end":
                return _context10.stop();
            }
          }
        }

        return _callee7$;
      }(), null, this);
    }

    return _callee7;
  }()
});

function getSlides(selectedRole) {
  return _regenerator.default.async(function () {
    function getSlides$(_context11) {
      while (1) {
        switch (_context11.prev = _context11.next) {
          case 0:
            Cookies.set("currentMainRole", selectedRole); // await nav.makeClearAll(); already in set selection

            _context11.next = 3;
            return _regenerator.default.awrap(setSelectionInSense("Partial Workshop", selectedRole));

          case 3:
            _context11.next = 5;
            return _regenerator.default.awrap(getAllSlides());

          case 5:
            Session.set("showSelector", false);
            Session.set("showSubjectAreaIntroduction", true);
            Router.go("slides"); ////go to the first slide after a data refresh.
            // Reveal.slide(0);

          case 8:
          case "end":
            return _context11.stop();
        }
      }
    }

    return getSlides$;
  }(), null, this);
}

function setSelectionInSense(field, value) {
  var qix, myField, result;
  return _regenerator.default.async(function () {
    function setSelectionInSense$(_context12) {
      while (1) {
        switch (_context12.prev = _context12.next) {
          case 0:
            _context12.prev = 0;
            _context12.next = 3;
            return _regenerator.default.awrap(getSlideGenApp());

          case 3:
            qix = _context12.sent;
            _context12.next = 6;
            return _regenerator.default.awrap(qix.clearAll());

          case 6:
            _context12.next = 8;
            return _regenerator.default.awrap(qix.getField(field));

          case 8:
            myField = _context12.sent;
            _context12.next = 11;
            return _regenerator.default.awrap(myField.selectValues([{
              qText: value
            }]));

          case 11:
            result = _context12.sent;
            _context12.next = 17;
            break;

          case 14:
            _context12.prev = 14;
            _context12.t0 = _context12["catch"](0);
            console.error("Error making selection in Sense ", _context12.t0);

          case 17:
          case "end":
            return _context12.stop();
        }
      }
    }

    return setSelectionInSense$;
  }(), null, this, [[0, 14]]);
}

function getTicket() {
  var message;
  return _regenerator.default.async(function () {
    function getTicket$(_context13) {
      while (1) {
        switch (_context13.prev = _context13.next) {
          case 0:
            _context13.prev = 0;
            _context13.next = 3;
            return _regenerator.default.awrap(Meteor.callPromise("getTicketNumber", {
              group: "notProvided"
            }, Meteor.settings.public.slideGenerator.virtualProxy));

          case 3:
            return _context13.abrupt("return", _context13.sent);

          case 6:
            _context13.prev = 6;
            _context13.t0 = _context13["catch"](0);
            message = "We could not setup single sing on with Qlik Sense. See your console window for more information";
            console.error(message, _context13.t0);
            sAlert.error("Could not get a ticket in order to enforce SSO to Qlik Sense.");

          case 11:
          case "end":
            return _context13.stop();
        }
      }
    }

    return getTicket$;
  }(), null, this, [[0, 6]]);
} //HELPERS


Template.useCaseSelection.helpers({
  userRole: function () {
    return Cookies.get("currentMainRole");
  }
}); //
// ─── MAIN TOPICS LEVEL 1 AND 2 ─────────────────────────────────────────────────
//

function getAllSlideHeaders(qix) {
  var headers, headersWithBreakers;
  return _regenerator.default.async(function () {
    function getAllSlideHeaders$(_context14) {
      while (1) {
        switch (_context14.prev = _context14.next) {
          case 0:
            _context14.next = 2;
            return _regenerator.default.awrap(getAllSlideHeadersPlain(qix));

          case 2:
            headers = _context14.sent;
            headersWithBreakers = insertSectionBreakers(headers);
            return _context14.abrupt("return", headersWithBreakers);

          case 5:
          case "end":
            return _context14.stop();
        }
      }
    }

    return getAllSlideHeaders$;
  }(), null, this);
}

function getSubjectArea(qix) {
  var sessionModel;
  return _regenerator.default.async(function () {
    function getSubjectArea$(_context15) {
      while (1) {
        switch (_context15.prev = _context15.next) {
          case 0:
            _context15.next = 2;
            return _regenerator.default.awrap(qix.createSessionObject({
              qInfo: {
                qType: "cube"
              },
              qHyperCubeDef: {
                qDimensions: [{
                  qDef: {
                    qFieldDefs: ["Subject area"],
                    qSortCriterias: [{
                      qSortByState: 0,
                      qSortByFrequency: 0,
                      qSortByNumeric: 0,
                      qSortByAscii: 1,
                      qSortByLoadOrder: 0,
                      qSortByExpression: 0,
                      qExpression: {
                        qv: "max(CSVRowNo)"
                      },
                      qSortByGreyness: 0
                    }]
                  }
                }]
              }
            }));

          case 2:
            sessionModel = _context15.sent;
            _context15.next = 5;
            return _regenerator.default.awrap(sessionModel.getHyperCubeData("/qHyperCubeDef", [{
              qTop: 0,
              qLeft: 0,
              qWidth: 3,
              qHeight: 3333
            }]));

          case 5:
            sessionData = _context15.sent;
            console.log("🚀 ~ file: useCaseSelection.js:322 ~ getSubjectArea ~ sessionData[0].qMatrix:", sessionData[0].qMatrix);
            return _context15.abrupt("return", sessionData[0].qMatrix);

          case 8:
          case "end":
            return _context15.stop();
        }
      }
    }

    return getSubjectArea$;
  }(), null, this);
}

function getLevel2(qix) {
  var sessionModel;
  return _regenerator.default.async(function () {
    function getLevel2$(_context16) {
      while (1) {
        switch (_context16.prev = _context16.next) {
          case 0:
            _context16.next = 2;
            return _regenerator.default.awrap(qix.createSessionObject({
              qInfo: {
                qType: "cube"
              },
              qHyperCubeDef: {
                qDimensions: [{
                  qDef: {
                    qFieldDefs: ["Level 2"]
                  }
                }]
              }
            }));

          case 2:
            sessionModel = _context16.sent;
            _context16.next = 5;
            return _regenerator.default.awrap(sessionModel.getHyperCubeData("/qHyperCubeDef", [{
              qTop: 0,
              qLeft: 0,
              qWidth: 3,
              qHeight: 3333
            }]));

          case 5:
            sessionData = _context16.sent;
            return _context16.abrupt("return", sessionData[0].qMatrix);

          case 7:
          case "end":
            return _context16.stop();
        }
      }
    }

    return getLevel2$;
  }(), null, this);
}

function getLevel1(qix) {
  var sessionModel;
  return _regenerator.default.async(function () {
    function getLevel1$(_context17) {
      while (1) {
        switch (_context17.prev = _context17.next) {
          case 0:
            _context17.next = 2;
            return _regenerator.default.awrap(qix.createSessionObject({
              qInfo: {
                qType: "cube"
              },
              qHyperCubeDef: {
                qDimensions: [{
                  qDef: {
                    qFieldDefs: ["Level 1"]
                  }
                }],
                qMeasures: [{
                  qDef: {
                    qDef: "Sum({$< [Level 1]= > } 1)"
                  },
                  qLabel: "sum({1}1)",
                  qLibraryId: null,
                  qSortBy: {
                    qSortByState: 0,
                    qSortByFrequency: 0,
                    qSortByNumeric: 0,
                    qSortByAscii: 0,
                    qSortByLoadOrder: 0,
                    qSortByExpression: 1,
                    qExpression: {
                      qv: "min(CSVRowNo)"
                    }
                  }
                }]
              }
            }));

          case 2:
            sessionModel = _context17.sent;
            _context17.next = 5;
            return _regenerator.default.awrap(sessionModel.getHyperCubeData("/qHyperCubeDef", [{
              qTop: 0,
              qLeft: 0,
              qWidth: 3,
              qHeight: 3333
            }]));

          case 5:
            sessionData = _context17.sent;
            return _context17.abrupt("return", sessionData[0].qMatrix);

          case 7:
          case "end":
            return _context17.stop();
        }
      }
    }

    return getLevel1$;
  }(), null, this);
}

function getAllSlideHeadersPlain(qix) {
  var sessionModel;
  return _regenerator.default.async(function () {
    function getAllSlideHeadersPlain$(_context18) {
      while (1) {
        switch (_context18.prev = _context18.next) {
          case 0:
            _context18.next = 2;
            return _regenerator.default.awrap(qix.createSessionObject({
              qInfo: {
                qType: "cube"
              },
              qHyperCubeDef: {
                qDimensions: [{
                  qDef: {
                    qFieldDefs: ["Level 1"]
                  }
                }, {
                  qDef: {
                    qFieldDefs: ["Level 2"],
                    qSortCriterias: [{
                      qSortByState: 0,
                      qSortByFrequency: 0,
                      qSortByNumeric: 0,
                      qSortByAscii: 0,
                      qSortByLoadOrder: 1,
                      qSortByExpression: 1,
                      qExpression: {
                        qv: "min(CSVRowNo)"
                      },
                      qSortByGreyness: 0
                    }]
                  }
                }]
              }
            }));

          case 2:
            sessionModel = _context18.sent;
            _context18.next = 5;
            return _regenerator.default.awrap(sessionModel.getHyperCubeData("/qHyperCubeDef", [{
              qTop: 0,
              qLeft: 0,
              qWidth: 3,
              qHeight: 3333
            }]));

          case 5:
            sessionData = _context18.sent;
            return _context18.abrupt("return", sessionData[0].qMatrix);

          case 7:
          case "end":
            return _context18.stop();
        }
      }
    }

    return getAllSlideHeadersPlain$;
  }(), null, this);
}

//
// ─── GET LEVEL 1 TO 3 ────────────────────────────────────────────
//
//by default add extra slides (extra items in the data array), so you will get nice dynamic chapter breakers
var sectionBreakerConfig = true;

function getAllSlides() {
  var insertSectionBreakers,
      qix,
      table,
      _args19 = arguments;
  return _regenerator.default.async(function () {
    function getAllSlides$(_context19) {
      while (1) {
        switch (_context19.prev = _context19.next) {
          case 0:
            insertSectionBreakers = _args19.length > 0 && _args19[0] !== undefined ? _args19[0] : sectionBreakerConfig;
            _context19.next = 3;
            return _regenerator.default.awrap(getSlideGenApp());

          case 3:
            qix = _context19.sent;
            //insert breakers before a change of topic? YES/NO... breakers are annoying when you make a menu selection or want to link to a sheet
            sectionBreakerConfig = insertSectionBreakers;

            if (!insertSectionBreakers) {
              _context19.next = 11;
              break;
            }

            _context19.next = 8;
            return _regenerator.default.awrap(getAllSlideHeaders(qix));

          case 8:
            _context19.t0 = _context19.sent;
            _context19.next = 14;
            break;

          case 11:
            _context19.next = 13;
            return _regenerator.default.awrap(getAllSlideHeadersPlain(qix));

          case 13:
            _context19.t0 = _context19.sent;

          case 14:
            table = _context19.t0;
            Session.set("slideHeaders", table);

          case 16:
          case "end":
            return _context19.stop();
        }
      }
    }

    return getAllSlides$;
  }(), null, this);
}

function getComment(qix) {
  var sessionModel;
  return _regenerator.default.async(function () {
    function getComment$(_context20) {
      while (1) {
        switch (_context20.prev = _context20.next) {
          case 0:
            _context20.next = 2;
            return _regenerator.default.awrap(qix.createSessionObject({
              qInfo: {
                qType: "cube"
              },
              qHyperCubeDef: {
                qDimensions: [{
                  qDef: {
                    qFieldDefs: ["Comment"]
                  }
                }]
              }
            }));

          case 2:
            sessionModel = _context20.sent;
            _context20.next = 5;
            return _regenerator.default.awrap(sessionModel.getHyperCubeData("/qHyperCubeDef", [{
              qTop: 0,
              qLeft: 0,
              qWidth: 3,
              qHeight: 3333
            }]));

          case 5:
            sessionData = _context20.sent;
            Session.set("slideComment", sessionData[0].qMatrix); // console.log('sessionModel', sessionModel)
            // console.log('slide Comment', Session.get('slideComment'));

          case 7:
          case "end":
            return _context20.stop();
        }
      }
    }

    return getComment$;
  }(), null, this);
}

function setChangeListener(qix) {
  return _regenerator.default.async(function () {
    function setChangeListener$(_context22) {
      while (1) {
        switch (_context22.prev = _context22.next) {
          case 0:
            console.log('We are connected to Qlik Sense via the APIs, now setChangeListener', qix);

            try {
              qix.on("changed", function () {
                function _callee8() {
                  return _regenerator.default.async(function () {
                    function _callee8$(_context21) {
                      while (1) {
                        switch (_context21.prev = _context21.next) {
                          case 0:
                            _context21.next = 2;
                            return _regenerator.default.awrap(getCurrentSelections());

                          case 2:
                          case "end":
                            return _context21.stop();
                        }
                      }
                    }

                    return _callee8$;
                  }(), null, this);
                }

                return _callee8;
              }() // Session.set("slideHeaders", null); //reset the slideheaders to ensure all slide content templates are re-rendered.
              // Meteor.setTimeout(async function wait() {
              //     await getAllSlides();
              //     Reveal.slide(0); //go to the first slide after a data refresh.
              // }, 100)
              );
            } catch (error) {
              console.error("failed to set change listener: ", error);
            }

          case 2:
          case "end":
            return _context22.stop();
        }
      }
    }

    return setChangeListener$;
  }(), null, this);
}

function insertSectionBreakers(table) {
  var currentLevel1,
      previousLevel1 = "";
  var newTableWithChapter = [];
  table.forEach(function (currentRow) {
    var currentLevel1 = textOfLevel(currentRow, 1);

    if (previousLevel1 !== currentLevel1) {
      newTableWithChapter.push(currentLevel1);
      previousLevel1 = currentLevel1;
    }

    newTableWithChapter.push(currentRow);
  }); // console.log('table with chapters is', newTableWithChapter);

  return newTableWithChapter;
}

function textOfLevel(row, level) {
  level -= 1;
  return row[level].qText;
} //http://help.qlik.com/en-US/sense-developer/September2017/Subsystems/EngineAPI/Content/DiscoveringAndAnalysing/MakeSelections/get-current-selections.htm


function getCurrentSelections() {
  var qix, genericObject, layout, currentSelections, message;
  return _regenerator.default.async(function () {
    function getCurrentSelections$(_context23) {
      while (1) {
        switch (_context23.prev = _context23.next) {
          case 0:
            console.log('function: getCurrentSelections');
            _context23.prev = 1;
            _context23.next = 4;
            return _regenerator.default.awrap(getSlideGenApp());

          case 4:
            qix = _context23.sent;
            _context23.next = 7;
            return _regenerator.default.awrap(qix.createSessionObject({
              qInfo: {
                qType: "SessionLists"
              },
              qSelectionObjectDef: {}
            }));

          case 7:
            genericObject = _context23.sent;
            console.log("sessionObject", genericObject);
            _context23.next = 11;
            return _regenerator.default.awrap(genericObject.getLayout());

          case 11:
            layout = _context23.sent;
            console.log('genericObject layout', layout);
            currentSelections = layout.qSelectionObject.qSelections;
            SenseSelections.insert({
              userId: Meteor.userId,
              userName: Meteor.user().profile.name,
              eventType: "selectionChanged",
              selection: currentSelections,
              selectionDate: new Date() // current time

            }, function (err, currentSelectionId) {
              if (err) {
                console.error("Failed to store the selection in mongoDb");
              }

              Session.set("currentSelectionId", currentSelectionId);
              return currentSelections;
            });
            _context23.next = 21;
            break;

          case 17:
            _context23.prev = 17;
            _context23.t0 = _context23["catch"](1);
            message = "getCurrentSelections: Can not connect to the Qlik Sense Engine API via enigmaJS";
            console.error(message, _context23.t0); // sAlert.error(message, error);

          case 21:
          case "end":
            return _context23.stop();
        }
      }
    }

    return getCurrentSelections$;
  }(), null, this, [[1, 17]]);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"layouts":{"layout.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/layouts/layout.html                                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.layout.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.layout.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/layouts/template.layout.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("layout");
Template["layout"] = new Template("Template.layout", (function() {
  var view = this;
  return Spacebars.include(view.lookupTemplate("containerlayout"));
}));

Template.__checkName("presentationLayout");
Template["presentationLayout"] = new Template("Template.presentationLayout", (function() {
  var view = this;
  return [ Spacebars.include(view.lookupTemplate("nav")), " ", Blaze.If(function() {
    return Spacebars.call(view.lookup("unsupportedBrowser"));
  }, function() {
    return [ " ", Spacebars.include(view.lookupTemplate("unsupportedBrowser")), " " ];
  }, function() {
    return [ "\n    ", HTML.DIV({
      class: "presentationContainer",
      style: "margin-top: 40px;"
    }, "\n\n        ", Spacebars.include(view.lookupTemplate("yield")), "\n        ", HTML.Comment(" {{> keepSenseConnectionOpen}} "), "\n    "), "\n    " ];
  }) ];
}));

Template.__checkName("keepSenseConnectionOpen");
Template["keepSenseConnectionOpen"] = new Template("Template.keepSenseConnectionOpen", (function() {
  var view = this;
  return Blaze.If(function() {
    return Spacebars.call(view.lookup("groupSelectedSlideGenerator"));
  }, function() {
    return [ "\n    ", HTML.IFRAME({
      src: function() {
        return Spacebars.mustache(view.lookup("IFrameURLChapterSelection"));
      },
      style: "width:0;height:0;border:0; border:none;visibility:hidden;display:none",
      seamless: "seamless"
    }), "\n    " ];
  });
}));

Template.__checkName("SSOLayout");
Template["SSOLayout"] = new Template("Template.SSOLayout", (function() {
  var view = this;
  return [ Spacebars.include(view.lookupTemplate("sAlert")), " ", Spacebars.include(view.lookupTemplate("yield")), HTML.Raw("\n    <!-- {{> footer}} -->") ];
}));

Template.__checkName("slidelayout");
Template["slidelayout"] = new Template("Template.slidelayout", (function() {
  var view = this;
  return [ Spacebars.include(view.lookupTemplate("nav")), "\n    ", HTML.DIV({
    class: "wrap",
    style: "position:absolute; top:100px;"
  }, "\n\n        ", HTML.DIV({
    class: "ui container"
  }, "\n            ", Spacebars.include(view.lookupTemplate("sAlert")), " ", Spacebars.include(view.lookupTemplate("modals")), " ", Spacebars.include(view.lookupTemplate("yield")), "\n        "), "\n    "), HTML.Raw("\n    <!-- {{> footer}} -->") ];
}));

Template.__checkName("emptyLayout");
Template["emptyLayout"] = new Template("Template.emptyLayout", (function() {
  var view = this;
  return [ Spacebars.include(view.lookupTemplate("nav")), " ", Spacebars.include(view.lookupTemplate("sAlert")), " ", Spacebars.include(view.lookupTemplate("yield")) ];
}));

Template.__checkName("emptyContainerLayout");
Template["emptyContainerLayout"] = new Template("Template.emptyContainerLayout", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui container"
  }, " ", Blaze.View("lookup:sAlert", function() {
    return Spacebars.mustache(view.lookup("sAlert"));
  }), " ", Spacebars.include(view.lookupTemplate("yield")), " ");
}));

Template.__checkName("containerlayout");
Template["containerlayout"] = new Template("Template.containerlayout", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui container"
  }, "\n        ", Spacebars.include(view.lookupTemplate("nav")), "\n        ", HTML.DIV({
    class: "wrap",
    style: "margin-top: 50px"
  }, "\n\n            ", HTML.DIV({
    class: "ui container"
  }, "\n                ", Spacebars.include(view.lookupTemplate("sAlert")), " ", Spacebars.include(view.lookupTemplate("modals")), " ", Spacebars.include(view.lookupTemplate("yield")), "\n            "), "\n        "), "\n        ", Spacebars.include(view.lookupTemplate("footer")), "\n    ");
}));

Template.__checkName("footer");
Template["footer"] = new Template("Template.footer", (function() {
  var view = this;
  return HTML.DIV({
    id: "qlikFooter",
    class: "footer"
  }, "\n        ", Blaze.If(function() {
    return Spacebars.call(view.lookup("slideShowActive"));
  }, function() {
    return [ "\n        ", HTML.DIV({
      class: "ui left aligned"
    }, "\n            ", HTML.DIV({
      class: "ui grid container"
    }, "\n\n                ", HTML.DIV({
      class: "four wide column"
    }, "\n                    ", HTML.IMG({
      class: "ui left floating image image",
      src: "./images/qlik_logo.svg",
      alt: "Qlik.com logo",
      style: "height: 100px; padding-top: 30px;"
    }), "\n                "), "\n                \n                               \n                ", HTML.DIV({
      class: "four wide column"
    }, "\n                    ", HTML.H2({
      class: "ui left aligned header"
    }, "Qlik sites"), "\n                    ", HTML.UL("\n                        ", HTML.LI(HTML.A({
      href: "https://qlik.dev/",
      target: "_blank"
    }, "Qlik.dev docs")), "\n                        ", HTML.LI(HTML.A({
      href: "https://demos.qlik.com/qliksense",
      target: "_blank"
    }, "Qlik Sense demo apps")), "\n                        ", HTML.LI(HTML.A({
      class: "item",
      href: "http://developer.qlik.com",
      target: "_blank"
    }, "Qlik developer"), " "), "\n                        ", HTML.LI(HTML.A({
      class: "item",
      href: "legal",
      target: "_blank"
    }, "Terms of use")), "\n                    "), "\n                "), "\n                ", HTML.DIV({
      class: "four wide column"
    }, "\n                    ", HTML.H2({
      class: "ui left aligned header"
    }, "Tutorials"), "\n                    ", HTML.UL("\n                        ", HTML.LI(HTML.A({
      class: "item",
      href: "https://www.youtube.com/playlist?list=PLLRH3RWXD_Q482tORlk5Za8Loef62e_wm",
      target: "_blank"
    }, "OEM YouTube channel"), " "), "\n                        ", HTML.LI(HTML.A({
      class: "item",
      href: "https://www.youtube.com/watch?v=oDFPl5mGzsU&list=PLLRH3RWXD_Q5SFSnu8X5jsoRRFnXzm4hX",
      target: "_blank"
    }, "OEM Video series - Multitenant Provisioning "), " "), "\n                        ", HTML.LI(HTML.A({
      class: "item",
      href: "https://pages.qlik.com/21Q3_QDEV_DA_GBL_DoMorewithQlikTargetpage_Registration-LP.html",
      target: "_blank"
    }, "Do more with Qlik Tutorial series"), " "), "                        \n                        ", HTML.LI(HTML.A({
      class: "item",
      href: "https://learning.qlik.com/mod/page/view.php?id=24708&price=free",
      target: "_blank"
    }, "Continious classroom (free courses preselected)"), " "), "\n                    "), "\n                    \n                "), "\n               \n            "), "\n        "), "\n        " ];
  }), "\n    ");
}));

Template.__checkName("loginDimmer");
Template["loginDimmer"] = new Template("Template.loginDimmer", (function() {
  var view = this;
  return HTML.Raw('<div class="ui container" style="height: 500px;">\n        <div class="ui inverted dimmer">\n            <div class="content">\n                <div class="center">\n                    <div class="ui indeterminate text loader">Please wait while we log you in via your Qlik.com\n                        account...</div>\n                </div>\n            </div>\n        </div>\n    </div>');
}));

Template.__checkName("modals");
Template["modals"] = new Template("Template.modals", (function() {
  var view = this;
  return [ Spacebars.include(view.lookupTemplate("modalSSBI")), " ", Spacebars.include(view.lookupTemplate("modalSaaSautomation")) ];
}));

Template.__checkName("modalSSBI");
Template["modalSSBI"] = new Template("Template.modalSSBI", (function() {
  var view = this;
  return HTML.Raw('<div class="ui modal SSBI" role="dialog" aria-labelledby="ssbiExplained">\n        <div class="ui icon message">\n            <div class="content">\n                <div class="header">\n                    <h4 id="ssbiExplained">Example layered approach to the self service functionality</h4>\n                </div>\n                <p>Example process which you can implement by using a mix between the authorizations from your SaaS\n                    platform\n                    and the Qlik Sense security rules.</p>\n            </div>\n        </div>\n        <img class="ui fluid image" alt="Example process which you can implement by using a mix between the authorizations from your SaaS\n        platform\n        and the Qlik Sense security rules." src="/images/SelfServiceBI.png">\n        <div class="description">\n            <p></p>\n        </div>\n        <div class="actions">\n            <!-- <div class="ui black deny button">\n                    Nope\n                </div> -->\n            <div class="ui positive right labeled icon button">\n                I got it...\n                <i class="checkmark icon"></i>\n            </div>\n        </div>\n    </div>');
}));

Template.__checkName("modalSaaSautomation");
Template["modalSaaSautomation"] = new Template("Template.modalSaaSautomation", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui modal APIAutomation",
    "aria-labelledby": "saasexplained"
  }, HTML.Raw('\n        <div class="ui icon message">\n            <img class="icon" alt="" src="images/API.png">\n            <div class="content">\n                <div class="header">\n                    <h4 id="saasexplained">What are the key concepts of SaaS provisioning using Qlik Sense?</h4>\n                </div>\n                <p>This video highlights the concepts of SaaS provisioning. In will explain you the concept of template\n                    apps,\n                    the broker, and that we will create a copy of the template for each of your customers.</p>\n            </div>\n        </div>\n        '), HTML.DIV({
    class: "ui one column centered grid"
  }, "\n            ", HTML.DIV({
    class: "column centered"
  }, "\n                ", HTML.DIV({
    class: "ui embed",
    "data-url": function() {
      return Spacebars.mustache(view.lookup("URL_Youtube_concept_behind"));
    }
  }), "\n                ", HTML.Raw('<!--<iframe width="854" height="480" src="{{URL_Youtube_concept_behind}}" frameborder="0" allowfullscreen></iframe>-->'), "\n            "), "\n        "), HTML.Raw('\n        <div class="actions">\n            <div class="ui positive right labeled icon button">\n                I got it...\n                <i class="checkmark icon"></i>\n            </div>\n        </div>\n    '));
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentation.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/layouts/presentation.html                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.presentation.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.presentation.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/layouts/template.presentation.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("unsupportedBrowser");
Template["unsupportedBrowser"] = new Template("Template.unsupportedBrowser", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui text container"
  }, "\n            ", HTML.DIV({
    class: "ui icon message"
  }, "\n                ", HTML.Raw('<i class="warning sign icon"></i>'), "\n                ", HTML.DIV({
    class: "content"
  }, "\n                    ", HTML.Raw('<div class="header">\n                        Not supported browser or mobile device\n                    </div>'), "\n                    ", HTML.Raw("<p>This slide generator can't be used on your mobile or with some browsers. Please use your laptop using a browser like Chrome, Safari or Firefox... </p>"), "\n                    ", HTML.P(HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "useCaseSelection");
    },
    class: "ui right floated button"
  }, "Take me home"), " "), "\n                "), "\n            "), "\n        ");
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"regionLayout.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/layouts/regionLayout.html                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.regionLayout.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.regionLayout.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/layouts/template.regionLayout.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("mainLandingPage");
Template["mainLandingPage"] = new Template("Template.mainLandingPage", (function() {
  var view = this;
  return [ HTML.DIV({
    class: "ui container "
  }, "\n        ", Spacebars.include(view.lookupTemplate("nav")), " ", Spacebars.include(view.lookupTemplate("sAlert")), " ", Spacebars.include(view.lookupTemplate("yield")), "\n\n    "), "\n    ", Spacebars.include(view.lookupTemplate("footer")) ];
}));

Template.__checkName("regionLayout");
Template["regionLayout"] = new Template("Template.regionLayout", (function() {
  var view = this;
  return [ Blaze._TemplateWith(function() {
    return "nav";
  }, function() {
    return Spacebars.include(view.lookupTemplate("yield"));
  }), " ", Spacebars.include(view.lookupTemplate("sAlert")), "\n    ", HTML.DIV({
    class: "ui relaxed very padded stackable grid"
  }, "\n\n\n        ", HTML.DIV({
    class: "five wide column"
  }, Blaze._TemplateWith(function() {
    return "aside";
  }, function() {
    return Spacebars.include(view.lookupTemplate("yield"));
  })), "\n        ", HTML.DIV({
    class: "eleven wide column"
  }, Spacebars.include(view.lookupTemplate("yield"))), "\n\n\n    "), Spacebars.include(view.lookupTemplate("footer")) ];
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"layout.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/layouts/layout.js                                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Meteor;
module.watch(require("meteor/meteor"), {
  Meteor: function (v) {
    Meteor = v;
  }
}, 1);
var Session;
module.watch(require("meteor/session"), {
  Session: function (v) {
    Session = v;
  }
}, 2);
module.watch(require("./layout.html"));
module.watch(require("./presentation.html"));
module.watch(require("./presentation"));
module.watch(require("../checkConfig.html"));
module.watch(require("/imports/ui/nav.html"));
module.watch(require("/imports/ui/nav.js"));
Template.layout.helpers({
  NoSenseConnection: function () {
    return Session.get('NoSenseConnection');
  },
  slideShowActive: function () {
    console.log('Router.current().route.getName()', Router.current().route.getName());
    return Router.current().route.getName() === 'slides';
  }
});
Template.emptyLayout.onRendered(function () {
  Template.instance().$('.dimmer').dimmer('show');
});
Template.loginDimmer.onRendered(function () {
  Template.instance().$('.dimmer').dimmer('show');
});
Template.modalSaaSautomation.onRendered(function () {
  this.$('.ui.embed').embed();
});
Template.emptyContainerLayout.events({
  'keydown, click': function (event, template) {
    Template.instance().$('*').popup('remove popup');
  }
});
Template.footer.helpers({
  // permaLinkSelectionId() {
  //     return Session.get('currentSelectionId');
  // },
  slideShowActive: function () {
    return Router.current().route.getName() === 'slides';
  }
});
Template.layout.events({
  'keydown, click': function (event, template) {
    Template.instance().$('*').popup('remove popup');
  } // ,
  // 'click .stepByStep' () {
  //     $('.ui.modal.stepByStep')
  //         .modal('show')
  //         .modal('refresh')
  //         .modal('refresh');
  // },
  // 'click .howDoesSaaSAutomationWork' () {
  //     $('.ui.modal.howDoesSaaSAutomationWork')
  //         .modal('show')
  //         .modal('refresh')
  //         .modal('refresh');
  // },
  // 'click .selfservice' () {
  //     $('.ui.modal.SSBI')
  //         .modal('show')
  //         .modal('refresh')
  //         .modal('refresh');
  // },
  // 'click .APIAutomation' () {
  //     $('.ui.modal.APIAutomation')
  //         .modal('show')
  //         .modal('refresh')
  //         .modal('refresh');
  // },

});
Template.layout.onCreated(function () {
  //see https://guide.meteor.com/data-loading.html
  this.subscribe('streams');
  this.subscribe('customers');
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/layouts/presentation.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  isIEorEDGE: function () {
    return isIEorEDGE;
  },
  unsupportedBrowser: function () {
    return unsupportedBrowser;
  }
});
Template.presentationLayout.onDestroyed(function () {
  var landingPageAlreadySeen = Session.get('landingPageAlreadySeen'); // console.log('user left the slide generator, make sure he gets the landing page next time');
  // console.log('slidegeneratorSlidesMain onDestroyed. landingPageAlreadySeen:', landingPageAlreadySeen);

  Session.set('landingPageAlreadySeen', false);
});
Template.presentationLayout.onRendered(function () {// this.$('.context.example .ui.sidebar')
  //     .sidebar({
  //         context: $('.context.example .bottom.segment')
  //     })
  //     .sidebar('attach events', '.context.example .menu .item');
});
Template.presentationLayout.helpers({
  showPresentation: function () {
    // console.log('show the IFRAME');
    return Session.get('showPresentation'); //&& Session.get('clickedInSelection');
  },
  userSelectionMade: function () {
    return Session.get('groupForPresentation'); //if the user selected a presentation type try to login
  },
  unsupportedBrowser: function () {
    return unsupportedBrowser();
  }
});
Template.presentationLayout.events({
  'click .launch': function (event) {
    console.log('button launch nav clicked');
    $('.ui.sidebar').sidebar({
      context: $('.context.example .bottom.segment')
    }).sidebar('toggle');
  },
  'click .button createSlides': function (event) {
    console.log('button createSlides clicked');
    Session.set('showPresentation', true);
  }
});
/**
 * detect IE
 * returns version of IE or false, if browser is not Internet Explorer
 */

function isIEorEDGE() {
  var ua = window.navigator.userAgent;
  var msie = ua.indexOf('MSIE ');

  if (msie > 0) {
    // IE 10 or older => return version number
    return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);
  }

  var trident = ua.indexOf('Trident/');

  if (trident > 0) {
    // IE 11 => return version number
    var rv = ua.indexOf('rv:');
    return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);
  }

  var edge = ua.indexOf('Edge/');

  if (edge > 0) {
    // Edge (IE 12+) => return version number
    return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);
  } // other browser


  return false;
}

function isMobile() {
  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? true : false;
}

function unsupportedBrowser() {
  // console.log('unsupported browser?', isIEorEDGE() || isMobile());
  return isIEorEDGE() || isMobile();
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"regionLayout.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/layouts/regionLayout.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("/imports/ui/layouts/regionLayout.html"));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"pages":{"APILogs.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/APILogs.html                                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.APILogs.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.APILogs.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/template.APILogs.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("APIIntroduction");
Template["APIIntroduction"] = new Template("Template.APIIntroduction", (function() {
  var view = this;
  return [ HTML.Raw('<h3 class="ui header">\n        Why integration.qlik.com?</h3>\n    '), HTML.P("Here we demonstrate how you can embed and control Qlik Sense via an automated process in your SaaS platform. (", HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "introduction");
    }
  }, "Read more"), ")"), HTML.Raw('\n    <h3 class="ui header">\n        What is the purpose of the demo platform?\n    </h3>\n    <div class="ui grid">\n        <div class="column">\n            <p>Demonstrate a sample SaaS platform with Qlik Sense embedded including:\n            </p>\n            <ul class="ui list">\n                <li> The “look and feel” of an integrated solution\n                </li>\n                <li>“Security”, re-using the security of your SaaS platform in Qlik Sense\n                </li>\n                <li>“SaaS provisioning”, create dashboard for each user whenever you like\n                </li>\n            </ul>\n        </div>\n    </div>\n\n    <h3 class="ui header">\n        API – Process integration</h3>\n    <img class="ui medium right floated image" alt="FRONT END FOCUSED:\n    Automate things on behalf of an end user.\n    Open/reload/delete an app.\n    Make or get a selection.\n    Get a chart to be directly embedded in a DIV - or get a plain array of data based on the selections made.\n    Create an app/chart on the fly.  \n    SERVER SIDE FOCUSED:\n    Authentication - login user (provide Single Sign On via a ticket request).\n    Admin QMC like activities, (insert or modify configuration, licenses, security rules, apps).\n    " data-action="zoom" src="images/API components overview.png">\n    <p>Integrate Qlik Sense in your SaaS automation or provisioning process using our .NET API and Visual Studio plugin.\n        Or, \n        <a href="https://help.qlik.com/en-US/sense-developer/3.1/Content/APIs-and-SDKs.htm">APIs</a> to automate each\n        manual activity. Using this mechanism, you can create, delete, or reload apps for each of your customers. You\n        can even create complete dashboards or individual charts on the fly.</p>') ];
}));

Template.__checkName("APILogs");
Template["APILogs"] = new Template("Template.APILogs", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui text container"
  }, "\n        ", Spacebars.include(view.lookupTemplate("APIIntroduction")), " ", Spacebars.include(view.lookupTemplate("APISourceCode")), "\n    ");
}));

Template.__checkName("APISourceCode");
Template["APISourceCode"] = new Template("Template.APISourceCode", (function() {
  var view = this;
  return [ HTML.Raw("<h3>Use the demo source code</h3>\n    "), HTML.P("This demo platform provides you with a wrapper around the  ", HTML.Raw('<a href="https://help.qlik.com/en-US/sense/3.1/Content/Videos/Videos-qmc-intro.htm">Qlik Sense QMC</a>'), ', so you can send\n        API calls to Qlik Sense by pressing certain buttons. Using these calls you can, for example, create streams and\n        apps or complete any other activity that you’d be able to do in the QMC or app. Your SaaS platform most likely\n        uses rest APIs already, so just copy the code and start automating. The tasks we have automated are what we\n        refer to as the "generation.” These key steps that should be completed for each new customer are:\n        ', HTML.Raw("<br>"), "\n    ", HTML.UL({
    class: "ui list"
  }, "\n        ", HTML.LI(HTML.A({
    target: "_blank",
    href: function() {
      return Spacebars.mustache(view.lookup("github_create_stream"));
    }
  }, "Create a new stream with the customer’s name")), "\n        ", HTML.LI(HTML.A({
    target: "_blank",
    href: function() {
      return Spacebars.mustache(view.lookup("github_copy_app"));
    }
  }, "Copy the template app"), " (note: you can also create apps on\n            the fly using ", HTML.Raw('<a href="https://help.qlik.com/en-US/sense-developer/3.1/Subsystems/EngineAPI/Content/CreatingAppLoadingData/CreateApps/create-app.htm">"session\n                apps"</a>'), ". For example, you can ", HTML.Raw('<a href="https://github.com/mindspank/sessionapp-simple/blob/master/index.js#L48">copy the app</a>'), " and\n            populate it with real time data in a couple of seconds when a user logs in.)"), "\n        ", HTML.LI(HTML.A({
    target: "_blank",
    href: function() {
      return Spacebars.mustache(view.lookup("github_replace_and_reload_app"));
    }
  }, "Replace the script and reload the app.")), "\n        ", HTML.LI(HTML.A({
    target: "_blank",
    href: function() {
      return Spacebars.mustache(view.lookup("github_publish_app"));
    }
  }, "Publish the app in the customer stream")), "\n    "), "\n    ") ];
}));

Template.__checkName("ApiLogsTable");
Template["ApiLogsTable"] = new Template("Template.ApiLogsTable", (function() {
  var view = this;
  return [ Spacebars.include(view.lookupTemplate("sAlert")), "\n    ", Blaze.If(function() {
    return Spacebars.call(Spacebars.dot(view.lookup("restrictedApiLogs"), "count"));
  }, function() {
    return [ "\n    ", HTML.H3({
      class: "ui header"
    }, "API interaction overview (logging)"), "\n\n    ", HTML.P("In the table below you will see a real time overview of JSON messages being sent between this SaaS platform and\n        the Qlik Sense QRS and the Engine API. You can search for specific words like app, stream, SSO, ticket, logout\n        etc. to view the request and the response from Qlik Sense."), "\n    ", HTML.Comment(" {{> reactiveTable collection=restrictedApiLogs settings=RESTCallSettings}} "), "\n    ", HTML.TABLE({
      class: "ui fixed table apiLogs"
    }, "\n        ", HTML.THEAD("\n            ", HTML.TR("\n                ", HTML.TH({
      class: "two wide"
    }, "Action"), "\n                ", HTML.TH({
      class: "six wide"
    }, "Request"), "\n                ", HTML.TH({
      class: "eight wide"
    }, "Response"), "\n            "), "\n        "), "\n        ", HTML.TBODY("\n            ", Blaze.Each(function() {
      return Spacebars.call(view.lookup("restrictedApiLogs"));
    }, function() {
      return [ "\n            ", HTML.TR("\n                ", HTML.TD("\n                    ", Blaze.If(function() {
        return Spacebars.call(view.lookup("url"));
      }, function() {
        return [ "\n                    ", HTML.A({
          href: function() {
            return Spacebars.mustache(view.lookup("url"));
          },
          target: "_blank"
        }, " ", Blaze.View("lookup:action", function() {
          return Spacebars.mustache(view.lookup("action"));
        })), "\n                    " ];
      }, function() {
        return [ "\n                    ", Blaze.View("lookup:action", function() {
          return Spacebars.mustache(view.lookup("action"));
        }), "\n                    " ];
      }), "\n                "), "\n                ", HTML.TD("\n                    ", Blaze.View("lookup:request", function() {
        return Spacebars.mustache(view.lookup("request"));
      }), "\n                "), "\n                ", HTML.TD("\n                    ", Blaze.If(function() {
        return Spacebars.call(view.lookup("response"));
      }, function() {
        return [ "\n                    ", HTML.PRE(HTML.CODE(Blaze.View("lookup:formattedResponse", function() {
          return Spacebars.makeRaw(Spacebars.mustache(view.lookup("formattedResponse"), view.lookup("response")));
        }))), "\n                    " ];
      }), "\n                "), "\n            "), "\n            " ];
    }), "\n        "), "\n    "), "\n    " ];
  }, function() {
    return [ "\n    ", HTML.DIV({
      class: "ui text container",
      style: "margin-top:0px"
    }, "\n        ", HTML.H3({
      class: "ui header"
    }, "API interaction overview (logging)"), "\n        ", HTML.DIV({
      class: "ui segment"
    }, "\n            ", HTML.DIV({
      class: "ui active inverted dimmer"
    }, "\n                ", HTML.DIV({
      class: "ui text loader"
    }, "Loading"), "\n            "), "\n            ", HTML.P("Please wait for the API logs to be shown. Or if you haven't already, please ", HTML.A({
      href: function() {
        return Spacebars.mustache(view.lookup("pathFor"), "generation");
      }
    }, "generate"), ' some apps in the SaaS demo or try to login as a user, for\n                example in step 4 of the SaaS demo or via the "self service" demo. This will generate some logging which\n                you can investigate. It will also provide you links to the source code.'), "\n        "), "\n\n    "), "\n\n    " ];
  }) ];
}));

Template.__checkName("sequenceDiagrams");
Template["sequenceDiagrams"] = new Template("Template.sequenceDiagrams", (function() {
  var view = this;
  return "";
}));

Template.__checkName("APIIntegrationMindMap");
Template["APIIntegrationMindMap"] = new Template("Template.APIIntegrationMindMap", (function() {
  var view = this;
  return HTML.Raw('<div class="ui modal APIIntegrationMindMap">\n        <div class="ui icon message">\n            <img class="icon" src="images/API.png">\n            <div class="content">\n                <div class="header">\n                    <h3>Overview of the key APIs to be used by your SaaS platform</h3>\n                </div>\n            </div>\n        </div>\n        <div class="ui divider"></div>\n        <img class="ui massive image" src="images/mindMapAPIIntegration.png">\n        <!-- <iframe class="frame" src="/API.html"></iframe> -->\n    </div>');
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"QMC.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/QMC.html                                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.QMC.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.QMC.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/template.QMC.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("QMC");
Template["QMC"] = new Template("Template.QMC", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui container"
  }, HTML.Raw('\n        <h3 class="ui header">\n                <img class="icon" src="images/API.png">\n                This example shows how to integrate the Qlik Sense QMC in your website\n            </h3>\n        '), HTML.IFRAME({
    src: function() {
      return Spacebars.mustache(view.lookup("senseServerQMC"));
    },
    width: "100%",
    height: "900"
  }), "\n    ");
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"architecture.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/architecture.html                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.architecture.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.architecture.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/template.architecture.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("architecture");
Template["architecture"] = new Template("Template.architecture", (function() {
  var view = this;
  return [ HTML.DIV({
    class: "ui text container"
  }, "\n        ", HTML.Raw("<h3>Integrated architecture</h3>"), " ", Spacebars.include(view.lookupTemplate("introductionArchitecturePage")), "\n    "), HTML.Raw('\n    <!-- <div class="sixteen wide column">\n        <div class="ui segment">\n            <h3>Videos</h3>\n            <div class="ui three column centered grid">\n                <div class="column"> {{> introVideoArchitecture}}</div>\n            </div>\n        </div>\n    </div> -->') ];
}));

Template.__checkName("introductionArchitecturePage");
Template["introductionArchitecturePage"] = new Template("Template.introductionArchitecturePage", (function() {
  var view = this;
  return [ HTML.Raw('<img class="ui medium right floated image" data-action="zoom" alt="" src="images/architecture - OEM  SaaS scenario simple.png">\n    <p> The integration of two software platforms entails multiple considerations. Each platform has its own nuances. In our approach here, we deconstruct our integration approach into the following categories: dashboard, data, security, web, APIs and architecture.</p>\n    <h4>Integration flow summary</h4>\n    <p>\n        <ul>\n            <li> A user logs in into your multi-tenant SaaS application platform. Your platform contains some Qlik Sense information in an IFrame or DIV tag.</li>\n            <li>The proxy intercepts the request and redirects the user to the authentication module of your SaaS platform. Your platform knows the identity and group membership of the user and It requests an access ticket for this user.</li>\n            <li> We redirect the user’s request back to the proxy, but now with the ticket number appended to the URL. Qlik Sense validates the request and will set a session cookie.</li>\n            <li> Now the authentication is complete and Qlik Sense will evaluate the security rules and will only present the authorized streams and apps to the user.</li>\n        </ul>\n    </p>\n    <img class="ui centered image" data-action="zoom" alt="" src="images/summary_integrated_architecture.png">\n    <div class="ui divider"></div>\n    <h4>Web integration</h4>\n    <!-- <img class="ui small left floated image" data-action="zoom" src="images/web - the qlik advantage css html javascript angular.png"> -->\n    <p>You can integrate the Qlik Sense hub, apps, sheets or individual objects using an Iframe or DIV tag. All functionality is delivered via a webserver called the proxy (QPS). The QPS also performs the authentication check and does the load balancing over the engines, and redirects the user to your SaaS platform to request the ticket if not yet authenticated via a session cookie.\n    </p>\n    <div class="ui divider"></div>\n    <h4>Data integration</h4>\n    <!-- <img class="ui small left floated image" data-action="zoom" src="images/dataIntegrationIntro.png"> -->\n\n    <p>A powerful <a href="http://www.qlik.com/us/products/data-sources">data integration capability</a> for cleansing, transforming, and unifying multiple, disparate data sources for analysis. A robust data integration layer creates a unified view of information from many different sources, without requiring external tools or data repositories.\n    </p>\n    <!--     <img class="ui medium centered image" data-action="zoom" src="images/dataIntegrationIntro.png">\n -->\n    <p>\n        In the demo we’ve assumed you have a database per customer instance and you also have a master database which contains the customers, the database connections, user rights and possibly customer specific custom tables and fields.\n    </p>\n    <div class="ui divider"></div>\n    <!-- <img class="ui tiny right floated image" src="images/id.png"> -->\n    <h4>Security integration</h4>\n    <img class="ui small left floated image" data-action="zoom" alt="" src="images/QPS - introduction to security flow.png">\n    <p>Actually you don\'t need to do so much on the security side. You don\'t create users or groups in Sense. You just supply the userID and group membership in the security ticket. Based on the info in the ticket access is provided. Resources are protected using the <a href="https://help.qlik.com/en-US/sense/3.1/Subsystems/ManagementConsole/Content/property-based-access-control.htm">security rules</a>, data filtering inside an app is enforced using <a href="https://help.qlik.com/en-US/sense/3.1/Subsystems/Hub/Content/Scripting/Security/manage-security-with-section-access.htm">"section access"</a>.</p>\n    <div class="ui divider"></div>\n    <h4>API - Process integration</h4>\n    <div class="ui two column grid">\n        <div class="column">\n            <p>In the demo you will see the broker in action. But what are the activities that the SaaS broker automates in the demo? What are the steps or stages?</p>\n            <ul>\n                <li>First it will create a stream for each customer. </li>\n                <li>Secondly it will copy the template app. </li>\n                <li>Next it replaces the script with a customer-specific one, or in most cases you just have to replace the database connection.</li>\n                <li>Using the new script, the app is reloaded. You can also use this mechanism to query big data sources like MongoDB. This is where we basically make a compressed index of the data and create the associative model.</li>\n                <li>In the final stage we publish the app in the stream with the name of the customer.</li>\n            </ul>\n        </div>\n        <div class="column">\n            <img class="ui medium centered image" alt="" data-action="zoom" src="images/saas demo concept simple.png">\n        </div>\n    </div>\n    <div class="ui divider"></div>\n    <!-- <h4>Architecture integration</h4>\n    <div class="ui two column grid">\n        <div class="column">\n            <p> In the picture on the right you will find all integration aspects together in 1 overview for a typical SaaS provisioning architecture, in which we have:\n                <ul>\n                    <li>Your SaaS platform\'s server</li>\n                    <li>Qlik Sense server</li>\n                    <li>A database per customer</li>\n                    <li>A master configuration database</li>\n                    <li>Your current API "broker"</li>\n                </ul>\n            </p>\n        </div>\n        <div class="column">\n            <img class="ui centered medium image" data-action="zoom" src="images/integratedArchitecture.png">\n        </div>\n    </div>\n    <div class="ui divider"></div> -->\n    '), HTML.DIV({
    class: "ui three column centered grid"
  }, "\n        ", HTML.DIV({
    class: "column"
  }, " ", Spacebars.include(view.lookupTemplate("introVideoArchitecture")), "\n        "), "\n    ") ];
}));

Template.__checkName("introVideoArchitecture");
Template["introVideoArchitecture"] = new Template("Template.introVideoArchitecture", (function() {
  var view = this;
  return [ HTML.Raw('<h4 class="ui header">Integrated architecture (3M)</h4>\n    '), HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("URL_Youtube_architecture_introduction"));
    }
  }, "Video architecture introduction"), HTML.Raw('\n    <div class="item">\n    \n    </div>') ];
}));

Template.__checkName("introVideoArchitectureMike");
Template["introVideoArchitectureMike"] = new Template("Template.introVideoArchitectureMike", (function() {
  var view = this;
  return HTML.Raw('<!-- <h4 class="ui header">Introduction architecture (5M)</h4>\n    <div class="ui embed" data-url="https://www.youtube.com/embed/4w5mMar5o-M"></div>\n    <div class="item">\n        <div class="content">\n            <div class="meta">\n                <span></span>\n            </div>\n            <div class="description">\n                <p>This video presents a brief overview of the Qlik Sense platform architecture.</p>\n            </div>\n        </div>\n    </div> -->');
}));

Template.__checkName("introVideoArchitectureMarcus");
Template["introVideoArchitectureMarcus"] = new Template("Template.introVideoArchitectureMarcus", (function() {
  var view = this;
  return HTML.Raw('<!-- <h4 class="ui header">Scalability (9M)</h4>\n    <div class="ui embed" data-url="https://www.youtube.com/embed/XZx9nKLR4ps"></div>\n    <div class="item">\n        <div class="content">\n            <div class="meta">\n                <span></span>\n            </div>\n            <div class="description">\n                <p>Marcus Spitzmiller, Master Principal Enterprise Architect, presents this high level presentation which is targeted toward technical leaders (IT, BI) that need to understand how the capabilities within Qlik Sense enable visual analytics to be scaled within an organization.</p>\n            </div>\n        </div>\n    </div> -->');
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"documentation.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/documentation.html                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.documentation.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.documentation.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/template.documentation.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("documentation");
Template["documentation"] = new Template("Template.documentation", (function() {
  var view = this;
  return HTML.Raw('<!-- <div class="ui top attached tabular menu">\n        <a class="header item active" data-tab="first">Architecture</a>\n        <a class="header item" data-tab="second">Security</a>\n        <a class="header item" data-tab="third">Web</a>\n        <a class="header item" data-tab="fourth">APIs</a>\n        <a class="header item" data-tab="six">Generic</a>\n        <a class="header item" data-tab="seven">Videos</a>\n    </div>\n    <div class="ui bottom attached tab segment active" data-tab="first">\n        {{> architecture}}\n    </div>\n    <div class="ui bottom attached tab segment" data-tab="second">\n        {{> introductionSecurity}}\n    </div>\n    <div class="ui bottom attached tab segment" data-tab="third">\n        {{> webIntegration}}\n    </div>\n    <div class="ui bottom attached tab segment" data-tab="fourth">\n        {{> APILogs}}\n    </div>\n    <div class="ui bottom attached tab segment" data-tab="six">\n        {{> genericDocumentation}}\n    </div>\n    <div class="ui bottom attached tab segment" data-tab="seven">\n        {{> videoOverview}}\n    </div> -->');
}));

Template.__checkName("genericDocumentation");
Template["genericDocumentation"] = new Template("Template.genericDocumentation", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui celled ordered list"
  }, "\n        ", HTML.DIV({
    class: "header item"
  }, "Demo site\n            ", HTML.DIV({
    class: "list"
  }, "\n                ", Spacebars.include(view.lookupTemplate("GenericDemoSite")), "\n            "), "\n        "), "\n        ", HTML.DIV({
    class: "header item"
  }, "Videos\n            ", HTML.DIV({
    class: "list"
  }, "\n                ", Spacebars.include(view.lookupTemplate("genericVideos")), "\n            "), "\n        "), "\n        ", HTML.DIV({
    class: "header item"
  }, "Community whitepapers\n            ", HTML.DIV({
    class: "list"
  }, "\n                ", Spacebars.include(view.lookupTemplate("documentation_oneNotes")), "\n            "), "\n        "), "\n        ", HTML.DIV({
    class: "header item"
  }, "Official Qlik installation manuals\n            ", HTML.DIV({
    class: "list"
  }, "\n                ", Spacebars.include(view.lookupTemplate("installation")), "\n            "), "\n        "), "\n        ", HTML.DIV({
    class: "header item"
  }, "Deployment (other)\n            ", HTML.DIV({
    class: "list"
  }, "\n                ", Spacebars.include(view.lookupTemplate("documentation_deployment")), "\n            "), "\n        "), "\n        ", HTML.DIV({
    class: "header item"
  }, "Other content\n            ", HTML.DIV({
    class: "list"
  }, "\n                ", Spacebars.include(view.lookupTemplate("documentation_other_content")), "\n            "), "\n        "), HTML.Raw('\n\n        <!-- <div class="header item">Ideas on how to evaluate Qlik Sense\n            <div class="list">\n                {{> genericEvaluation}}\n            </div>\n        </div> -->\n    '));
}));

Template.__checkName("installation");
Template["installation"] = new Template("Template.installation", (function() {
  var view = this;
  return HTML.Raw('<li><a href="https://help.qlik.com/en-US/sense-admin/September2020/Subsystems/DeployAdministerQSE/Content/Sense_DeployAdminister/QSEoW/Deploy_QSEoW/Qlik-Sense-installation.htm" target="_blank" class="item">Deployment guide</a>    </li>\n        <li><a href="https://help.qlik.com/en-US/sense-admin/September2020/Subsystems/DeployAdministerQSE/Content/Sense_DeployAdminister/QSEoW/Deploy_QSEoW/Ports.htm" target="_blank" class="item ">Port overview</a></li>\n            <li><a href="https://help.qlik.com/en-US/sense-admin/September2020/Subsystems/DeployAdministerQSE/Content/Sense_DeployAdminister/Common/system-requirements.htm" target="_blank" class="item">System requirements</a></li>');
}));

Template.__checkName("documentation_deployment");
Template["documentation_deployment"] = new Template("Template.documentation_deployment", (function() {
  var view = this;
  return HTML.Raw('<!-- <a class="item" href="/images/QlikSense%20TopologiesV0_18.pdf" target="_blank">Topology sheet</a> -->\n    <!-- <a href="https://community.qlik.com/docs/DOC-8303" target="_blank" class="item">Manual to embed Qlik Sense into IIS</a> -->');
}));

Template.__checkName("GenericDemoSite");
Template["GenericDemoSite"] = new Template("Template.GenericDemoSite", (function() {
  var view = this;
  return [ HTML.Raw('<!-- <a href="http://saasdemo.qlik.com/integration " target="_blank " class="item ">Slide generator (contains Qlik Sense SaaS/API training)</a> -->\n    '), HTML.A({
    href: function() {
      return [ " ", Spacebars.mustache(view.lookup("URL_Youtube_concept_behind")), " " ];
    },
    target: "_blank ",
    class: "item "
  }, "Concept behind the demo"), "\n    ", HTML.A({
    href: function() {
      return [ " ", Spacebars.mustache(view.lookup("pathFor"), "securityRules"), " " ];
    },
    class: "item "
  }, "View Security rules used in the demo"), HTML.Raw('\n\n    <!-- <a href=" {{doc_demo_manual}} " class="item " target="_blank ">"How to " Manual</a> -->\n    <a href="https://www.youtube.com/playlist?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk " target="_blank " class="item ">YouTube playlist of all the videos on this site</a>\n    '), HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("doc_demo_setup_instructions"));
    },
    target: "_blank",
    class: "item"
  }, "Create your own demo server - setup instructions (detailed)"), "\n    ", HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("doc_sourceCode"));
    },
    target: "_blank",
    class: "item"
  }, "Source code manual (high level)") ];
}));

Template.__checkName("documentation_other_content");
Template["documentation_other_content"] = new Template("Template.documentation_other_content", (function() {
  var view = this;
  return HTML.Raw('<a href="https://community.qlik.com/community/qlik-sense/new-to-qlik-sense " target="_blank " class="item ">Community - New to Qlik Sense</a>\n    <a href="http://branch.qlik.com " target="_blank " class="item ">Qlik Branch (open source community)</a>\n    <a href="http://qlikbranch-slack-invite.herokuapp.com/ " target="_blank " class="item ">Join Qlik Branch Slack channel</a>\n    <a href="http://help.qlik.com/en-US/sense-developer/3.1/Content/APIs-and-SDKs.htm " target="_blank " class="item ">Qlik Sense APIs</a>\n    <a href="http://help.qlik.com/en-US/sense-developer/2.2/Subsystems/NetSDKAPI/Content/Introduction/Net-Sdk-Intro.htm " target="_blank " class="item ">.NET SDK</a>\n    <a href="https://help.qlik.com/en-US/sense-developer/3.2/Subsystems/APIs/Content/enigmajs/enigmajs-introduction.htm " target="_blank " class="item ">EnigmaJS - connect to Engine API with javascript</a>\n    <a href="http://help.qlik.com/en-US/sense-developer/2.2/Subsystems/Plugins/Content/GettingStarted/GettingStarted.htm " target="_blank " class="item ">Visual Studio plugin</a>\n\n    <!--  <a href="http://branch.qlik.com/projects/showthread.php?289-QSocks-Engine-API-wrapper " target="_blank " class="item ">QSocks Javascript Engine API wrapper</a>\n    <a href="https://github.com/mindspank/architeqt " target="_blank " class="item ">Architeqt: Generate derived apps based on a JSON template</a> -->');
}));

Template.__checkName("genericVideos");
Template["genericVideos"] = new Template("Template.genericVideos", (function() {
  var view = this;
  return HTML.Raw('<a href="https://www.youtube.com/playlist?list=PLLRH3RWXD_Q6oFzpZaJcx4YXNR2am8xiG " class="item " target="_blank ">OEM Integration video playlist</a>\n    <a href="http://www.youtube.com/playlist?list=PLqJfqgR62cVCnEMwaaraNbWp3U5s_bwel " target="_blank " class="item ">Generic Qlik Sense playlist</a>\n    <a href="https://www.youtube.com/watch?v=LC89eh8H6Ls " target="_blank " class="item ">Introduction to Qlik Sense APIs</a>');
}));

Template.__checkName("documentation_oneNotes");
Template["documentation_oneNotes"] = new Template("Template.documentation_oneNotes", (function() {
  var view = this;
  return [ HTML.Raw('<!-- \n    <a class="item " href="https://onedrive.live.com/redir?page=view&resid=805405928A75727!1330&authkey=!ANwk5S8KPC__-dw&wd=target%28EMBEDDED%20ANALYTICS.one%7CBF2972BE-48A0-46FA-AF7A-F6D2F80CF06B%2FIntroduction%20to%20Qlik%20Sense%20%28Ext%5C%29%7C65EFFC90-BC5A-462E-9CE2-469E8DFC2FC0%2F%29 onenote:https://d.docs.live.net/0805405928a75727/OneNote/Publications/QlikSense/EMBEDDED%20ANALYTICS.one#Introduction%20to%20Qlik%20Sense%20(Ext)&section-id={BF2972BE-48A0-46FA-AF7A-F6D2F80CF06B}&page-id={65EFFC90-BC5A-462E-9CE2-469E8DFC2FC0}&end " target="_blank ">Introduction to Qlik Sense</a> -->\n    '), HTML.A({
    class: "item ",
    href: function() {
      return [ " ", Spacebars.mustache(view.lookup("doc_integrationOverview")), " " ];
    },
    target: "_blank "
  }, "Integration overview"), "\n    ", HTML.A({
    class: "item ",
    href: function() {
      return [ " ", Spacebars.mustache(view.lookup("doc_securtityIntegration")), " " ];
    },
    target: "_blank "
  }, "Security integration"), "\n    ", HTML.A({
    class: "item ",
    href: function() {
      return [ " ", Spacebars.mustache(view.lookup("doc_webIntegration")), " " ];
    },
    target: "_blank "
  }, "Web integration"), "\n    ", HTML.A({
    class: "item ",
    href: function() {
      return [ " ", Spacebars.mustache(view.lookup("doc_processIntegration")), " " ];
    },
    target: "_blank "
  }, "API integration"), HTML.Raw('\n<!--     <a class="item " href=" {{doc_dataIntegration}} " target="_blank ">Data integration and more...</a>\n\n -->    <!--     <a class="item " href=" {{doc_webIntegration}} " target="_blank ">Web integration</a>\n-->\n    <!-- \n    <a class="item " href="https://onedrive.live.com/view.aspx?cid=0805405928a75727&id=documents&resid=805405928A75727%211330&app=OneNote&authkey=!ANwk5S8KPC__-dw&&wd=target%28%2F%2FEMBEDDED%20ANALYTICS.one%7Cbf2972be-48a0-46fa-af7a-f6d2f80cf06b%2FProcess%20integration%20and%20automation%20using%20API%27s%7Ca49986de-9191-4321-88f3-c286fdff0b83%2F%29 " target="_blank ">API - Process integration</a>\n    <a class="item " href=" {{doc_dataIntegration}} " target="_blank ">Data integration</a> -->') ];
}));

Template.__checkName("genericEvaluation");
Template["genericEvaluation"] = new Template("Template.genericEvaluation", (function() {
  var view = this;
  return HTML.Raw('<!-- <a class="item " href="https://onedrive.live.com/redir?page=view&resid=805405928A75727!1330&authkey=!ANwk5S8KPC__-dw&wd=target%28EMBEDDED%20ANALYTICS.one%7CBF2972BE-48A0-46FA-AF7A-F6D2F80CF06B%2F2%3A%20Desktop%20proof%20of%20concept%20pre-visit%20document%20summary%7CA89DAA5F-F20A-4A68-AF02-E58549F53D20%2F%29 onenote:https://d.docs.live.net/0805405928a75727/OneNote/Publications/QlikSense/EMBEDDED%20ANALYTICS.one#2%20Desktop%20proof%20of%20concept%20pre-visit%20document%20summary&section-id={BF2972BE-48A0-46FA-AF7A-F6D2F80CF06B}&page-id={A89DAA5F-F20A-4A68-AF02-E58549F53D20}&end " target="_blank ">Proof of concept evaluation criteria and app design</a>\n    <a class="item " href="https://onedrive.live.com/redir?page=view&resid=805405928A75727!1330&authkey=!ANwk5S8KPC__-dw&wd=target%28EMBEDDED%20ANALYTICS.one%7CBF2972BE-48A0-46FA-AF7A-F6D2F80CF06B%2F3%3A%20Desktop%20proof%20of%20concept%20pre-visit%20document%20detailed%7C2390CE6E-173A-499D-9574-C0294E62B16D%2F%29 " target="_blank ">Detailed steps for a POC</a> -->');
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"introduction.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/introduction.html                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.introduction.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.introduction.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/template.introduction.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("introduction");
Template["introduction"] = new Template("Template.introduction", (function() {
  var view = this;
  return [ HTML.DIV({
    class: "ui two column doubling stackable grid container raised segment"
  }, "\n        ", Spacebars.include(view.lookupTemplate("introConcept")), "\n        ", HTML.Raw('<!-- <div class="fourteen wide column ui very padded raised segment">\n            {{> introAPI}}\n        </div>\n        <div class="fourteen wide column ui very padded raised segment">\n            {{> introSecurity}}\n        </div> -->'), "\n        ", HTML.Raw("<!-- </div> -->"), "\n    "), HTML.Raw('\n    <!-- <div class="ui container">\n        <div class="ui very padded segment">\n            {{> introConcept}}\n        </div>\n        <div class="ui very padded segment">\n            {{> introAPI}}\n        </div>\n        <div class="ui very padded segment">\n            {{> introSecurity}}\n        </div>\n    </div> -->') ];
}));

Template.__checkName("introConcept");
Template["introConcept"] = new Template("Template.introConcept", (function() {
  var view = this;
  return [ HTML.Raw('<div class="sixteen wide column">\n        <h3 class="ui header">The SaaS with Qlik Sense demo platform</h3>\n    </div>\n    '), HTML.DIV({
    class: "seven wide column"
  }, "\n        ", HTML.Raw('<p>Questions about SaaS and multi-tenancy with Qlik Sense? In our demonstration site, we show and reveal how you\n            can easily leverage the power of the Qlik Sense APIs within a multi-tenant SaaS application environment.\n        <div class="ui accordion">\n            <div class="title">\n                <!-- <div class="ui mini buttons"> -->\n                <a href="" class="ui mini button dropdown">Read more</a>\n                <!-- <div class="or"></div>\n                        <a href="#" class="ui button howDoesSaaSAutomationWork"><i class="youtube icon"></i> Introduction video</a>\n                    </div> -->\n            </div>\n            <div class="content">\n                <p class="transition hidden">APIs are our secret sauce so this website is specifically designed to\n                    illustrate the unique selling points of our Qlik Sense APIs. Our goal is to illustrate the power of\n                    Qlik Sense APIs in language that can be easily understood by non-technical business users or\n                    decision-makers via our step-by-step walk-through. This learning environment was developed using our\n                    experiences with AFAS, as well as other key customer accounts. We are eager to explain, excite and\n                    reassure senior executives and management about the Qlik platform by modeling its ease of use and\n                    full automation capabilities.</p>\n                <p>Our presentation to the right precedes our full demonstration environment experience, aiming to\n                    bridge any knowledge gaps for our non-technical prospects while providing a clear and simple pathway\n                    towards understanding how to embed Qlik Sense in a multi-tenant SaaS application platform. A key\n                    outcome for using this demonstration asset is to mitigate potential risk early in the sales cycle,\n                    build enthusiasm/interest for Qlik Sense and its capabilities, and showcase our readiness to support\n                    the customer or partner’s vision for embedding analytics within their application suite.</p>\n                <p>This prospect experience is supported by several linked assets. We have a demo website which\n                    simulates the SaaS platform of an OEM partner, including videos and documentation illustrating each\n                    integration topic and a presentation taking the audience through a journey which highlights key\n                    aspects of Qlik Sense, its APIs and the overall value of Qlik.</p>\n            </div>\n        </div>\n        </p>'), "\n        ", HTML.Raw('<h3 class="ui dividing header">Using the demo</h3>'), "\n        ", HTML.P(Spacebars.include(view.lookupTemplate("usingTheDemo")), "\n        ", HTML.Raw('<div class="ui accordion">\n            <div class="title">\n                <div class="ui mini buttons">\n                    <a href="" class="ui button dropdown">Read more</a>\n                </div>\n            </div>\n            <div class="content">\n                <p class="transition hidden">\n                    In the demo you will see a screen divided into two parts:\n                <ul>\n                    <li>The left side shows "the broker" in your SaaS platform, a piece of software that you already use\n                        today to mass maintain the SaaS applications for all of your customers. This broker executes its\n                        activities based on the list of your customers, their access rights, and the relevant template\n                        apps (depending on what the customer has configured in your platform).</li>\n                    <li>The right side shows you the result of the activities of the broker: the apps and streams\n                        automatically created in Qlik Sense.</li>\n                </ul>\n                In order to finish the demo, you must complete the following steps:\n                <ul>\n                    <li><b>Select your customers</b>. In your SaaS platform you have the ability to store which\n                        customers should receive which apps. We simulate this feature by letting you select the\n                        customers. By pressing the button, you also select an "app" to be used as a template for the\n                        layout.</li>\n                    <li><b>Press generate</b>, This will make a copy of the template app for each of your customers. It\n                        replaces the generic script with a customer specific one and reloads the app. Because you are\n                        able to insert a custom script, you can also specify specific data models like custom fields and\n                        tables or create them them on the fly in order to connect to big data sources. In the end we\n                        make a unique stream for each customer and publish the app into this stream.</li>\n                    <li><b>Select a user and press the green button.</b> This allows you to test the single sign on and\n                        make sure that each customer can only see their own data (streams and apps). You can also test\n                        row level security by opening the "row level security" app in the "everyone stream". This\n                        demonstrates that each user only sees the values pertaining to the country of their group\n                        membership.</li>\n                    </ul>\n                </p>\n            </div>\n        </div>'), "\n        "), "\n    "), "\n    ", HTML.DIV({
    class: "nine wide right floated column"
  }, "\n        ", HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("URL_Youtube_concept_behind"));
    },
    target: "_blank"
  }, HTML.Raw('<img class="ui fluid bordered image" src="images/only generation explanation.gif">')), "\n\n        ", HTML.Raw('<!--    <DIV class="ui fluid image" data-url=\'{{URL_Youtube_concept_behind}}\' data-placeholder="/images/only generation explanation.gif"></DIV> -->'), "\n        ", HTML.Raw('<!--         <img class="ui fluid image" src="images/only generation explanation.gif">\n -->'), "\n    "), "\n    ", HTML.DIV({
    class: "sixteen wide column"
  }, "\n        ", HTML.P("\n        ", HTML.DIV({
    class: "ui accordion"
  }, "\n            ", HTML.DIV({
    class: "title"
  }, "\n                ", HTML.DIV({
    class: "ui medium buttons"
  }, "\n                    ", HTML.Raw('<a href="#" class="ui dropdown youtube button"><i class="youtube icon"></i>Video overview</a>'), "\n                    ", HTML.Raw('<div class="or"></div>'), "\n                    ", HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "useCaseSelection");
    },
    class: "ui positive button"
  }, "Go to the demo"), "\n                "), "\n            "), "\n            ", HTML.DIV({
    class: "content ui segment"
  }, "\n                ", HTML.Raw('<h4 class="transition hidden">\n                </h4>'), "\n                ", HTML.Raw('<div class="ui message">\n                    <div class="header">\n                        Video overview\n                    </div>\n                    <p>The videos below have been especially designed to explain a common, single approach… This is not\n                        the only approach available, but it satisfies the majority of use cases and the video overview\n                        will accelerate your understanding of it.</p>\n                    <ul class="list">\n                        <li>Introduction to the demo platform and integration in general</li>\n                        <li>Architecture</li>\n                        <li>Security</li>\n                        <li>Web integration</li>\n                    </ul>\n                </div>'), "\n                ", Spacebars.include(view.lookupTemplate("videoOverview")), "\n            "), "\n        "), "\n        "), "\n    ") ];
}));

Template.__checkName("introAPI");
Template["introAPI"] = new Template("Template.introAPI", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui middle aligned stackable grid container"
  }, "\n        ", HTML.DIV({
    class: "row"
  }, "\n            ", HTML.Raw('<div class="seven wide left floated column">\n                <img class="ui fluid image" src="images/qlik sense embedded example.png">\n            </div>'), "\n            ", HTML.DIV({
    class: "nine wide column"
  }, "\n                ", HTML.Raw('<h3 class="ui header">API - Process integration</h3>'), "\n                ", HTML.Raw("<p>Integrate Qlik Sense in your SaaS automation or provisioning process using our .NET API and Visual\n                    Studio plugin. Or you can also use our javascript, websocket and REST based APIs to automate each\n                    manual activity. Using this mechanism you can for example create/delete/reload apps for each of your\n                    customers. You can even create complete dashboards or individual charts on the fly. This removes the\n                    need to design everything up front.</p>"), "\n                ", HTML.DIV({
    class: "center aligned column"
  }, "\n                    ", HTML.DIV({
    class: "ui mini buttons"
  }, "\n                        ", HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "APILogs");
    },
    class: "ui button"
  }, "Read more"), "\n                    "), "\n                "), "\n                ", HTML.Raw('<h3 class="ui header">Web integration: Embed Qlik Sense</h3>'), "\n                ", HTML.Raw("<p>The beauty of Qlik is it allows you choices for your integration. You can choose the level of web\n                    integration according to your business requirements. On the client side, you can choose to use our\n                    client/front-end or you can create your own. If you use the Qlik Sense client you have the following\n                    options.</p>"), "\n                ", HTML.Raw("<p>You can integrate the hub, an app, a sheet or individual charts. In most cases you have the\n                    flexibility to control whether you would like to see our menu, our selection bar or whether or not\n                    you would like to provide initial selections or make the charts static so that no selections are\n                    possible at all.\n                </p>"), "\n                ", HTML.Raw('<div class="ui accordion">\n                    <div class="title">\n                        <i class="dropdown icon"></i> What would the end result look like for a succesful integration of\n                        Qlik Sense into your application architecture?\n                    </div>\n                    <div class="content">\n                        <p>Your goal is to create within a multi-tenant SaaS platform environment - embedded analytics -\n                            within your core application(s) where each of your customers would see and use only their\n                            data. It’s possible for each customer to have a more fine grained authorization structure.\n                        </p>\n                        <p>As an example, it is possible to provide authorizations for a specific department or country\n                            within a dashboard. Ultimately you will see a simple solution in our demonstration in which\n                            both of our fictitious users, Peter and John, go to the same website, but see different\n                            things based on their authorizations. Qlik Sense makes this possible because it uses a\n                            dynamic attribute-based security approach in which we re-use all the pre-existing users and\n                            roles from your SaaS platform. This ensures Qlik Sense stays automatically in synch and\n                            avoids the overhead of double maintenance.\n                        </p>\n                    </div>\n                </div>'), "\n                ", HTML.DIV({
    class: "center aligned column"
  }, "\n                    ", HTML.DIV({
    class: "ui mini buttons"
  }, "\n                        ", HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "webIntegration");
    },
    class: "ui button"
  }, "Read more"), "\n                    "), "\n                "), "\n            "), "\n        "), "\n    ");
}));

Template.__checkName("introSecurity");
Template["introSecurity"] = new Template("Template.introSecurity", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui middle aligned stackable grid container"
  }, "\n        ", HTML.DIV({
    class: "row"
  }, "\n            ", HTML.DIV({
    class: "nine wide column"
  }, "\n                ", HTML.Raw('<h3 class="ui header">Security integration</h3>'), "\n                ", HTML.Raw('<h4 class="ui header">Authentication - Single Sign on</h4>'), ' We re-use your existing way to authenticate\n                the users. We will insert a little piece of code inside your existing "security module". In this module\n                you already know who the user is (authentication) and what his rights are (authorization). The only\n                thing we need to do is create a trust relationship between your server and the new Qlik Sense server\n                (via a SSL certificate exchange). And send this info about the user (userId, group membership) in a JSON\n                object to Sense (we call this ticketing).\n                ', HTML.Raw('<h4 class="ui header">Authorization</h4>'), ' Based on the userId and group membership streams (a way to\n                group apps, like HR/Finance), apps, sheets (all called "resources" in our rule based security model) are\n                shown or not. Let\'s say we start simple and each customer can only view their own dashboards. Since we\n                gave each customer its own stream we can grant access if the name of the stream (your company name)\n                equals the the name of the company we received from your website in the ticket. We can all control this\n                by adding 1 row of security configuraton: User.group = Stream.name.\n                ', HTML.Raw('<div class="ui horizontal divider">\n                    <!-- Or -->\n                </div>'), "\n                ", HTML.DIV({
    class: "center aligned column"
  }, "\n                    ", HTML.DIV({
    class: "ui mini buttons"
  }, "\n                        ", HTML.Raw('<!-- <a href="{{doc_securtityIntegration}}" target="_blank" class="ui button">Read more</a>\n                                <div class="or"></div> -->'), "\n                        ", HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "introductionSecurity");
    },
    class: "ui button"
  }, "Read more"), "\n                    "), "\n                "), "\n            "), "\n            ", HTML.Raw('<div class="three wide right floated column">\n                <img class="ui fluid image" src="images/id_big.png">\n            </div>'), "\n        "), "\n    ");
}));

Template.__checkName("usingTheDemo");
Template["usingTheDemo"] = new Template("Template.usingTheDemo", (function() {
  var view = this;
  return [ HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("URL_Youtube_concept_behind"));
    },
    target: "_blank"
  }, 'This demo shows you how to\n    copy an app (dashboard) which serves as a "template layout" for each of your customers explained in this video'), ".\n    Besides creating a copy, we will also reload the app with data from the customer database." ];
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"introductionSecurity.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/introductionSecurity.html                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.introductionSecurity.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.introductionSecurity.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/template.introductionSecurity.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("introductionSecurity");
Template["introductionSecurity"] = new Template("Template.introductionSecurity", (function() {
  var view = this;
  return [ HTML.DIV({
    class: "ui text container"
  }, "\n        ", HTML.Raw('<h3 class="ui header">Security integration</h3>'), "\n        ", HTML.Raw('<!-- <img class="ui large right floated image" src="images/full integration flow.gif"> -->'), "\n        ", HTML.Raw("<p>Your goal is to create embedded analytics using the Qlik platform within a multi-tenant SaaS environment, where each of your customers would only have access to their own data. It’s possible for each customer to have a more finely tuned authorization structure. For example, it is possible to provide authorizations for a specific department or country within a dashboard. You’ll see a simple solution in our demonstration where both of our fictitious users, Peter and John, go to the same website, but see different things based on their authorizations. Qlik Sense makes this possible because it uses a dynamic, attribute-based security approach in which we re-use all the pre-existing users and roles from your SaaS platform. This ensures Qlik Sense stays in sync automatically and avoids the overhead of double maintenance.</p>"), "\n        ", HTML.Raw('<img class="ui huge centered image" data-action="zoom" src="images/architecture - OEM SaaS scenario.png">'), "\n        ", HTML.Raw('<div class="ui divider"></div>'), "\n        ", HTML.Raw('<h4 class="ui header">Authentication</h4>'), "\n        ", HTML.Raw('<!-- <img class="ui small left floated image" src="images/id.png">  -->'), "\n        ", HTML.Raw('<img class="ui small left floated image" data-action="zoom" src="images/QPS - authentication redirect flow in browser for dummies.png">'), '\n\n        We re-use your existing way of authenticating users. We insert a small piece of code inside your existing "security module.” In this module you already know who the user is (authentication) and what his rights are (authorization). The only thing we need to do is create a trust relationship between your server and the new Qlik Sense server (via an SSL certificate exchange), and send this information about the user (user ID, group membership) in a JSON object to Sense (we call this ticketing).\n        ', HTML.Raw('<div class="ui divider"></div>'), "\n        ", HTML.Raw('<h4 class="ui header">Authorization</h4>'), "\n        ", HTML.Raw('<img class="ui small right floated image" data-action="zoom" src="images/securityOverview.png">'), 'Based on the user ID and group membership streams, apps and sheets (called "resources" in our rule based security model) are either shown or not. Let\'s say we start simple and each customer can only view their own dashboards. Since we gave each customer their own stream, we can grant access if the name of the stream (the company name) matches the name of the company we received from the website in the ticket. This can be controlled by adding 1 row of security configuration: User.group = resource.name.\n        ', HTML.DIV({
    class: "center aligned column"
  }, "\n            ", HTML.DIV({
    class: "center aligned column"
  }, "\n                ", HTML.DIV({
    class: "ui mini buttons"
  }, "\n                    ", HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("doc_securtityIntegration"));
    },
    target: "_blank",
    class: "ui button"
  }, "Community"), "\n                    ", HTML.Raw('<div class="or"></div>'), "\n                    ", HTML.Raw('<a class="ui button" href="/images/QlikSense%20TopologiesV0_18.pdf" target="_blank">Topology sheet</a>'), "\n                    ", HTML.Raw('<div class="or"></div>'), "\n                    ", HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "securityRules");
    },
    class: "ui button"
  }, "Security rules"), "\n                    ", HTML.Raw('<div class="or"></div>'), "\n                    ", HTML.Raw('<a href="#" class="ui button mindMapSecurity">Mindmap</a>'), "\n                    ", HTML.Raw('<div class="or"></div>'), "\n                    ", HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("seq_ticketing_flow"));
    },
    target: "_blank",
    class: "ui button"
  }, "Sequence diagram"), "\n                "), "\n            "), "\n        "), "\n        ", HTML.Raw('<div class="ui divider"></div>'), "\n        ", HTML.Raw('<h3 class="ui header">Videos</h3>'), " ", Spacebars.include(view.lookupTemplate("securityVideos")), "\n    "), "\n    ", Spacebars.include(view.lookupTemplate("modalMindMapSecurity")) ];
}));

Template.__checkName("securityVideos");
Template["securityVideos"] = new Template("Template.securityVideos", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui three column centered grid"
  }, "\n        ", HTML.DIV({
    class: "column"
  }, Spacebars.include(view.lookupTemplate("videoSecurityFlow"))), HTML.Raw('\n        <!-- <div class="column">{{>videoSecurityIntroduction}}</div> -->\n        '), HTML.DIV({
    class: "column"
  }, Spacebars.include(view.lookupTemplate("videoGenericSecurityIntro"))), "\n        ", HTML.DIV({
    class: "column"
  }, Spacebars.include(view.lookupTemplate("videoSecurityDeepDive"))), "\n    ");
}));

Template.__checkName("modalMindMapSecurity");
Template["modalMindMapSecurity"] = new Template("Template.modalMindMapSecurity", (function() {
  var view = this;
  return HTML.Raw('<div class="ui modal mindMapSecurity" role="dialog" aria-labelledby="mindmapsec">\n        <div class="ui icon message">\n            <img class="icon" src="images/API.png">\n            <div class="content">\n                <div class="header">\n                    <h4 id="mindmapsec">Mindmap of the Qlik Sense OEM security model</h4>\n                </div>\n                <p>This is a summary of a common approach to embed Qlik Sense security in your SaaS platform.</p>\n            </div>\n        </div>\n        <div class="ui divider"></div>\n        <div class="ui one column centered grid">\n            <div class="column centered">\n                <img class="ui fluid image" src="/images/mindMapSecurityIntegration.png">\n            </div>\n        </div>\n        <div class="actions">\n            <div class="ui positive right labeled icon button">\n                I got it...\n                <i class="checkmark icon"></i>\n            </div>\n        </div>\n    </div>');
}));

Template.__checkName("videoGenericSecurityIntro");
Template["videoGenericSecurityIntro"] = new Template("Template.videoGenericSecurityIntro", (function() {
  var view = this;
  return [ HTML.Raw('<h4 class="ui header">Security introduction</h4>\n    '), HTML.DIV({
    class: "ui embed",
    "data-url": function() {
      return Spacebars.mustache(view.lookup("URL_Youtube_generic_security_intro"));
    },
    "data-placeholder": "/images/genericSecuritySlide.png"
  }), HTML.Raw('\n    <div class="item">\n        <!-- <div class="content">\n            \n            <div class="meta">\n                <span></span>\n            </div>\n            <div class="description">A basic introduction to Qlik Sense security. Including authentication and authorization basics. (No integration specific topics).</div>\n            <div class="extra">\n            </div>\n        </div> -->\n    </div>') ];
}));

Template.__checkName("videoSecurityFlow");
Template["videoSecurityFlow"] = new Template("Template.videoSecurityFlow", (function() {
  var view = this;
  return [ HTML.Raw('<h4 class="ui header">Web and security flow (1M)</h4>\n    '), HTML.DIV({
    class: "ui embed",
    "data-url": function() {
      return Spacebars.mustache(view.lookup("URL_Youtube_integrated_flow"));
    },
    "data-placeholder": "/images/qlik sense integrated security flow.png"
  }), HTML.Raw('\n    <div class="item">\n        <!-- <div class="content">\n            \n            <div class="meta">\n                <span></span>\n            </div>\n            <div class="description">This perspective provides more detail on the technical integration flow. We look at how web and security integration work together.</div>\n            <div class="extra">\n            </div>\n        </div> -->\n    </div>') ];
}));

Template.__checkName("videoSecurityIntroduction");
Template["videoSecurityIntroduction"] = new Template("Template.videoSecurityIntroduction", (function() {
  var view = this;
  return [ HTML.Raw('<h4 class="ui header">Security overview (17M)</h4>\n    '), HTML.DIV({
    class: "ui embed",
    "data-url": function() {
      return Spacebars.mustache(view.lookup("URL_Youtube_security_introduction"));
    },
    "data-placeholder": "/images/introVideoSecurity.png"
  }), HTML.Raw('\n    <div class="item">\n        <!-- <div class="content">\n            \n            <div class="meta">\n                <span></span>\n            </div>\n            <div class="description">\n                In a quick overview you will see the key components for securing a Qlik Sense integration. Your goal is to create within a multi-tenant SaaS platform environment - embedded analytics - within your core application(s) where each of your customers would see and use only their data.\n            </div>\n            <div class="extra">\n            </div>\n        </div> -->\n    </div>') ];
}));

Template.__checkName("videoSecurityDeepDive");
Template["videoSecurityDeepDive"] = new Template("Template.videoSecurityDeepDive", (function() {
  var view = this;
  return [ HTML.Raw('<h4 class="ui header">Exploring integrated security (22M)</h4>\n    '), HTML.DIV({
    class: "ui embed",
    "data-url": function() {
      return Spacebars.mustache(view.lookup("URL_Youtube_security_deepDive"));
    },
    "data-placeholder": "/images/DeepDiveVideoSecurity.png"
  }), HTML.Raw('\n    <div class="item">\n        <!-- <div class="content">\n            \n            <div class="meta">\n                <span></span>\n            </div>\n            <div class="description">\n                <p>A detailed introduction in which you see the complete authentication and authorization process. This includes real code examples and security rules.</p>\n            </div>\n            <div class="extra">\n            </div>\n        </div> -->\n    </div>') ];
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"legal.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/legal.html                                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.legal.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.legal.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/template.legal.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("legal");
Template["legal"] = new Template("Template.legal", (function() {
  var view = this;
  return HTML.Raw('<h1>Terms of Use</h1>\n<h3>Overview</h3>\nThe following are the terms of an agreement between you and Qlik. By accessing, or using this Web site, you acknowledge that you have read, understand, and agree to be bound by these terms and to comply with all applicable laws and regulations.\nQlik may, without notice to you, at any time, revise these Terms of Use and any other information contained in this Web site. Qlik may also make improvements or changes in the products, services, or programs described in this site at any time without notice.\n<h3>General</h3> \nQlik grants you a non-exclusive, non-transferable, limited permission to access and display the Web pages within this site as a customer or potential customer of Qlik provided you comply with these Terms of Use, and all copyright, trademark, and other proprietary notices remain intact. The use authorized under this agreement is non-commercial in nature (e.g., you may not sell the content you access on or through this Web site.) All other use of this site is prohibited.\nExcept for the limited permission in the preceding paragraph, QLIK does not grant you any express or implied rights or licenses under any patents, trademarks, copyrights, or other proprietary or intellectual property rights. You may not mirror any of the content from this site on another Web site or in any other media. \n<h3>Disclaimer</h3>\nFrom time to time, this Web site may contain technical inaccuracies or typographical errors, and we do not warrant the accuracy of any posted information. Please confirm you are using the most up-to-date pages on this Web site, and confirm the accuracy and completeness of information before using it to make decisions relating to services, products, or other matters described in this Web site.\n<h3>Confidential information</h3>\nQlik does not want to receive confidential or proprietary information from you through our Web site. Please note that any information or material sent to Qlik will be deemed NOT to be confidential. By sending Qlik any information or material, you grant Qlik an unrestricted, irrevocable license to copy, reproduce, publish, upload, post, transmit, distribute, publicly display, perform, modify, create derivative works from, and otherwise freely use, those materials or information. You also agree that Qlik is free to use any ideas, concepts, know-how, or techniques that you send us for any purpose. However, we will not release your name or otherwise publicize the fact that you submitted materials or other information to us unless: (a) we obtain your permission to use your name; or (b) we first notify you that the materials or other information you submit to a particular part of this site will be published or otherwise used with your name on it; or (c) we are required to do so by law. Personally-identifiable information that you submit to Qlik for the purpose of receiving products or services will be handled in accordance with our privacy policies. Please see the tab entitled “Privacy” for information regarding QLIK’s privacy policies.\n<h3>Global availability</h3>\nInformation Qlik publishes on the Internet may contain references or cross references to Qlik products, programs and services that are not announced or available in your country. Such references do not imply that Qlik intends to announce or make available such products, programs, or services in your country. Please consult your local Qlik business contact for information regarding the products, programs, and services that may be available to you.\n<h3>Business relationships</h3>\nThis Web site may provide links or references to non-Qlik web sites and resources. Qlik makes no representations, warranties, or other commitments or endorsements whatsoever about any non-Qlik Web sites or third-party resources that may be referenced, accessible from, or linked to any Qlik site. In addition, Qlik is not a party to or responsible for any transactions you may enter into with third parties, even if you learn of such parties (or use a link to such parties) from a Qlik site.  If you access a non-Qlik Web site, even one that may contain the Qlik-logo, please understand that it is independent from Qlik, and that Qlik does not control the content on that Web site. It is up to you to take precautions to protect yourself from viruses, worms, Trojan horses, and other potentially destructive programs, and to protect your information.\n<h3>Linking to this site</h3>\nQlik consents only to links to this Web site in which the link and the pages that are activated by the link do not: (a) create frames around any page on this Web site or use other techniques that alter in any way the visual presentation or appearance of any content within this site; (b) misrepresent your relationship with Qlik c) imply that Qlik approves or endorses you, your Web site, or your service or product offerings; and (d) present false or misleading impressions about Qlik or otherwise damage the goodwill associated with the Qlik name or trademarks. As a further condition to being permitted to link to this site, you agree that Qlik at any time, in its sole discretion, terminate permission to link to this Web site. In such event, you agree to immediately remove all links to this Web site and to cease any related use of Qlik trademarks.\n<h3>DISCLAIMER OF WARRANTY</h3>\nUSE OF THIS SITE IS AT YOUR SOLE RISK. ALL MATERIALS, INFORMATION, PRODUCTS, SOFTWARE, PROGRAMS, AND SERVICES ARE PROVIDED "AS IS," WITH NO WARRANTIES OR GUARANTEES WHATSOEVER. QLIK EXPRESSLY DISCLAIMS TO THE FULLEST EXTENT PERMITTED BY LAW ALL EXPRESS, IMPLIED, STATUTORY, AND OTHER WARRANTIES, GUARANTEES, OR REPRESENTATIONS, INCLUDING, WITHOUT LIMITATION, THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT OF PROPRIETARY AND INTELLECTUAL PROPERTY RIGHTS. WITHOUT LIMITATION, QLIK MAKES NO WARRANTY OR GUARANTEE THAT THIS WEB SITE WILL BE UNINTERRUPTED, TIMELY, SECURE, OR ERROR-FREE.\nYOU UNDERSTAND AND AGREE THAT IF YOU DOWNLOAD OR OTHERWISE OBTAIN MATERIALS, INFORMATION, PRODUCTS, SOFTWARE, PROGRAMS, OR SERVICES FROM THIS WEB SITE, YOU DO SO AT YOUR OWN DISCRETION AND RISK AND THAT YOU WILL BE SOLELY RESPONSIBLE FOR ANY DAMAGES THAT MAY RESULT, INCLUDING LOSS OF DATA OR DAMAGE TO YOUR COMPUTER SYSTEM. SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF WARRANTIES, SO THE ABOVE EXCLUSIONS MAY NOT APPLY TO YOU.\nLIMITATION OF LIABILITY\nTO THE FULLEST EXTENT PERMITTED BY APPLICABLE LAW, IN NO EVENT WILL QLIK BE LIABLE TO ANY PARTY FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY OR CONSEQUENTIAL DAMAGES OF ANY TYPE WHATSOEVER RELATED TO OR ARISING FROM THIS WEB SITE OR ANY USE OF THIS WEB SITE, OR OF ANY SITE OR RESOURCE LINKED TO, REFERENCED, OR ACCESSED THROUGH THIS WEB SITE, OR FOR THE USE OR DOWNLOADING OF, OR ACCESS TO, ANY MATERIALS, INFORMATION, PRODUCTS, OR SERVICES, INCLUDING, WITHOUT LIMITATION, ANY LOST PROFITS, BUSINESS INTERRUPTION, LOST SAVINGS OR LOSS OF PROGRAMS OR OTHER DATA, EVEN IF QLIK IS EXPRESSLY ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. THIS EXCLUSION AND WAIVER OF LIABILITY APPLIES TO ALL CAUSES OF ACTION, WHETHER BASED ON CONTRACT, WARRANTY, TORT, OR ANY OTHER LEGAL THEORIES.');
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"securityRules.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/securityRules.html                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.securityRules.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.securityRules.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/template.securityRules.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("securityRules");
Template["securityRules"] = new Template("Template.securityRules", (function() {
  var view = this;
  return [ Spacebars.include(view.lookupTemplate("yourSaasPlatformMenu")), "\n\n    ", HTML.DIV({
    class: "ui one column stackable grid"
  }, "\n        ", HTML.DIV({
    class: "column"
  }, "\n            ", HTML.DIV({
    class: "ui icon message"
  }, "\n                ", HTML.Raw('<img class="icon" src="images/securityRules.png">'), "\n                ", HTML.DIV({
    class: "content"
  }, "\n                    ", HTML.Raw('<div class="header">\n                        <h4>Qlik Sense system rules</h4>\n                    </div>'), "\n                    ", HTML.Raw('<p>Below you will find the system rules of Qlik Sense received via the <a href="https://help.qlik.com/en-US/sense-developer/3.0/Subsystems/RepositoryServiceAPI/Content/RepositoryServiceAPI/RepositoryServiceAPI-Special-Purpose-Paths.htm" target="_blank">QRS API</a>. They consist of multiple categories; security, license and sync rules. Using the security rules you can create a fully dynamic security model, in which you don\'t have to "hard code" roles, groups or users.</p>'), "\n                    ", HTML.Raw('<p> In text box below, filter on ‘Z_’ to expose the security rules that secure the whole platform. In a large software integration deal we secured 400.000 apps with just 2 end user facing security rules (give read access to all apps in the customer name stream if the group of the user matches the name of the stream). Later on we added the contributor and developer roles and matching rules. We could then enable certains users to create apps or sheets in their "own work". You can test authorizations possible in the governed <a href="#" class="selfservice">self service</a> tests in step 4 of the demo.</p>'), "\n                    ", HTML.P("See the ", HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "introductionSecurity");
    },
    target: "_blank",
    class: "item"
  }, "Security integration"), " documentation for more information."), "\n                "), "\n            "), "\n            ", HTML.Raw('<div class="ui dimmer">\n                <div class="content">\n                    <div class="center">\n                        <div class="ui indeterminate text loader">Loading the system and security rules via the Qlik Sense QRS API\n                            <br> (Method: get - "/qrs/systemrule" )</div>\n                    </div>\n                </div>\n            </div>'), "\n            ", Blaze._TemplateWith(function() {
    return {
      class: Spacebars.call("ui celled table"),
      collection: Spacebars.call(view.lookup("getSecurityRules")),
      settings: Spacebars.call(view.lookup("securityRulesSettings"))
    };
  }, function() {
    return Spacebars.include(view.lookupTemplate("reactiveTable"));
  }), "\n        "), "\n    ") ];
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sequenceDiagrams.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/sequenceDiagrams.html                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.sequenceDiagrams.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.sequenceDiagrams.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/template.sequenceDiagrams.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("sequenceDiagramOverview");
Template["sequenceDiagramOverview"] = new Template("Template.sequenceDiagramOverview", (function() {
  var view = this;
  return HTML.SVG({
    id: "mermaidChart0",
    width: "100%",
    xmlns: "http://www.w3.org/2000/svg",
    height: "100%",
    style: "max-width:1300px;",
    viewBox: "-50 -10 1300 1034"
  }, "\n        ", HTML.STYLE({
    type: "text/css",
    title: "mermaid-svg-internal-css"
  }, '\n        /*  */\n        \n        *,\n        ::before,\n        ::after {\n            box-sizing: inherit;\n        }\n        \n        .actor {\n            stroke: rgb(204, 204, 255);\n            /*fill: rgb(226, 236, 255);*/\n        }\n        \n        text.actor {\n            fill: black;\n            stroke: none;\n            font-size: 12px;\n        }\n        \n        .actor-line {\n            stroke: grey;\n        }\n        \n        .messageLine0 {\n            stroke-width: 1.5;\n            stroke: black;\n        }\n        \n        .messageLine1 {\n            stroke-width: 1.5;\n            stroke: black;\n        }\n        \n        #arrowhead {\n            fill: black;\n        }\n        \n        .messageText {\n            fill: black;\n            stroke: none;\n            font-size: 12px;\n        }\n        \n        .note {\n            stroke: rgb(204, 204, 255);\n            fill: rgb(220,220,220);\n        }\n        \n        .noteText {\n            fill: black;\n            stroke: none;\n            font-size: 12px;\n        }\n        \n        .actor {\n            stroke: rgb(204, 204, 255);\n            fill: rgb(236, 236, 255);\n        }\n        \n        text.actor {\n            fill: black;\n            stroke: none;\n        }\n        \n        .actor-line {\n            stroke: grey;\n        }\n        \n        .messageLine0 {\n            stroke-width: 1.5;\n            stroke: rgb(51, 51, 51);\n        }\n        \n        .messageLine1 {\n            stroke-width: 1.5;\n            stroke: rgb(51, 51, 51);\n        }\n        \n        #arrowhead {\n            fill: rgb(51, 51, 51);\n        }\n        \n        #crosshead path {\n            fill: rgb(51, 51, 51) !important;\n            stroke: rgb(51, 51, 51) !important;\n        }\n        \n        .messageText {\n            fill: rgb(51, 51, 51);\n            stroke: none;\n        }\n        \n        .note {\n            /*stroke: rgb(170, 170, 51);*/\n            fill: rgb(220,220,220);\n        }\n        \n        .noteText {\n            fill: black;\n            stroke: none;\n            font-family: "trebuchet ms", verdana, arial;\n            font-size: 14px;\n        }\n        \n        text {\n            font-family: "trebuchet ms", verdana, arial;\n            font-size: 14px;\n        }\n        /*  */\n        '), "\n        ", HTML.G(), "\n        ", HTML.G("\n            ", HTML.LINE({
    id: "actor0",
    x1: "75",
    y1: "5",
    x2: "75",
    y2: "1023",
    class: "actor-line",
    "stroke-width": "0.5px",
    stroke: "#999"
  }), "\n            ", HTML.RECT({
    x: "0",
    y: "0",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), "\n            ", HTML.TEXT({
    x: "75",
    y: "37.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Browser"), "\n        "), "\n        ", HTML.G("\n            ", HTML.LINE({
    id: "actor1",
    x1: "275",
    y1: "5",
    x2: "275",
    y2: "1023",
    class: "actor-line",
    "stroke-width": "0.5px",
    stroke: "#999"
  }), "\n            ", HTML.RECT({
    x: "200",
    y: "0",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), "\n            ", HTML.TEXT({
    x: "275",
    y: "37.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Meteor"), "\n        "), "\n        ", HTML.G("\n            ", HTML.LINE({
    id: "actor2",
    x1: "475",
    y1: "5",
    x2: "475",
    y2: "1023",
    class: "actor-line",
    "stroke-width": "0.5px",
    stroke: "#999"
  }), "\n            ", HTML.RECT({
    x: "400",
    y: "0",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), "\n            ", HTML.TEXT({
    x: "475",
    y: "37.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Generation template"), "\n        "), "\n        ", HTML.G("\n            ", HTML.LINE({
    id: "actor3",
    x1: "675",
    y1: "5",
    x2: "675",
    y2: "1023",
    class: "actor-line",
    "stroke-width": "0.5px",
    stroke: "#999"
  }), "\n            ", HTML.RECT({
    x: "600",
    y: "0",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), "\n            ", HTML.TEXT({
    x: "675",
    y: "37.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Server"), "\n        "), "\n        ", HTML.G("\n            ", HTML.LINE({
    id: "actor4",
    x1: "875",
    y1: "5",
    x2: "875",
    y2: "1023",
    class: "actor-line",
    "stroke-width": "0.5px",
    stroke: "#999"
  }), "\n            ", HTML.RECT({
    x: "800",
    y: "0",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), "\n            ", HTML.TEXT({
    x: "875",
    y: "37.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "AppFunctions"), "\n        "), "\n        ", HTML.G("\n            ", HTML.LINE({
    id: "actor5",
    x1: "1075",
    y1: "5",
    x2: "1075",
    y2: "1023",
    class: "actor-line",
    "stroke-width": "0.5px",
    stroke: "#999"
  }), "\n            ", HTML.RECT({
    x: "1000",
    y: "0",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), "\n            ", HTML.TEXT({
    x: "1075",
    y: "37.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Qlik Sense"), "\n        "), "\n        ", HTML.DEFS("\n            ", HTML.MARKER({
    id: "arrowhead",
    refX: "5",
    refY: "2",
    markerWidth: "6",
    markerHeight: "4",
    orient: "auto"
  }, "\n                ", HTML.PATH({
    d: "M 0,0 V 4 L6,2 Z"
  }), "\n            "), "\n        "), "\n        ", HTML.DEFS("\n            ", HTML.MARKER({
    id: "crosshead",
    markerWidth: "15",
    markerHeight: "8",
    orient: "auto",
    refX: "16",
    refY: "4"
  }, "\n                ", HTML.PATH({
    fill: "black",
    stroke: "#000000",
    "stroke-width": "1px",
    d: "M 9,2 V 6 L16,4 Z",
    style: "stroke-dasharray: 0, 0;"
  }), "\n                ", HTML.PATH({
    fill: "none",
    stroke: "#000000",
    "stroke-width": "1px",
    d: "M 0,1 L 6,7 M 6,1 L 0,7",
    style: "stroke-dasharray: 0, 0;"
  }), "\n            "), "\n        "), "\n        ", HTML.G("\n            ", HTML.TEXT({
    x: "175",
    y: "93",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "client\\main.js"), "\n            ", HTML.LINE({
    x1: "75",
    y1: "100",
    x2: "275",
    y2: "100",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  }), "\n        "), "\n        ", HTML.G("\n            ", HTML.RECT({
    x: "300",
    y: "110",
    fill: "#EDF2AE",
    stroke: "#666",
    width: "300",
    height: "183",
    rx: "0",
    ry: "0",
    class: "note"
  }), "\n        "), "\n        ", HTML.G("\n            ", HTML.TEXT({
    x: "316",
    y: "138",
    fill: "black",
    class: "noteText"
  }, "\n                ", HTML.TSPAN({
    x: "316"
  }, "Browser loads all javacsript from the"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "316"
  }, "demo site. The starting point for the"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "316"
  }, "client is main.js located in client\\ folder"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "316"
  }, "(The server code uses server\\main.js). It"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "316"
  }, "imports all relevant .js and .html in the"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "316"
  }, "\\imports folder including router.js that"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "316"
  }, "maps urls to blaze templates. All"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "316"
  }, "templates are located in imports\\ui"), "\n            "), "\n        "), "\n        ", HTML.G("\n            ", HTML.TEXT({
    x: "175",
    y: "321",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "show introduction page"), "\n            ", HTML.LINE({
    x1: "275",
    y1: "328",
    x2: "75",
    y2: "328",
    class: "messageLine1",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "stroke-dasharray: 3, 3; fill: none;"
  }), "\n        "), "\n        ", HTML.G("\n            ", HTML.TEXT({
    x: "175",
    y: "356",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "go to demo which opens \\generation page"), "\n            ", HTML.LINE({
    x1: "75",
    y1: "363",
    x2: "275",
    y2: "363",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  }), "\n        "), "\n        ", HTML.G("\n            ", HTML.RECT({
    x: "500",
    y: "373",
    fill: "#EDF2AE",
    stroke: "#666",
    width: "300",
    height: "120",
    rx: "0",
    ry: "0",
    class: "note"
  }), "\n        "), "\n        ", HTML.G("\n            ", HTML.TEXT({
    x: "516",
    y: "401",
    fill: "black",
    class: "noteText"
  }, "\n                ", HTML.TSPAN({
    x: "516"
  }, "Each Template has a file.js with the same"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "516"
  }, "name as the template. In the JS the"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "516"
  }, "(click) event handling takes place and the"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "516"
  }, "helpers already format and get the data"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "516"
  }, "via the server side of Meteor from Sense."), "\n            "), "\n        "), "\n        ", HTML.G("\n            ", HTML.TEXT({
    x: "375",
    y: "521",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "open layout template, helpers and events"), "\n            ", HTML.LINE({
    x1: "275",
    y1: "528",
    x2: "475",
    y2: "528",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  }), "\n        "), "\n        ", HTML.G("\n            ", HTML.TEXT({
    x: "575",
    y: "556",
    class: "messageText",
    style: "text-anchor: middle;"
  }, 'Meteor.call("getApps") the server has methods for each function.'), "\n            ", HTML.LINE({
    x1: "475",
    y1: "563",
    x2: "675",
    y2: "563",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  }), "\n        "), "\n        ", HTML.G("\n            ", HTML.TEXT({
    x: "775",
    y: "591",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "AppFunctions.getApps()"), "\n            ", HTML.LINE({
    x1: "675",
    y1: "598",
    x2: "875",
    y2: "598",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  }), "\n        "), "\n        ", HTML.G("\n            ", HTML.RECT({
    x: "900",
    y: "608",
    fill: "#EDF2AE",
    stroke: "#666",
    width: "300",
    height: "225",
    rx: "0",
    ry: "0",
    class: "note"
  }), "\n        "), "\n        ", HTML.G("\n            ", HTML.TEXT({
    x: "916",
    y: "636",
    fill: "black",
    class: "noteText"
  }, "\n                ", HTML.TSPAN({
    x: "916"
  }, "Meteor server side communicates with"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "Qlik Sense using QRS REST and engine"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "(qsocks) API for reloads. All calls between"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "Meteor and Sense go via js in"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "imports\\api\\server. The meteor server side"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "functions that communicate with Qlik"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "Sense are categorized per Sense resource"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "type. There is a seperate file for QPS,"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "apps, streams, system rules"), "\n                ", HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "communication."), "\n            "), "\n        "), "\n        ", HTML.G("\n            ", HTML.TEXT({
    x: "975",
    y: "861",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "connect to Sense\\qrs\\app\\full"), "\n            ", HTML.LINE({
    x1: "875",
    y1: "868",
    x2: "1075",
    y2: "868",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  }), "\n        "), "\n        ", HTML.G("\n            ", HTML.TEXT({
    x: "775",
    y: "896",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "app list in JSON format"), "\n            ", HTML.LINE({
    x1: "1075",
    y1: "903",
    x2: "475",
    y2: "903",
    class: "messageLine1",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "stroke-dasharray: 3, 3; fill: none;"
  }), "\n        "), "\n        ", HTML.G("\n            ", HTML.TEXT({
    x: "275",
    y: "931",
    class: "messageText",
    style: "text-anchor: middle;"
  }, 'for each "app" print name etc.'), "\n            ", HTML.LINE({
    x1: "475",
    y1: "938",
    x2: "75",
    y2: "938",
    class: "messageLine1",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "stroke-dasharray: 3, 3; fill: none;"
  }), "\n        "), "\n        ", HTML.G("\n            ", HTML.RECT({
    x: "0",
    y: "958",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), "\n            ", HTML.TEXT({
    x: "75",
    y: "995.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Browser"), "\n        "), "\n        ", HTML.G("\n            ", HTML.RECT({
    x: "200",
    y: "958",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), "\n            ", HTML.TEXT({
    x: "275",
    y: "995.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Meteor"), "\n        "), "\n        ", HTML.G("\n            ", HTML.RECT({
    x: "400",
    y: "958",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), "\n            ", HTML.TEXT({
    x: "475",
    y: "995.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Generation template"), "\n        "), "\n        ", HTML.G("\n            ", HTML.RECT({
    x: "600",
    y: "958",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), "\n            ", HTML.TEXT({
    x: "675",
    y: "995.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Server"), "\n        "), "\n        ", HTML.G("\n            ", HTML.RECT({
    x: "800",
    y: "958",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), "\n            ", HTML.TEXT({
    x: "875",
    y: "995.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "AppFunctions"), "\n        "), "\n        ", HTML.G("\n            ", HTML.RECT({
    x: "1000",
    y: "958",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), "\n            ", HTML.TEXT({
    x: "1075",
    y: "995.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Qlik Sense"), "\n        "), "\n    ");
}));

Template.__checkName("sequenceDiagramGeneration");
Template["sequenceDiagramGeneration"] = new Template("Template.sequenceDiagramGeneration", (function() {
  var view = this;
  return HTML.SVG({
    id: "mermaidChart32",
    width: "100%",
    xmlns: "http://www.w3.org/2000/svg",
    height: "100%",
    style: "max-width:1850px;",
    viewBox: "-50 -10 1850 1963.0625"
  }, HTML.STYLE({
    type: "text/css",
    title: "mermaid-svg-internal-css"
  }, '/*  */\n*, ::before, ::after { box-sizing: inherit;}\n.actor { stroke: rgb(204, 204, 255); /*fill: rgb(226, 236, 255);*/}\ntext.actor { fill: black; stroke: none; font-size: 12px;}\n.actor-line { stroke: grey;}\n.messageLine0 { stroke-width: 1.5; stroke: black;}\n.messageLine1 { stroke-width: 1.5; stroke: black;}\n#arrowhead { fill: black;}\n.messageText { fill: black; stroke: none; font-size: 12px;}\n.note { stroke: rgb(204, 204, 255); fill: rgb(220,220,220);}\n.noteText { fill: black; stroke: none; font-size: 12px;}\n.actor { stroke: rgb(204, 204, 255); fill: rgb(236, 236, 255);}\ntext.actor { fill: black; stroke: none;}\n.actor-line { stroke: grey;}\n.messageLine0 { stroke-width: 1.5; stroke: rgb(51, 51, 51);}\n.messageLine1 { stroke-width: 1.5; stroke: rgb(51, 51, 51);}\n#arrowhead { fill: rgb(51, 51, 51);}\n#crosshead path { fill: rgb(51, 51, 51) !important; stroke: rgb(51, 51, 51) !important;}\n.messageText { fill: rgb(51, 51, 51); stroke: none;}\n.note { /*stroke: rgb(170, 170, 51);*/ fill: rgb(220,220,220);}\n.noteText { fill: black; stroke: none; font-family: "trebuchet ms", verdana, arial; font-size: 14px;}\ntext { font-family: "trebuchet ms", verdana, arial; font-size: 14px;}\n/*  */\n'), HTML.G(), HTML.G(HTML.LINE({
    id: "actor288",
    x1: "75",
    y1: "5",
    x2: "75",
    y2: "1952.0625",
    class: "actor-line",
    "stroke-width": "0.5px",
    stroke: "#999"
  }), HTML.RECT({
    x: "0",
    y: "0",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "75",
    y: "37.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Browser")), HTML.G(HTML.LINE({
    id: "actor289",
    x1: "275",
    y1: "5",
    x2: "275",
    y2: "1952.0625",
    class: "actor-line",
    "stroke-width": "0.5px",
    stroke: "#999"
  }), HTML.RECT({
    x: "200",
    y: "0",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "275",
    y: "37.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Meteor")), HTML.G(HTML.LINE({
    id: "actor290",
    x1: "475",
    y1: "5",
    x2: "475",
    y2: "1952.0625",
    class: "actor-line",
    "stroke-width": "0.5px",
    stroke: "#999"
  }), HTML.RECT({
    x: "400",
    y: "0",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "475",
    y: "37.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Generation template")), HTML.G(HTML.LINE({
    id: "actor291",
    x1: "675",
    y1: "5",
    x2: "675",
    y2: "1952.0625",
    class: "actor-line",
    "stroke-width": "0.5px",
    stroke: "#999"
  }), HTML.RECT({
    x: "600",
    y: "0",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "675",
    y: "37.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "OEMPartner template")), HTML.G(HTML.LINE({
    id: "actor292",
    x1: "875",
    y1: "5",
    x2: "875",
    y2: "1952.0625",
    class: "actor-line",
    "stroke-width": "0.5px",
    stroke: "#999"
  }), HTML.RECT({
    x: "800",
    y: "0",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "875",
    y: "37.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Server")), HTML.G(HTML.LINE({
    id: "actor293",
    x1: "1075",
    y1: "5",
    x2: "1075",
    y2: "1952.0625",
    class: "actor-line",
    "stroke-width": "0.5px",
    stroke: "#999"
  }), HTML.RECT({
    x: "1000",
    y: "0",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "1075",
    y: "37.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "AppFunctions")), HTML.G(HTML.LINE({
    id: "actor294",
    x1: "1275",
    y1: "5",
    x2: "1275",
    y2: "1952.0625",
    class: "actor-line",
    "stroke-width": "0.5px",
    stroke: "#999"
  }), HTML.RECT({
    x: "1200",
    y: "0",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "1275",
    y: "37.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Qlik Sense QRS API")), HTML.G(HTML.LINE({
    id: "actor295",
    x1: "1475",
    y1: "5",
    x2: "1475",
    y2: "1952.0625",
    class: "actor-line",
    "stroke-width": "0.5px",
    stroke: "#999"
  }), HTML.RECT({
    x: "1400",
    y: "0",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "1475",
    y: "37.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "QSocks engine API wrapper")), HTML.G(HTML.LINE({
    id: "actor296",
    x1: "1675",
    y1: "5",
    x2: "1675",
    y2: "1952.0625",
    class: "actor-line",
    "stroke-width": "0.5px",
    stroke: "#999"
  }), HTML.RECT({
    x: "1600",
    y: "0",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "1675",
    y: "37.5",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Engine API")), HTML.DEFS(HTML.MARKER({
    id: "arrowhead",
    refX: "5",
    refY: "2",
    markerWidth: "6",
    markerHeight: "4",
    orient: "auto"
  }, HTML.PATH({
    d: "M 0,0 V 4 L6,2 Z"
  }))), HTML.DEFS(HTML.MARKER({
    id: "crosshead",
    markerWidth: "15",
    markerHeight: "8",
    orient: "auto",
    refX: "16",
    refY: "4"
  }, HTML.PATH({
    fill: "black",
    stroke: "#000000",
    "stroke-width": "1px",
    d: "M 9,2 V 6 L16,4 Z",
    style: "stroke-dasharray: 0, 0;"
  }), HTML.PATH({
    fill: "none",
    stroke: "#000000",
    "stroke-width": "1px",
    d: "M 0,1 L 6,7 M 6,1 L 0,7",
    style: "stroke-dasharray: 0, 0;"
  }))), HTML.G(HTML.TEXT({
    x: "175",
    y: "93",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "request introduction page"), HTML.LINE({
    x1: "75",
    y1: "100",
    x2: "275",
    y2: "100",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  })), HTML.G(HTML.TEXT({
    x: "175",
    y: "128",
    class: "messageText",
    style: "text-anchor: middle;"
  }, 'click "demo" button which opens \\generation page'), HTML.LINE({
    x1: "75",
    y1: "135",
    x2: "275",
    y2: "135",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  })), HTML.G(HTML.TEXT({
    x: "375",
    y: "163",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "open generation.html and.js in \\imports\\ui"), HTML.LINE({
    x1: "275",
    y1: "170",
    x2: "475",
    y2: "170",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  })), HTML.G(HTML.RECT({
    x: "500",
    y: "180",
    fill: "#EDF2AE",
    stroke: "#666",
    width: "300",
    height: "204.0625",
    rx: "0",
    ry: "0",
    class: "note"
  })), HTML.G(HTML.TEXT({
    x: "516",
    y: "208",
    fill: "black",
    class: "noteText"
  }, HTML.TSPAN({
    x: "516"
  }, "Generation template consists of multiple"), HTML.TSPAN({
    dy: "21",
    x: "516"
  }, "sub templates to keep things organized."), HTML.TSPAN({
    dy: "21",
    x: "516"
  }, "Key templates are OEMpartner.html,"), HTML.TSPAN({
    dy: "21",
    x: "516"
  }, "which consist of multiple smaller ones."), HTML.TSPAN({
    dy: "21",
    x: "516"
  }, "The 2 app and streams tables on the right"), HTML.TSPAN({
    dy: "21",
    x: "516"
  }, "are populated via the"), HTML.TSPAN({
    dy: "21",
    x: "516"
  }, "Template.generation.helpers in"), HTML.TSPAN({
    dy: "21",
    x: "516"
  }, "generation.js (appSettings,"), HTML.TSPAN({
    dy: "21",
    x: "516"
  }, "streamSettings)."))), HTML.G(HTML.TEXT({
    x: "575",
    y: "412.0625",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "includes OEMPartner.html"), HTML.LINE({
    x1: "475",
    y1: "419.0625",
    x2: "675",
    y2: "419.0625",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  })), HTML.G(HTML.RECT({
    x: "700",
    y: "429.0625",
    fill: "#EDF2AE",
    stroke: "#666",
    width: "300",
    height: "267",
    rx: "0",
    ry: "0",
    class: "note"
  })), HTML.G(HTML.TEXT({
    x: "716",
    y: "457",
    fill: "black",
    class: "noteText"
  }, HTML.TSPAN({
    x: "716"
  }, "the OEM partner template is the left side"), HTML.TSPAN({
    dy: "21",
    x: "716"
  }, "of the screen if you open the \\generation"), HTML.TSPAN({
    dy: "21",
    x: "716"
  }, "page. This page has a lot of if then"), HTML.TSPAN({
    dy: "21",
    x: "716"
  }, "statements to react to the current step of"), HTML.TSPAN({
    dy: "21",
    x: "716"
  }, "the process. For example, if the user"), HTML.TSPAN({
    dy: "21",
    x: "716"
  }, "inserts a customer, the screen should"), HTML.TSPAN({
    dy: "21",
    x: "716"
  }, 'update to reflect step 2: "select'), HTML.TSPAN({
    dy: "21",
    x: "716"
  }, 'template". The logic is calculated in the'), HTML.TSPAN({
    dy: "21",
    x: "716"
  }, "helper in UIHelpers.js, the template uses"), HTML.TSPAN({
    dy: "21",
    x: "716"
  }, 'the "spacebars/handlebars syntax" to show'), HTML.TSPAN({
    dy: "21",
    x: "716"
  }, "or not. For example -if readyToGenerate-"), HTML.TSPAN({
    dy: "21",
    x: "716"
  }, "show a div with texts and buttons. -/if-"))), HTML.G(HTML.TEXT({
    x: "375",
    y: "724.0625",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "show generation page"), HTML.LINE({
    x1: "675",
    y1: "731.0625",
    x2: "75",
    y2: "731.0625",
    class: "messageLine1",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "stroke-dasharray: 3, 3; fill: none;"
  })), HTML.G(HTML.TEXT({
    x: "375",
    y: "759.0625",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "click generate"), HTML.LINE({
    x1: "75",
    y1: "766.0625",
    x2: "675",
    y2: "766.0625",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  })), HTML.G(HTML.RECT({
    x: "500",
    y: "776.0625",
    fill: "#EDF2AE",
    stroke: "#666",
    width: "300",
    height: "120",
    rx: "0",
    ry: "0",
    class: "note"
  })), HTML.G(HTML.TEXT({
    x: "516",
    y: "804",
    fill: "black",
    class: "noteText"
  }, HTML.TSPAN({
    x: "516"
  }, 'User presses the "generate" button which'), HTML.TSPAN({
    dy: "21",
    x: "516"
  }, "fires a click generateStreamAndApp event."), HTML.TSPAN({
    dy: "21",
    x: "516"
  }, "This event is captured in the"), HTML.TSPAN({
    dy: "21",
    x: "516"
  }, "Template.OEMPartner.events function in"), HTML.TSPAN({
    dy: "21",
    x: "516"
  }, "OEMPartner.js."))), HTML.G(HTML.TEXT({
    x: "775",
    y: "924.0625",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "Meteor.call('generateStreamAndApp', selectedCustomers,...)."), HTML.LINE({
    x1: "675",
    y1: "931.0625",
    x2: "875",
    y2: "931.0625",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  })), HTML.G(HTML.RECT({
    x: "900",
    y: "941.0625",
    fill: "#EDF2AE",
    stroke: "#666",
    width: "300",
    height: "246",
    rx: "0",
    ry: "0",
    class: "note"
  })), HTML.G(HTML.TEXT({
    x: "916",
    y: "969",
    fill: "black",
    class: "noteText"
  }, HTML.TSPAN({
    x: "916"
  }, "server\\main.js is the key entrypoint of the"), HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "server side of this Meteor based demo"), HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "platform. this file has a function"), HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "Meteor.methods with a function"), HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "generateStreamAndApp(customers) which"), HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "calls -"), HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "QSApp.generateStreamAndApp(customers)"), HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "to clean up all previously generated stuff"), HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "and then"), HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "QSApp.generateStreamAndApp(customers)"), HTML.TSPAN({
    dy: "21",
    x: "916"
  }, "to start the generation"))), HTML.G(HTML.TEXT({
    x: "975",
    y: "1215.0625",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "QSApp.generateStreamAndApp(customers)"), HTML.LINE({
    x1: "875",
    y1: "1222.0625",
    x2: "1075",
    y2: "1222.0625",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  })), HTML.G(HTML.RECT({
    x: "1100",
    y: "1232.0625",
    fill: "#EDF2AE",
    stroke: "#666",
    width: "300",
    height: "225",
    rx: "0",
    ry: "0",
    class: "note"
  })), HTML.G(HTML.TEXT({
    x: "1116",
    y: "1260",
    fill: "black",
    class: "noteText"
  }, HTML.TSPAN({
    x: "1116"
  }, "Meteor server side communicates with"), HTML.TSPAN({
    dy: "21",
    x: "1116"
  }, "Qlik Sense using QRS REST and engine"), HTML.TSPAN({
    dy: "21",
    x: "1116"
  }, "(qsocks) API for reloads. All calls between"), HTML.TSPAN({
    dy: "21",
    x: "1116"
  }, "Meteor and Sense go via js in"), HTML.TSPAN({
    dy: "21",
    x: "1116"
  }, "imports\\api\\server. The meteor server side"), HTML.TSPAN({
    dy: "21",
    x: "1116"
  }, "functions that communicate with Qlik"), HTML.TSPAN({
    dy: "21",
    x: "1116"
  }, "Sense are categorized per Sense resource"), HTML.TSPAN({
    dy: "21",
    x: "1116"
  }, "type. There is a seperate file for QPS,"), HTML.TSPAN({
    dy: "21",
    x: "1116"
  }, "apps, streams, system rules"), HTML.TSPAN({
    dy: "21",
    x: "1116"
  }, "communication."))), HTML.G(HTML.TEXT({
    x: "1175",
    y: "1485.0625",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "create stream (if not yet exist)"), HTML.LINE({
    x1: "1075",
    y1: "1492.0625",
    x2: "1275",
    y2: "1492.0625",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  })), HTML.G(HTML.TEXT({
    x: "1175",
    y: "1520.0625",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "copy app"), HTML.LINE({
    x1: "1075",
    y1: "1527.0625",
    x2: "1275",
    y2: "1527.0625",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  })), HTML.G(HTML.TEXT({
    x: "1275",
    y: "1555.0625",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "use QSocks to connect to engine API."), HTML.LINE({
    x1: "1075",
    y1: "1562.0625",
    x2: "1475",
    y2: "1562.0625",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  })), HTML.G(HTML.TEXT({
    x: "1575",
    y: "1590.0625",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "open app"), HTML.LINE({
    x1: "1475",
    y1: "1597.0625",
    x2: "1675",
    y2: "1597.0625",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  })), HTML.G(HTML.TEXT({
    x: "1575",
    y: "1625.0625",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "get script"), HTML.LINE({
    x1: "1475",
    y1: "1632.0625",
    x2: "1675",
    y2: "1632.0625",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  })), HTML.G(HTML.TEXT({
    x: "1575",
    y: "1660.0625",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "replace script (e.g. replace database conn.)"), HTML.LINE({
    x1: "1475",
    y1: "1667.0625",
    x2: "1675",
    y2: "1667.0625",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  })), HTML.G(HTML.TEXT({
    x: "1575",
    y: "1695.0625",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "reload app"), HTML.LINE({
    x1: "1475",
    y1: "1702.0625",
    x2: "1675",
    y2: "1702.0625",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  })), HTML.G(HTML.TEXT({
    x: "1175",
    y: "1730.0625",
    class: "messageText",
    style: "text-anchor: middle;"
  }, "Publish app into ", HTML.CharRef({
    html: "&lt;",
    str: "<"
  }), "customer name", HTML.CharRef({
    html: "&gt;",
    str: ">"
  }), " stream"), HTML.LINE({
    x1: "1075",
    y1: "1737.0625",
    x2: "1275",
    y2: "1737.0625",
    class: "messageLine0",
    "stroke-width": "2",
    stroke: "black",
    "marker-end": "url(#arrowhead)",
    style: "fill: none;"
  })), HTML.G(HTML.RECT({
    x: "100",
    y: "1747.0625",
    fill: "#EDF2AE",
    stroke: "#666",
    width: "300",
    height: "120",
    rx: "0",
    ry: "0",
    class: "note"
  })), HTML.G(HTML.TEXT({
    x: "116",
    y: "1775",
    fill: "black",
    class: "noteText"
  }, HTML.TSPAN({
    x: "116"
  }, "The webpage automatically updates"), HTML.TSPAN({
    dy: "21",
    x: "116"
  }, "because we registered a notification event"), HTML.TSPAN({
    dy: "21",
    x: "116"
  }, "in the Qlik Sense QRS - notification API."), HTML.TSPAN({
    dy: "21",
    x: "116"
  }, "This API will give a signal to Meteor if we"), HTML.TSPAN({
    dy: "21",
    x: "116"
  }, "can get the fresh app and stream lists."))), HTML.G(HTML.RECT({
    x: "0",
    y: "1887.0625",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "75",
    y: "1924.5625",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Browser")), HTML.G(HTML.RECT({
    x: "200",
    y: "1887.0625",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "275",
    y: "1924.5625",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Meteor")), HTML.G(HTML.RECT({
    x: "400",
    y: "1887.0625",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "475",
    y: "1924.5625",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Generation template")), HTML.G(HTML.RECT({
    x: "600",
    y: "1887.0625",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "675",
    y: "1924.5625",
    class: "actor",
    style: "text-anchor: middle;"
  }, "OEMPartner template")), HTML.G(HTML.RECT({
    x: "800",
    y: "1887.0625",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "875",
    y: "1924.5625",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Server")), HTML.G(HTML.RECT({
    x: "1000",
    y: "1887.0625",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "1075",
    y: "1924.5625",
    class: "actor",
    style: "text-anchor: middle;"
  }, "AppFunctions")), HTML.G(HTML.RECT({
    x: "1200",
    y: "1887.0625",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "1275",
    y: "1924.5625",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Qlik Sense QRS API")), HTML.G(HTML.RECT({
    x: "1400",
    y: "1887.0625",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "1475",
    y: "1924.5625",
    class: "actor",
    style: "text-anchor: middle;"
  }, "QSocks engine API wrapper")), HTML.G(HTML.RECT({
    x: "1600",
    y: "1887.0625",
    fill: "#eaeaea",
    stroke: "#666",
    width: "150",
    height: "65",
    rx: "3",
    ry: "3",
    class: "actor"
  }), HTML.TEXT({
    x: "1675",
    y: "1924.5625",
    class: "actor",
    style: "text-anchor: middle;"
  }, "Engine API")));
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"videoOverview.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/videoOverview.html                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.videoOverview.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.videoOverview.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/template.videoOverview.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("videoOverview");
Template["videoOverview"] = new Template("Template.videoOverview", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui three column grid"
  }, HTML.Raw('\n        <div class="row" style="margin-left: 0px;">\n            <h3 class="ui horizontal divider">\n                Introduction to demo\n            </h3>\n        </div>\n        '), HTML.DIV({
    class: "column"
  }, "\n            ", HTML.Raw('<h4 class="ui header">Quick Video (1M)</h4>'), "\n            ", HTML.DIV({
    class: "ui embed",
    "data-url": function() {
      return Spacebars.mustache(view.lookup("URL_Youtube_1mflashyIntro"));
    },
    "data-placeholder": "/images/introVideoSaaS1m.png"
  }), "\n\n        "), "\n\n        ", HTML.DIV({
    class: "column"
  }, "\n            ", Spacebars.include(view.lookupTemplate("introVideoArchitecture")), "\n        "), "\n        ", HTML.DIV({
    class: "column"
  }, "\n            ", HTML.Raw('<h4 class="ui header">Concept of SaaS provisioning (4M)</h4>'), "\n            ", HTML.DIV({
    class: "ui embed",
    "data-url": function() {
      return Spacebars.mustache(view.lookup("URL_Youtube_howToDemo"));
    },
    "data-placeholder": "/images/simple intro to saas automation.gif"
  }), "\n        "), "\n        ", HTML.DIV({
    class: "column"
  }, "\n            ", HTML.Raw('<h4 class="ui header">The concept &amp; demo script (7M)</h4>'), "\n            ", HTML.DIV({
    class: "ui embed",
    "data-url": function() {
      return Spacebars.mustache(view.lookup("URL_Youtube_concept_behind"));
    },
    "data-placeholder": "/images/simple intro to saas automation.gif"
  }), "\n        "), HTML.Raw('\n        <div class="row" style="margin-left: 0px;">\n            <h3 class="ui horizontal divider">\n                Security integration\n            </h3>\n        </div>\n        '), HTML.DIV({
    class: "column"
  }, Spacebars.include(view.lookupTemplate("videoGenericSecurityIntro"))), "\n        ", HTML.DIV({
    class: "column"
  }, Spacebars.include(view.lookupTemplate("videoSecurityFlow"))), "\n        ", HTML.DIV({
    class: "column"
  }, Spacebars.include(view.lookupTemplate("videoSecurityDeepDive"))), HTML.Raw('\n        <div class="row" style="margin-left: 0px;">\n            <h3 class="ui horizontal divider">\n                Web integration\n            </h3>\n        </div>\n\n        '), HTML.DIV({
    class: "column"
  }, "\n            ", HTML.Raw('<h3 class="ui header">Introduction web integration (1M)</h3>'), "\n            ", HTML.DIV({
    class: "ui embed",
    "data-url": function() {
      return Spacebars.mustache(view.lookup("URL_Youtube_webintegration_introduction"));
    },
    "data-placeholder": "/images/qlik sense embedded example.png"
  }), "\n        "), "\n        ", HTML.DIV({
    class: "column"
  }, Spacebars.include(view.lookupTemplate("videoWebExtended"))), "\n        ", HTML.DIV({
    class: "column"
  }, Spacebars.include(view.lookupTemplate("videoWebWorkshop"))), "\n    ");
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webIntegration.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/webIntegration.html                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.webIntegration.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.webIntegration.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/template.webIntegration.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("webIntegration");
Template["webIntegration"] = new Template("Template.webIntegration", (function() {
  var view = this;
  return [ HTML.Raw('<!-- <DIV class="ui four column doubling stackable grid container"> -->\n    <div class="ui text container">\n        <h3 class="ui header">Web integration: Embed Qlik Sense</h3>\n        <!-- <img class="ui medium left floated image" src="images/embed.png"> -->\n        <p>Qlik allows integration options. You can choose your desired level of web integration according to your business requirements. On the client side, you can use either the Qlik client or create your own client.</p>\n        <p>If you choose to use the Qlik Sense Client, you have the following integration options: integrate the hub, an app, a sheet or individual charts. In most cases you have the ability to control whether you see our menu, see a selection bar or whether or not you provide initial selections to make charts static.\n        </p>\n        <div class="ui divider"></div>\n        <h4 class="ui header">How would a successful integration of Qlik Sense into your application architecture look?</h4>\n        <img class="ui medium right floated image" data-action="zoom" alt="qlik sense embedded example" src="images/qlik sense embedded example.png">\n        <p>Your goal is to create embedded analytics using the Qlik platform within a multi-tenant SaaS environment, where each of your customers would only have access to their own data. It’s possible for each customer to have a more finely tuned authorization structure.</p>\n        <p>For example, it is possible to provide authorizations for a specific department or country within a dashboard. You’ll see a simple solution in our demonstration where both of our fictitious users, Peter and John, go to the same website but see different things based on their authorizations. Qlik Sense makes this possible because it uses a dynamic, attribute-based security approach in which we re-use all the pre-existing users and roles from your SaaS platform. This ensures Qlik Sense stays in sync automatically and avoids the overhead of double maintenance.</p>\n        <div class="ui divider"></div>\n        <h4 class="ui header">The technology used</h4>\n        <!-- <img class="ui small left floated image" src="images/embed.png"> -->\n        <p>You can integrate the Qlik Sense hub, apps, sheets or individual objects using an Iframe or DIV tag. All functionality is delivered via a webserver called the proxy (QPS). The visual parts of Qlik Sense are based on common web technology including web sockets, Javascript, CSS3, HTML5 and Angular. If you want to use our software to create apps, then you can use the APIs or you will need the Qlik Sense Client which is contained in the hub of Qlik Sense Enterprise. If you just want to display sheets or charts you can use both QAP as well as Qlik Sense Enterprise.</p>\n        <img class="ui medium right floated image" data-action="zoom" alt="capabilities API - DIV tag Saas platform to proxy" src="images/capabilities API - DIV tag Saas platform to proxy.png">\n        <div class="ui divider"></div>\n        <h4 class="ui header">Options to integrate</h4>\n        <p>There are multiple <a href="#" class="webIntegrationMindMap">ways</a> to integrate Qlik Sense into your website. You can design apps and charts upfront or generate them on the fly. Our <a href="https://help.qlik.com/en-US/sense-developer/3.0/Subsystems/Dev-Hub/Content/Overview/dev-hub-startpage.htm">development hub</a> or <a href="http://help.qlik.com/en-US/sense-developer/2.2/Subsystems/Plugins/Content/GettingStarted/GettingStarted.htm">Visual Studio plugin </a> help generate the code for you. See an example flow using DIV/javascript integration on the right).</p>\n        <div class="center aligned column">\n            <div class="ui mini buttons">\n                <!-- <a href="#" class="webIntegrationMindMap ui button">Mindmap</a> -->\n                <!--  <DIV class="or"></DIV>\n                        <a href="{{doc_webIntegration}}" target="_blank" class="ui button">Community whitepaper</a> -->\n            </div>\n        </div>\n        <!-- <div class="ui divider"></div>\n        <h4 class="ui header">Videos</h4> {{>webVideos}} -->\n    </div>\n\n        '), Spacebars.include(view.lookupTemplate("webIntegrationMindMap")) ];
}));

Template.__checkName("webVideos");
Template["webVideos"] = new Template("Template.webVideos", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui three column centered grid"
  }, "\n        ", HTML.DIV({
    class: "column"
  }, " ", Spacebars.include(view.lookupTemplate("videoWebIntroduction"))), "\n        ", HTML.DIV({
    class: "column"
  }, Spacebars.include(view.lookupTemplate("videoWebExtended"))), "\n        ", HTML.DIV({
    class: "column"
  }, Spacebars.include(view.lookupTemplate("videoWebWorkshop"))), "\n    ");
}));

Template.__checkName("videoWebIntroduction");
Template["videoWebIntroduction"] = new Template("Template.videoWebIntroduction", (function() {
  var view = this;
  return [ HTML.Raw('<h4 class="ui header">Web integration overview (1M)</h4>\n    '), HTML.DIV({
    class: "ui embed",
    "data-url": function() {
      return Spacebars.mustache(view.lookup("URL_Youtube_webintegration_introduction"));
    },
    "data-action": "zoom",
    "data-placeholder": "/images/qlik sense embedded example.png"
  }), HTML.Raw('\n    <div class="item">\n        <!-- <DIV class="content">\n            \n            <DIV class="meta">\n                <span></span>\n            </DIV>\n            <DIV class="description">In this quick overview you’ll see the key options for embedding Qlik Sense.</DIV>\n            <DIV class="extra">\n            </DIV>\n        </DIV> -->\n    </div>') ];
}));

Template.__checkName("videoWebExtended");
Template["videoWebExtended"] = new Template("Template.videoWebExtended", (function() {
  var view = this;
  return [ HTML.Raw('<h4 class="ui header">Exploring web integration (11M)</h4>\n    '), HTML.DIV({
    class: "ui embed",
    "data-url": function() {
      return Spacebars.mustache(view.lookup("URL_Youtube_webintegration_extended"));
    },
    "data-placeholder": "/images/introVideoQAP.png"
  }), HTML.Raw('\n    <div class="item">\n    </div>') ];
}));

Template.__checkName("videoWebWorkshop");
Template["videoWebWorkshop"] = new Template("Template.videoWebWorkshop", (function() {
  var view = this;
  return HTML.Raw('<h4 class="ui header">Workshop web integration (30M)</h4>\n    <div class="ui embed" data-url="https://www.youtube.com/embed/FHQRaYOogiU" data-placeholder="/images/slide generator - security workshop screenshot.png"></div>\n    <div class="item">\n    </div>');
}));

Template.__checkName("webIntegrationMindMap");
Template["webIntegrationMindMap"] = new Template("Template.webIntegrationMindMap", (function() {
  var view = this;
  return HTML.Raw('<div class="ui modal webIntegrationMindMap" role="dialog" aria-labelledby="mindmapembed" style="height: 800px;">\n        <div class="ui icon message">\n            <img class="icon" src="images/API.png">\n            <div class="content">\n                <div class="header">\n                    <h4 id="mindmapembed">Options to embed Qlik Sense in your SaaS platform</h4>\n                </div>\n            </div>\n        </div>\n        <div class="ui DIVider"></div>\n        <div class="ui one column centered grid">\n            <div class="column centered">\n                <img class="ui fluid image" src="/images/mindMapWebIntegration.png">\n            </div>\n        </div>\n        <div class="actions">\n            <div class="ui positive right labeled icon button">\n                I got it...\n                <i class="checkmark icon"></i>\n            </div>\n        </div>\n    </div>');
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"APILogs.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/APILogs.js                                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Session;
module.watch(require("meteor/session"), {
  Session: function (v) {
    Session = v;
  }
}, 1);
module.watch(require("/imports/ui/UIHelpers"));
var APILogs;
module.watch(require("/imports/api/APILogs"), {
  APILogs: function (v) {
    APILogs = v;
  }
}, 2);
module.watch(require("./sequenceDiagrams.html"));
module.watch(require("./sequenceDiagrams.js"));
var hljs;
module.watch(require("highlight.js"), {
  "default": function (v) {
    hljs = v;
  }
}, 3);
var moment;
module.watch(require("moment"), {
  "default": function (v) {
    moment = v;
  }
}, 4);
Template.ApiLogsTable.helpers({
  restrictedApiLogs: function () {
    return APILogs.find({}, {
      fields: {
        'response.content': 0
      },
      sort: {
        createDate: -1
      }
    });
  },
  formattedResponse: function (value) {
    return formatResponse(value);
  }
}); //convert a js object to a html string with extra classes added. 

function formatResponse(value) {
  if (value) {
    var objectToString = new Spacebars.SafeString(JSON.stringify(value, undefined, 2));
    return objectToString; // var highlighted = hljs.highlightAuto(objectToString.string).value;
    // return highlighted;
  }
}

Template.APILogs.onRendered(function () {
  Template.instance().$('.ui.accordion').accordion({
    exclusive: false
  });
  Template.instance().$('.ui.embed').embed();
});
Template.ApiLogsTable.onCreated(function () {
  var apiLogsHandle = Meteor.subscribe('apiLogs');
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"architecture.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/architecture.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Session;
module.watch(require("meteor/session"), {
  Session: function (v) {
    Session = v;
  }
}, 1);
module.watch(require("/imports/ui/UIHelpers"));
var APILogs;
module.watch(require("/imports/api/APILogs"), {
  APILogs: function (v) {
    APILogs = v;
  }
}, 2);
Template.introductionSecurity.events({
  'click .mindMapSecurity': function () {
    $('.ui.modal.mindMapSecurity').modal('show');
  },
  'click .integratedFlowModal': function () {
    $('.ui.modal.integratedFlowModal').modal('show');
  }
});
Template.introductionSecurity.onRendered(function () {
  Template.instance().$('.ui.embed').embed();
  Template.instance().$('.ui.accordion').accordion({
    exclusive: false
  });
});
Template.architecture.onRendered(function () {
  Template.instance().$('.ui.embed').embed();
});
Template.introductionArchitecturePage.onRendered(function () {
  Template.instance().$('.ui.accordion').accordion({
    exclusive: false
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"documentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/documentation.js                                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Meteor;
module.watch(require("meteor/meteor"), {
  Meteor: function (v) {
    Meteor = v;
  }
}, 0);
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 1);
Template.documentation.onRendered(function () {
  var tab = getQueryParams('tab');

  if (tab === 'video') {
    this.$('.menu .item').removeClass('active');
    this.$('.menu .item[data-tab="seven"]').addClass('active');
    this.$('.ui.bottom.attached.tab.segment').removeClass('active');
    this.$('.ui.bottom.attached.tab.segment[data-tab="seven"]').addClass('active');
  }

  this.$('.menu .item').tab();
});
Template.documentation.helpers({
  tabOneActive: function () {
    var role = 'Select a role'; // if (Session.get('userRole')) {
    //     role = Session.get('userRole')
    //     $('.dropdown-menu li').find(role).parent().addClass('active')
    // } else {
    //     Session.set('userRole', role);
    // }    

    if (localStorage.userRole) {
      role = localStorage.userRole;
      $('.dropdown-menu li').find(role).parent().addClass('active');
    } else {
      localStorage['userRole'] = role;
    }

    return role;
  },
  isTabArchitecture: function () {
    var tab = getQueryParams('tab');
    return tab === 'video' ? null : 'active';
  },
  isTabVideo: function () {
    var tab = getQueryParams('tab');
    return tab === 'video' ? 'active' : null;
  }
}); // @TODO Replace

function getQueryParams(name, url) {
  if (!url) url = window.location.href;
  name = name.replace(/[\[\]]/g, "\\$&");
  var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
      results = regex.exec(url);
  if (!results) return null;
  if (!results[2]) return '';
  return decodeURIComponent(results[2].replace(/\+/g, " "));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"introduction.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/introduction.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Session;
module.watch(require("meteor/session"), {
  Session: function (v) {
    Session = v;
  }
}, 1);
module.watch(require("/imports/ui/UIHelpers"));
var APILogs;
module.watch(require("/imports/api/APILogs"), {
  APILogs: function (v) {
    APILogs = v;
  }
}, 2);
Template.introduction.onRendered(function () {
  Template.instance().$('.ui.accordion').accordion({
    exclusive: false
  });
  Template.instance().$('.ui.embed').embed();
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"introductionSecurity.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/introductionSecurity.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Session;
module.watch(require("meteor/session"), {
  Session: function (v) {
    Session = v;
  }
}, 1);
module.watch(require("/imports/ui/UIHelpers"));
var APILogs;
module.watch(require("/imports/api/APILogs"), {
  APILogs: function (v) {
    APILogs = v;
  }
}, 2);
Template.introductionSecurity.events({
  'click .mindMapSecurity': function () {
    $('.ui.modal.mindMapSecurity').modal('show').modal('refresh').modal('refresh');
  },
  'click .integratedFlowModal': function () {
    $('.ui.modal.integratedFlowModal').modal('show');
  }
});
Template.introductionSecurity.onRendered(function () {
  Template.instance().$('.ui.embed').embed();
  Template.instance().$('.ui.accordion').accordion({
    exclusive: false
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"securityRules.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/securityRules.js                                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Session;
module.watch(require("meteor/session"), {
  Session: function (v) {
    Session = v;
  }
}, 1);
module.watch(require("/imports/ui/UIHelpers"));
var APILogs;
module.watch(require("/imports/api/APILogs"), {
  APILogs: function (v) {
    APILogs = v;
  }
}, 2);
Template.securityRules.helpers({
  securityRulesSettings: function () {
    return {
      rowsPerPage: 10,
      responsive: true,
      autoWidth: true,
      showFilter: true,
      showColumnToggles: true,
      fields: [{
        key: 'name',
        label: 'name',
        sortOrder: 1,
        sortDirection: 'descending'
      }, 'rule', 'resourceFilter', 'comment']
    };
  },
  getSecurityRules: function () {
    // console.log(Session.get('securityRules'));
    return Session.get('securityRules');
  },
  active: function () {
    return Session.get('loadingIndicator');
  }
});
Template.securityRules.events({
  'click .selfservice ': function () {
    $('.ui.modal.SSBI').modal('show');
  }
});
Template.securityRules.onRendered(function () {
  console.log('Get the system rules from Sense');
  this.$('.dimmer').dimmer('show');
  Meteor.call('getSecurityRules', function (error, result) {
    if (error) {
      console.error(error);
      Session.set('loadingIndicator', '');
    } else {
      Session.set('securityRules', result);
      console.log('result', result);
    }

    $('.dimmer').dimmer('hide');
  });
  var inputBox = this.$('.reactive-table-input.form-control');
  inputBox.val('Z_');
  var e = jQuery.Event("keydown");
  e.which = 13; // # Some key code value

  inputBox.trigger(e);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sequenceDiagrams.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/sequenceDiagrams.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"videoOverview.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/videoOverview.js                                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Template.videoOverview.onRendered(function () {
  Template.instance().$('.ui.embed').embed();
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webIntegration.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/pages/webIntegration.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Session;
module.watch(require("meteor/session"), {
  Session: function (v) {
    Session = v;
  }
}, 1);
module.watch(require("/imports/ui/UIHelpers"));
var APILogs;
module.watch(require("/imports/api/APILogs"), {
  APILogs: function (v) {
    APILogs = v;
  }
}, 2);
Template.webIntegration.events({
  'click .webIntegrationMindMap': function () {
    $('.ui.modal.webIntegrationMindMap').modal('show').modal('refresh').modal('refresh');
  }
});
Template.webIntegration.onRendered(function () {
  Template.instance().$('.ui.embed').embed(); // // lazy load images
  // Template.instance()
  //     .$('.image')
  //     .visibility({
  //         type: 'image',
  //         transition: 'vertical flip in',
  //         duration: 500
  //     });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"slideGenerator":{"slideSelectionSheet.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/slideGenerator/slideSelectionSheet.html                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.slideSelectionSheet.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.slideSelectionSheet.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/slideGenerator/template.slideSelectionSheet.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("slideSelectionSheet");
Template["slideSelectionSheet"] = new Template("Template.slideSelectionSheet", (function() {
  var view = this;
  return HTML.DIV({
    id: "sheetSelector",
    class: "ui container sheetSelector"
  }, HTML.Raw('\n        <h1 class="ui header">\n            <img class="ui image" src="/images/school.png" alt="image of school">\n            <div class="content">\n              Learn More\n            </div>\n          </h1>\n          <p>Please choose the subjects from left to right to generate a presentation, based on your selections.</p>\n        '), HTML.DIV({
    class: "ui segments"
  }, "\n            ", HTML.DIV({
    class: ""
  }, HTML.IFRAME({
    id: "selectionSlide",
    src: function() {
      return Spacebars.mustache(view.lookup("IFrameURLChapterSelection"));
    },
    class: "selector",
    style: "border: none;"
  }, "\n            ")), "        \n                \n            ", HTML.Raw('<div class="blue  button box-content">\n\n              <nav role="presentation" aria-label="Main Navigation" id="flyoutnavkbfixed">\n                  <ul>\n                      <li class="has-submenu">\n                          <a href="/slides" class="start button" id="bodyDropdown">Start your presentation</a>\n                          \n                      </li>\n                  </ul>\n              </nav>\n          </div>'), "\n           \n          "), "      \n        \n    ");
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"slides.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/slideGenerator/slides.html                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.slides.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.slides.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/slideGenerator/template.slides.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("slidesContainerIFrame");
Template["slidesContainerIFrame"] = new Template("Template.slidesContainerIFrame", (function() {
  var view = this;
  return HTML.IFRAME({
    allowfullscreen: "",
    src: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "slides");
    },
    class: "frame"
  });
}));

Template.__checkName("slides");
Template["slides"] = new Template("Template.slides", (function() {
  var view = this;
  return [ HTML.Raw("<!-- for each header: a level 1 and 2 combination -->\n  <!--         Create a chapter breaker if the level 1 has changed in the current row-->\n  <!-- The current level 1 and 2 headers -->\n  "), Spacebars.include(view.lookupTemplate("slideShareModal")), "\n  ", Blaze.If(function() {
    return Spacebars.call(view.lookup("showSelector"));
  }, function() {
    return [ "\n  ", Spacebars.include(view.lookupTemplate("slideSelectionSheet")), "\n  " ];
  }), "\n\n\n\n  ", HTML.DIV({
    class: "reveal"
  }, "\n    ", HTML.DIV({
    class: "slides"
  }, "\n      ", HTML.Raw('<div class="sr-only">Use your keyboard arrows to navigate through the slides</div>'), "\n\n      ", Blaze.If(function() {
    return Spacebars.call(view.lookup("showSubjectAreaIntroduction"));
  }, function() {
    return [ "\n      ", HTML.SECTION("\n        ", HTML.DIV({
      class: "ui container",
      style: "text-align:left"
    }, "\n          ", HTML.H1({
      class: "ui dividing header"
    }, Blaze.View("lookup:presentationName", function() {
      return Spacebars.mustache(view.lookup("presentationName"));
    }), " integration", HTML.A({
      class: "anchor",
      id: "types"
    })), "\n\n          ", HTML.H2({
      class: "ui header"
    }, " Introduction"), "\n          When embedding Qlik Sense in your platform, there are several integration topics to cover. Some key topics\n          which you will find in the top menu are\n          ", HTML.Comment(' <div class="ui bulleted list">\n            <div class="item">App, What is a Qlik Sense app, how to use alerts/reports and predictive models?\n              (dashboard)</div>\n            <div class="item">Data, how to get the data into the dashboard?</div>\n            <div class="item">Web, how do you embed the content into your site?</div>\n            <div class="item">Security, how do you enforce single sing on?</div>\n            <div class="item">API, how do you setup multitenant SaaS provisioning using the APIs?</div>\n            <div class="item">Deployment, how would an integrated architecture look like?</div>\n\n          </div> '), "\n          ", HTML.TABLE({
      id: "subjectAreaIntro",
      class: "ui celled table"
    }, "\n            ", HTML.THEAD("\n              ", HTML.TR(HTML.TH("Subject Area"), "\n              ", HTML.TH("Description"), "\n            ")), "\n            ", HTML.TBODY("\n              ", HTML.TR("\n                ", HTML.TD("App"), "\n                ", HTML.TD("What is a Qlik Sense app (dashboard), how to use alerts, reports and predictive models?\n                  "), "\n              "), "\n              ", HTML.TR("\n                ", HTML.TD("Data"), "\n                ", HTML.TD("How to get the data into the dashboard?"), "\n              "), "\n              ", HTML.TR("\n                ", HTML.TD("Embedding"), "\n                ", HTML.TD("How do you embed a dashboard into your platform?"), "\n              "), "\n              ", HTML.TR("\n                ", HTML.TD("Security"), "\n                ", HTML.TD("How do you enforce single sing on?"), "\n              "), "\n              ", HTML.TR("\n                ", HTML.TD("API"), "\n                ", HTML.TD("How to do multitenant SaaS provisioning using the APIs or Qlik Application Automation?"), "\n              "), "\n              ", HTML.TR("\n                ", HTML.TD("Deployment"), "\n                ", HTML.TD("What would an integrated architecture look like?"), "\n              "), "\n              \n            "), "\n          "), "\n          ", HTML.H2({
      class: "ui header"
    }, "Navigation"), "\n\n          ", HTML.P("First, select the subject area of choice from the top menu. Next, you can find additional chapters related\n            to your selection on the left side. You are now navigating in a slide show created using the Qlik Sense\n            APIs, use your arrow buttons on your keyboard or click on the arrow.\n          "), "\n          ", HTML.P("\n          ", HTML.DIV({
      class: "ui placeholder "
    }, "\n            ", HTML.IMG({
      class: "ui image",
      src: "/images/subject area introduction.png"
    }), "\n\n          "), "\n\n\n          "), "\n\n        "), "\n      "), "\n      " ];
  }, function() {
    return [ "\n\n      ", Blaze.Each(function() {
      return Spacebars.call(view.lookup("slideHeaders"));
    }, function() {
      return [ "\n      ", Blaze.If(function() {
        return Spacebars.dataMustache(view.lookup("chapterSlide"), view.lookup("."));
      }, function() {
        return [ "\n      ", HTML.SECTION("\n        ", HTML.DIV({
          class: "ui grid"
        }, "\n          ", HTML.DIV({
          class: "two wide column"
        }, "\n            ", Spacebars.include(view.lookupTemplate("chapters")), "\n          "), "\n          ", HTML.DIV({
          class: "twelve wide column"
        }, "\n            ", HTML.DIV({
          class: "ui integrationBreaker",
          style: "text-align: left;font-size: 1em;"
        }, "\n              ", HTML.H1({
          class: "ui header",
          style: "color: #0E2F4E;"
        }, "\n                Next chapter: ", Blaze.View("lookup:.", function() {
          return Spacebars.mustache(view.lookup("."));
        }), " "), "\n              ", HTML.DIV({
          class: "ui divider"
        }), "\n              ", HTML.DIV("\n\n                ", HTML.H2({
          class: "ui header",
          style: "font-size: 1em;"
        }, "In this chapter you will see the following slides: "), "\n                ", Blaze.Each(function() {
          return {
            _sequence: Spacebars.call(view.lookup("TableOfContentForChapter")),
            _variable: "slide"
          };
        }, function() {
          return [ "\n                ", HTML.DIV({
            class: "ui bulleted list",
            style: ""
          }, "\n                  ", HTML.DIV({
            class: "item"
          }, " ", Blaze.View("lookup:slide", function() {
            return Spacebars.mustache(view.lookup("slide"));
          }), "\n                  "), "\n                "), "\n                " ];
        }), "\n                ", HTML.BR(), "\n                ", HTML.DIV({
          class: "ui icon message"
        }, "\n                  ", HTML.I({
          class: "book icon"
        }), "\n                  ", HTML.DIV({
          class: "content"
        }, "\n                    ", HTML.DIV({
          class: "header"
        }, "\n                      How to move through the content library?\n                    "), "\n                    ", HTML.P("You can click the right arrow to navigate through all the slides, or you can directly go to a\n                      specific chapter by using the menu on the left,\n                      or start over by selecting a different subject area in the top. "), "\n                  "), "\n                "), "\n              "), "\n            "), "\n          "), "\n        "), "\n      "), "\n      " ];
      }, function() {
        return [ "\n      ", Blaze._TemplateWith(function() {
          return {
            slide: Spacebars.call(view.lookup(".")),
            slideNr: Spacebars.call(view.lookup("@index"))
          };
        }, function() {
          return Spacebars.include(view.lookupTemplate("slide"));
        }), "\n      " ];
      }), "\n      " ];
    }), "\n      " ];
  }), "\n    "), "\n  ") ];
}));

Template.__checkName("slide");
Template["slide"] = new Template("Template.slide", (function() {
  var view = this;
  return HTML.SECTION({
    class: "slide"
  }, "\n    ", HTML.DIV({
    class: "wrap"
  }, "\n      ", HTML.DIV({
    class: "ui grid"
  }, "\n        ", HTML.DIV({
    class: "two wide column"
  }, "\n          ", Spacebars.include(view.lookupTemplate("chapters")), "\n        "), "\n        ", HTML.DIV({
    class: "twelve wide column"
  }, "\n          ", Blaze.If(function() {
    return Spacebars.dataMustache(view.lookup("active"), view.lookup("slideNr"));
  }, function() {
    return [ "\n          ", HTML.Comment(" <h1> {{{level 1 slide}}}</h1> "), "\n          ", HTML.H2(Blaze.View("lookup:level", function() {
      return Spacebars.makeRaw(Spacebars.mustache(view.lookup("level"), 2, view.lookup("slide")));
    }), "\n            ", HTML.Comment(' <hr role="presentation"> '), "\n          "), "\n\n          ", Blaze._TemplateWith(function() {
      return {
        slide: Spacebars.call(view.lookup("slide"))
      };
    }, function() {
      return Spacebars.include(view.lookupTemplate("slideContent"));
    }), "\n          " ];
  }), "\n        "), "\n\n      "), "\n    "), HTML.Raw('\n    <hr role="presentation">\n    '), Spacebars.include(view.lookupTemplate("footer")), "\n  ");
}));

Template.__checkName("chapters");
Template["chapters"] = new Template("Template.chapters", (function() {
  var view = this;
  return HTML.DIV({
    id: "chapters",
    class: "ui secondary vertical fluid menu",
    style: "text-align: left"
  }, "\n    ", HTML.DIV({
    class: "header item"
  }, "\n      ", Blaze.If(function() {
    return Spacebars.call(view.lookup("presentationName"));
  }, function() {
    return [ "\n      ", Blaze.View("lookup:presentationName", function() {
      return Spacebars.mustache(view.lookup("presentationName"));
    }), " - ", Blaze.View("lookup:currentSubjectArea", function() {
      return Spacebars.mustache(view.lookup("currentSubjectArea"));
    }), " chapters\n      " ];
  }, function() {
    return "\n      Chapters shared with you\n      ";
  }), "\n    "), "\n    ", Blaze.Each(function() {
    return {
      _sequence: Spacebars.call(view.lookup("chapters")),
      _variable: "chapter"
    };
  }, function() {
    return [ "\n\n    ", HTML.A({
      id: function() {
        return Spacebars.mustache(Spacebars.dot(view.lookup("chapter"), "qText"));
      },
      href: "",
      class: function() {
        return [ Spacebars.mustache(view.lookup("active"), view.lookup("chapter")), " item" ];
      }
    }, "\n      ", Blaze.View("lookup:chapter.qText", function() {
      return Spacebars.mustache(Spacebars.dot(view.lookup("chapter"), "qText"));
    }), "\n    "), "\n\n    " ];
  }), "\n  ");
}));

Template.__checkName("slideContent");
Template["slideContent"] = new Template("Template.slideContent", (function() {
  var view = this;
  return HTML.DIV({
    class: "slideContent"
  }, "\n\n    ", Blaze.Each(function() {
    return {
      _sequence: Spacebars.call(view.lookup("bullets")),
      _variable: "bullet"
    };
  }, function() {
    return [ " ", Blaze.View("lookup:bullet", function() {
      return Spacebars.makeRaw(Spacebars.mustache(view.lookup("bullet")));
    }), " " ];
  }), "\n    ", Blaze.View("lookup:comment", function() {
    return Spacebars.makeRaw(Spacebars.mustache(view.lookup("comment")));
  }), "\n  ");
}));

Template.__checkName("slideShareModal");
Template["slideShareModal"] = new Template("Template.slideShareModal", (function() {
  var view = this;
  return HTML.DIV({
    class: "modal micromodal-slide",
    id: "modal-1",
    "aria-hidden": "true"
  }, "\n    ", HTML.DIV({
    class: "modal__overlay",
    tabindex: "-1",
    "data-micromodal-close": ""
  }, "\n      ", HTML.DIV({
    id: "modal-container",
    class: "modal__container",
    role: "dialog",
    "aria-modal": "true",
    "aria-labelledby": "modal-1-title"
  }, "\n        ", HTML.Raw('<header id="modal-header" class="modal__header">\n          <h2 class="modal__title">\n            Get a link for this presentation\n          </h2>\n          <button class="modal__close" aria-label="Close modal" data-micromodal-close=""></button>\n        </header>'), "\n        ", HTML.DIV({
    id: "modal-content-content",
    class: "modal-content-content"
  }, "\n          ", HTML.DIV({
    id: "modal-content",
    class: "modal__content",
    style: "display:none;"
  }, "\n            ", HTML.P("Please copy this link: ", HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("shareLinkURL"));
    }
  }, Blaze.View("lookup:shareLinkURL", function() {
    return Spacebars.mustache(view.lookup("shareLinkURL"));
  })), ". With this link another user can\n              open this presentation with exactly the same selection (slides)."), "\n          "), "\n          ", HTML.Raw('<footer id="modal-footer" class="modal__footer">\n            <button class="modal__btn" data-micromodal-close="" aria-label="Close this dialog window">Close</button>\n          </footer>'), "\n        "), "\n      "), "\n    "), "\n  ");
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"helper.css":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/slideGenerator/helper.css                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.exports = require("meteor/modules").addStyles(
  "\n/* Include in your HTML file along with accessibility-helper.js\n  or copy contents to your theme css */\n\n/*********************************************\n * AccessibilityHelper Plugin\n *\n * MIT licensed\n *\n * 2014 Marcy Sutton, http://marcysutton.com\n *********************************************/\n.reveal .slides>section>.accessibilityWrapper,\n.reveal .slides>section>section>.accessibilityWrapper {\n  display: none;\n  visibility: hidden;\n}\n\n.reveal .slides section.present > .accessibilityWrapper {\n  display: block;\n  visibility: visible;\n  outline: none;\n}\n.reveal .slides.staticPage > section {\n  display: block !important;\n}\n.reveal #global-skip-link {\n  display: block;\n  font-size: 0.6em;\n  left: -50000px;\n  padding: 5px 10px;\n  position: fixed;\n  white-space: nowrap;\n}\n.reveal ul#table-of-contents {\n  display: block;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  position: fixed;\n}\n.reveal ul#table-of-contents li {\n  margin: 0;\n  padding: 0;\n}\n.reveal ul#table-of-contents li a {\n  display: block;\n  font-size: 0.6em;\n  left: -50000px;\n  padding: 5px 10px;\n  position: absolute;\n  white-space: nowrap;\n}\n"
);

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"reveal.css":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/slideGenerator/reveal.css                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.exports = require("meteor/modules").addStyles(
  "/*!\n * reveal.js\n * http://revealjs.com\n * MIT licensed\n *\n * Copyright (C) 2019 Hakim El Hattab, http://hakim.se\n */\n/*********************************************\n * GLOBAL STYLES\n *********************************************/\nhtml {\n    width: 100%;\n    height: 100%;\n    height: 100vh;\n    height: calc( var(--vh, 1vh) * 100);\n    overflow: hidden; }\n  \n  body {\n    height: 100%;\n    overflow: scroll;\n    position: relative;\n    line-height: 1;\n    margin: 0;\n    background-color: #fff;\n    color: #000; }\n  \n  /*********************************************\n   * VIEW FRAGMENTS\n   *********************************************/\n  .reveal .slides section .fragment {\n    opacity: 0;\n    visibility: hidden;\n    transition: all .2s ease; }\n    .reveal .slides section .fragment.visible {\n      opacity: 1;\n      visibility: inherit; }\n  \n  .reveal .slides section .fragment.grow {\n    opacity: 1;\n    visibility: inherit; }\n    .reveal .slides section .fragment.grow.visible {\n      -webkit-transform: scale(1.3);\n              transform: scale(1.3); }\n  \n  .reveal .slides section .fragment.shrink {\n    opacity: 1;\n    visibility: inherit; }\n    .reveal .slides section .fragment.shrink.visible {\n      -webkit-transform: scale(0.7);\n              transform: scale(0.7); }\n  \n  .reveal .slides section .fragment.zoom-in {\n    -webkit-transform: scale(0.1);\n            transform: scale(0.1); }\n    .reveal .slides section .fragment.zoom-in.visible {\n      -webkit-transform: none;\n              transform: none; }\n  \n  .reveal .slides section .fragment.fade-out {\n    opacity: 1;\n    visibility: inherit; }\n    .reveal .slides section .fragment.fade-out.visible {\n      opacity: 0;\n      visibility: hidden; }\n  \n  .reveal .slides section .fragment.semi-fade-out {\n    opacity: 1;\n    visibility: inherit; }\n    .reveal .slides section .fragment.semi-fade-out.visible {\n      opacity: 0.5;\n      visibility: inherit; }\n  \n  .reveal .slides section .fragment.strike {\n    opacity: 1;\n    visibility: inherit; }\n    .reveal .slides section .fragment.strike.visible {\n      text-decoration: line-through; }\n  \n  .reveal .slides section .fragment.fade-up {\n    -webkit-transform: translate(0, 20%);\n            transform: translate(0, 20%); }\n    .reveal .slides section .fragment.fade-up.visible {\n      -webkit-transform: translate(0, 0);\n              transform: translate(0, 0); }\n  \n  .reveal .slides section .fragment.fade-down {\n    -webkit-transform: translate(0, -20%);\n            transform: translate(0, -20%); }\n    .reveal .slides section .fragment.fade-down.visible {\n      -webkit-transform: translate(0, 0);\n              transform: translate(0, 0); }\n  \n  .reveal .slides section .fragment.fade-right {\n    -webkit-transform: translate(-20%, 0);\n            transform: translate(-20%, 0); }\n    .reveal .slides section .fragment.fade-right.visible {\n      -webkit-transform: translate(0, 0);\n              transform: translate(0, 0); }\n  \n  .reveal .slides section .fragment.fade-left {\n    -webkit-transform: translate(20%, 0);\n            transform: translate(20%, 0); }\n    .reveal .slides section .fragment.fade-left.visible {\n      -webkit-transform: translate(0, 0);\n              transform: translate(0, 0); }\n  \n  .reveal .slides section .fragment.fade-in-then-out,\n  .reveal .slides section .fragment.current-visible {\n    opacity: 0;\n    visibility: hidden; }\n    .reveal .slides section .fragment.fade-in-then-out.current-fragment,\n    .reveal .slides section .fragment.current-visible.current-fragment {\n      opacity: 1;\n      visibility: inherit; }\n  \n  .reveal .slides section .fragment.fade-in-then-semi-out {\n    opacity: 0;\n    visibility: hidden; }\n    .reveal .slides section .fragment.fade-in-then-semi-out.visible {\n      opacity: 0.5;\n      visibility: inherit; }\n    .reveal .slides section .fragment.fade-in-then-semi-out.current-fragment {\n      opacity: 1;\n      visibility: inherit; }\n  \n  .reveal .slides section .fragment.highlight-red,\n  .reveal .slides section .fragment.highlight-current-red,\n  .reveal .slides section .fragment.highlight-green,\n  .reveal .slides section .fragment.highlight-current-green,\n  .reveal .slides section .fragment.highlight-blue,\n  .reveal .slides section .fragment.highlight-current-blue {\n    opacity: 1;\n    visibility: inherit; }\n  \n  .reveal .slides section .fragment.highlight-red.visible {\n    color: #ff2c2d; }\n  \n  .reveal .slides section .fragment.highlight-green.visible {\n    color: #17ff2e; }\n  \n  .reveal .slides section .fragment.highlight-blue.visible {\n    color: #1b91ff; }\n  \n  .reveal .slides section .fragment.highlight-current-red.current-fragment {\n    color: #ff2c2d; }\n  \n  .reveal .slides section .fragment.highlight-current-green.current-fragment {\n    color: #17ff2e; }\n  \n  .reveal .slides section .fragment.highlight-current-blue.current-fragment {\n    color: #1b91ff; }\n  \n  /*********************************************\n   * DEFAULT ELEMENT STYLES\n   *********************************************/\n  /* Fixes issue in Chrome where italic fonts did not appear when printing to PDF */\n  .reveal:after {\n    content: '';\n    font-style: italic; }\n  \n  .reveal iframe {\n    z-index: 1; }\n  \n  /** Prevents layering issues in certain browser/transition combinations */\n  .reveal a {\n    position: relative; }\n  \n  .reveal .stretch {\n    max-width: none;\n    max-height: none; }\n  \n  .reveal pre.stretch code {\n    height: 100%;\n    max-height: 100%;\n    box-sizing: border-box; }\n  \n  /*********************************************\n   * CONTROLS\n   *********************************************/\n  @-webkit-keyframes bounce-right {\n    0%, 10%, 25%, 40%, 50% {\n      -webkit-transform: translateX(0);\n              transform: translateX(0); }\n    20% {\n      -webkit-transform: translateX(10px);\n              transform: translateX(10px); }\n    30% {\n      -webkit-transform: translateX(-5px);\n              transform: translateX(-5px); } }\n  @keyframes bounce-right {\n    0%, 10%, 25%, 40%, 50% {\n      -webkit-transform: translateX(0);\n              transform: translateX(0); }\n    20% {\n      -webkit-transform: translateX(10px);\n              transform: translateX(10px); }\n    30% {\n      -webkit-transform: translateX(-5px);\n              transform: translateX(-5px); } }\n  \n  @-webkit-keyframes bounce-down {\n    0%, 10%, 25%, 40%, 50% {\n      -webkit-transform: translateY(0);\n              transform: translateY(0); }\n    20% {\n      -webkit-transform: translateY(10px);\n              transform: translateY(10px); }\n    30% {\n      -webkit-transform: translateY(-5px);\n              transform: translateY(-5px); } }\n  \n  @keyframes bounce-down {\n    0%, 10%, 25%, 40%, 50% {\n      -webkit-transform: translateY(0);\n              transform: translateY(0); }\n    20% {\n      -webkit-transform: translateY(10px);\n              transform: translateY(10px); }\n    30% {\n      -webkit-transform: translateY(-5px);\n              transform: translateY(-5px); } }\n  \n  .reveal .controls {\n    display: none;\n    position: absolute;\n    top: auto;\n    bottom: 12px;\n    right: 12px;\n    left: auto;\n    z-index: 1;\n    color: #000;\n    pointer-events: none;\n    font-size: 10px; }\n    .reveal .controls button {\n      position: absolute;\n      padding: 0;\n      background-color: transparent;\n      border: 0;\n      outline: 0;\n      cursor: pointer;\n      color: currentColor;\n      -webkit-transform: scale(0.9999);\n              transform: scale(0.9999);\n      transition: color 0.2s ease, opacity 0.2s ease, -webkit-transform 0.2s ease;\n      transition: color 0.2s ease, opacity 0.2s ease, transform 0.2s ease;\n      z-index: 2;\n      pointer-events: auto;\n      font-size: inherit;\n      visibility: hidden;\n      opacity: 0;\n      -webkit-appearance: none;\n      -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }\n    .reveal .controls .controls-arrow:before,\n    .reveal .controls .controls-arrow:after {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 2.6em;\n      height: 0.5em;\n      border-radius: 0.25em;\n      background-color: currentColor;\n      transition: all 0.15s ease, background-color 0.8s ease;\n      -webkit-transform-origin: 0.2em 50%;\n              transform-origin: 0.2em 50%;\n      will-change: transform; }\n    .reveal .controls .controls-arrow {\n      position: fixed;\n      /* width: 3.6em;\n      height: 3.6em;  */\n    }\n      .reveal .controls .controls-arrow:before {\n        -webkit-transform: translateX(0.5em) translateY(1.55em) rotate(45deg);\n                transform: translateX(0.5em) translateY(1.55em) rotate(45deg); }\n      .reveal .controls .controls-arrow:after {\n        -webkit-transform: translateX(0.5em) translateY(1.55em) rotate(-45deg);\n                transform: translateX(0.5em) translateY(1.55em) rotate(-45deg); }\n      .reveal .controls .controls-arrow:hover:before {\n        -webkit-transform: translateX(0.5em) translateY(1.55em) rotate(40deg);\n                transform: translateX(0.5em) translateY(1.55em) rotate(40deg); }\n      .reveal .controls .controls-arrow:hover:after {\n        -webkit-transform: translateX(0.5em) translateY(1.55em) rotate(-40deg);\n                transform: translateX(0.5em) translateY(1.55em) rotate(-40deg); }\n      .reveal .controls .controls-arrow:active:before {\n        -webkit-transform: translateX(0.5em) translateY(1.55em) rotate(36deg);\n                transform: translateX(0.5em) translateY(1.55em) rotate(36deg); }\n      .reveal .controls .controls-arrow:active:after {\n        -webkit-transform: translateX(0.5em) translateY(1.55em) rotate(-36deg);\n                transform: translateX(0.5em) translateY(1.55em) rotate(-36deg); }\n    .reveal .controls .navigate-left {\n      right: 6.4em;\n      bottom: 3.2em;\n      -webkit-transform: translateX(-10px);\n              transform: translateX(-10px); }\n    .reveal .controls .navigate-right {\n      right: 0;\n      bottom: 3.2em;\n      -webkit-transform: translateX(10px);\n              transform: translateX(10px); }\n      .reveal .controls .navigate-right .controls-arrow {\n        -webkit-transform: rotate(180deg);\n                transform: rotate(180deg); }\n      .reveal .controls .navigate-right.highlight {\n        -webkit-animation: bounce-right 2s 50 both ease-out;\n                animation: bounce-right 2s 50 both ease-out; }\n    .reveal .controls .navigate-up {\n      right: 3.2em;\n      bottom: 6.4em;\n      -webkit-transform: translateY(-10px);\n              transform: translateY(-10px); }\n      .reveal .controls .navigate-up .controls-arrow {\n        -webkit-transform: rotate(90deg);\n                transform: rotate(90deg); }\n    .reveal .controls .navigate-down {\n      right: 3.2em;\n      bottom: 0;\n      -webkit-transform: translateY(10px);\n              transform: translateY(10px); }\n      .reveal .controls .navigate-down .controls-arrow {\n        -webkit-transform: rotate(-90deg);\n                transform: rotate(-90deg); }\n      .reveal .controls .navigate-down.highlight {\n        -webkit-animation: bounce-down 2s 50 both ease-out;\n                animation: bounce-down 2s 50 both ease-out; }\n    .reveal .controls[data-controls-back-arrows=\"faded\"] .navigate-left.enabled,\n    .reveal .controls[data-controls-back-arrows=\"faded\"] .navigate-up.enabled {\n      opacity: 0.3; }\n      .reveal .controls[data-controls-back-arrows=\"faded\"] .navigate-left.enabled:hover,\n      .reveal .controls[data-controls-back-arrows=\"faded\"] .navigate-up.enabled:hover {\n        opacity: 1; }\n    .reveal .controls[data-controls-back-arrows=\"hidden\"] .navigate-left.enabled,\n    .reveal .controls[data-controls-back-arrows=\"hidden\"] .navigate-up.enabled {\n      opacity: 0;\n      visibility: hidden; }\n    .reveal .controls .enabled {\n      visibility: visible;\n      opacity: 0.9;\n      cursor: pointer;\n      -webkit-transform: none;\n              transform: none; }\n    .reveal .controls .enabled.fragmented {\n      opacity: 0.5; }\n    .reveal .controls .enabled:hover,\n    .reveal .controls .enabled.fragmented:hover {\n      opacity: 1; }\n  \n  .reveal[data-navigation-mode=\"linear\"].has-horizontal-slides .navigate-up,\n  .reveal[data-navigation-mode=\"linear\"].has-horizontal-slides .navigate-down {\n    display: none; }\n  \n  .reveal[data-navigation-mode=\"linear\"].has-horizontal-slides .navigate-left,\n  .reveal:not(.has-vertical-slides) .controls .navigate-left {\n    bottom: 1.4em;\n    right: 5.5em; }\n  \n  .reveal[data-navigation-mode=\"linear\"].has-horizontal-slides .navigate-right,\n  .reveal:not(.has-vertical-slides) .controls .navigate-right {\n    bottom: 1.4em;\n    right: 0.5em; }\n  \n  .reveal:not(.has-horizontal-slides) .controls .navigate-up {\n    right: 1.4em;\n    bottom: 5em; }\n  \n  .reveal:not(.has-horizontal-slides) .controls .navigate-down {\n    right: 1.4em;\n    bottom: 0.5em; }\n  \n  .reveal.has-dark-background .controls {\n    color: #fff; }\n  \n  .reveal.has-light-background .controls {\n    color: #000; }\n  \n  .reveal.no-hover .controls .controls-arrow:hover:before,\n  .reveal.no-hover .controls .controls-arrow:active:before {\n    -webkit-transform: translateX(0.5em) translateY(1.55em) rotate(45deg);\n            transform: translateX(0.5em) translateY(1.55em) rotate(45deg); }\n  \n  .reveal.no-hover .controls .controls-arrow:hover:after,\n  .reveal.no-hover .controls .controls-arrow:active:after {\n    -webkit-transform: translateX(0.5em) translateY(1.55em) rotate(-45deg);\n            transform: translateX(0.5em) translateY(1.55em) rotate(-45deg); }\n  \n  @media screen and (min-width: 500px) {\n    .reveal .controls[data-controls-layout=\"edges\"] {\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0; }\n    .reveal .controls[data-controls-layout=\"edges\"] .navigate-left,\n    .reveal .controls[data-controls-layout=\"edges\"] .navigate-right,\n    .reveal .controls[data-controls-layout=\"edges\"] .navigate-up,\n    .reveal .controls[data-controls-layout=\"edges\"] .navigate-down {\n      bottom: auto;\n      right: auto; }\n    .reveal .controls[data-controls-layout=\"edges\"] .navigate-left {\n      top: 50%;\n      left: 8px;\n      margin-top: -1.8em; }\n    .reveal .controls[data-controls-layout=\"edges\"] .navigate-right {\n      top: 50%;\n      right: 8px;\n      margin-top: -1.8em; }\n    .reveal .controls[data-controls-layout=\"edges\"] .navigate-up {\n      top: 8px;\n      left: 50%;\n      margin-left: -1.8em; }\n    .reveal .controls[data-controls-layout=\"edges\"] .navigate-down {\n      bottom: 8px;\n      left: 50%;\n      margin-left: -1.8em; } }\n  \n  /*********************************************\n   * PROGRESS BAR\n   *********************************************/\n  .reveal .progress {\n    position: absolute;\n    display: none;\n    height: 3px;\n    width: 100%;\n    bottom: 0;\n    left: 0;\n    z-index: 10;\n    background-color: rgba(0, 0, 0, 0.2);\n    color: #fff; }\n  \n  .reveal .progress:after {\n    content: '';\n    display: block;\n    position: absolute;\n    height: 10px;\n    width: 100%;\n    top: -10px; }\n  \n  .reveal .progress span {\n    display: block;\n    height: 100%;\n    width: 0px;\n    background-color: currentColor;\n    transition: width 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985); }\n  \n  /*********************************************\n   * SLIDE NUMBER\n   *********************************************/\n  .reveal .slide-number {\n    position: fixed;\n    display: block;\n    right: 34px;\n    bottom: 8px;\n    z-index: 31;\n    font-family: Helvetica, sans-serif;\n    font-size: large;\n    line-height: 1;\n    /* col    or: #fff; */\n    /* background-color: rgba(0, 0, 0, 0.4); */\n    padding: 5px; }\n  \n  .reveal .slide-number a {\n    color: black; }\n  \n  .reveal .slide-number-delimiter {\n    margin: 0 3px; }\n  \n  /*********************************************\n   * SLIDES\n   *********************************************/\n  .reveal {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    -ms-touch-action: pinch-zoom;\n        touch-action: pinch-zoom; }\n  \n  .reveal .slides {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n    pointer-events: auto;\n    overflow: visible;\n    z-index: 1;\n    text-align: center;\n    -webkit-perspective: 600px;\n            perspective: 600px;\n    -webkit-perspective-origin: 50% 40%;\n            perspective-origin: 50% 40%; }\n  \n  .reveal .slides > section {\n    -webkit-perspective: 600px;\n            perspective: 600px; }\n  \n  .reveal .slides > section,\n  .reveal .slides > section > section {\n    display: none;\n    position: absolute;\n    width: 100%;\n    padding: 0px 0px;\n    pointer-events: auto;\n    z-index: 10;\n    -webkit-transform-style: flat;\n            transform-style: flat;\n    transition: -webkit-transform-origin 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985), -webkit-transform 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985), visibility 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985), opacity 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985);\n    transition: transform-origin 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985), transform 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985), visibility 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985), opacity 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985); }\n  \n  /* Global transition speed settings */\n  .reveal[data-transition-speed=\"fast\"] .slides section {\n    transition-duration: 400ms; }\n  \n  .reveal[data-transition-speed=\"slow\"] .slides section {\n    transition-duration: 1200ms; }\n  \n  /* Slide-specific transition speed overrides */\n  .reveal .slides section[data-transition-speed=\"fast\"] {\n    transition-duration: 400ms; }\n  \n  .reveal .slides section[data-transition-speed=\"slow\"] {\n    transition-duration: 1200ms; }\n  \n  .reveal .slides > section.stack {\n    padding-top: 0;\n    padding-bottom: 0;\n    /* pointer-events: none; */\n    height: 100%; }\n  \n  .reveal .slides > section.present,\n  .reveal .slides > section > section.present {\n    display: block;\n    z-index: 11;\n    opacity: 1; }\n  \n  .reveal .slides > section:empty,\n  .reveal .slides > section > section:empty,\n  .reveal .slides > section[data-background-interactive],\n  .reveal .slides > section > section[data-background-interactive] {\n    pointer-events: none; }\n  \n  .reveal.center,\n  .reveal.center .slides,\n  .reveal.center .slides section {\n    min-height: 0 !important; }\n  \n  /* Don't allow interaction with invisible slides */\n  .reveal .slides > section.future,\n  .reveal .slides > section > section.future,\n  .reveal .slides > section.past,\n  .reveal .slides > section > section.past {\n    pointer-events: none; }\n  \n  .reveal.overview .slides > section,\n  .reveal.overview .slides > section > section {\n    pointer-events: auto; }\n  \n  .reveal .slides > section.past,\n  .reveal .slides > section.future,\n  .reveal .slides > section > section.past,\n  .reveal .slides > section > section.future {\n    opacity: 0; }\n  \n  /*********************************************\n   * Mixins for readability of transitions\n   *********************************************/\n  /*********************************************\n   * SLIDE TRANSITION\n   * Aliased 'linear' for backwards compatibility\n   *********************************************/\n  .reveal.slide section {\n    -webkit-backface-visibility: hidden;\n            backface-visibility: hidden; }\n  \n  .reveal .slides > section[data-transition=slide].past,\n  .reveal .slides > section[data-transition~=slide-out].past,\n  .reveal.slide .slides > section:not([data-transition]).past {\n    -webkit-transform: translate(-150%, 0);\n            transform: translate(-150%, 0); }\n  \n  .reveal .slides > section[data-transition=slide].future,\n  .reveal .slides > section[data-transition~=slide-in].future,\n  .reveal.slide .slides > section:not([data-transition]).future {\n    -webkit-transform: translate(150%, 0);\n            transform: translate(150%, 0); }\n  \n  .reveal .slides > section > section[data-transition=slide].past,\n  .reveal .slides > section > section[data-transition~=slide-out].past,\n  .reveal.slide .slides > section > section:not([data-transition]).past {\n    -webkit-transform: translate(0, -150%);\n            transform: translate(0, -150%); }\n  \n  .reveal .slides > section > section[data-transition=slide].future,\n  .reveal .slides > section > section[data-transition~=slide-in].future,\n  .reveal.slide .slides > section > section:not([data-transition]).future {\n    -webkit-transform: translate(0, 150%);\n            transform: translate(0, 150%); }\n  \n  .reveal.linear section {\n    -webkit-backface-visibility: hidden;\n            backface-visibility: hidden; }\n  \n  .reveal .slides > section[data-transition=linear].past,\n  .reveal .slides > section[data-transition~=linear-out].past,\n  .reveal.linear .slides > section:not([data-transition]).past {\n    -webkit-transform: translate(-150%, 0);\n            transform: translate(-150%, 0); }\n  \n  .reveal .slides > section[data-transition=linear].future,\n  .reveal .slides > section[data-transition~=linear-in].future,\n  .reveal.linear .slides > section:not([data-transition]).future {\n    -webkit-transform: translate(150%, 0);\n            transform: translate(150%, 0); }\n  \n  .reveal .slides > section > section[data-transition=linear].past,\n  .reveal .slides > section > section[data-transition~=linear-out].past,\n  .reveal.linear .slides > section > section:not([data-transition]).past {\n    -webkit-transform: translate(0, -150%);\n            transform: translate(0, -150%); }\n  \n  .reveal .slides > section > section[data-transition=linear].future,\n  .reveal .slides > section > section[data-transition~=linear-in].future,\n  .reveal.linear .slides > section > section:not([data-transition]).future {\n    -webkit-transform: translate(0, 150%);\n            transform: translate(0, 150%); }\n  \n  /*********************************************\n   * CONVEX TRANSITION\n   * Aliased 'default' for backwards compatibility\n   *********************************************/\n  .reveal .slides section[data-transition=default].stack,\n  .reveal.default .slides section.stack {\n    -webkit-transform-style: preserve-3d;\n            transform-style: preserve-3d; }\n  \n  .reveal .slides > section[data-transition=default].past,\n  .reveal .slides > section[data-transition~=default-out].past,\n  .reveal.default .slides > section:not([data-transition]).past {\n    -webkit-transform: translate3d(-100%, 0, 0) rotateY(-90deg) translate3d(-100%, 0, 0);\n            transform: translate3d(-100%, 0, 0) rotateY(-90deg) translate3d(-100%, 0, 0); }\n  \n  .reveal .slides > section[data-transition=default].future,\n  .reveal .slides > section[data-transition~=default-in].future,\n  .reveal.default .slides > section:not([data-transition]).future {\n    -webkit-transform: translate3d(100%, 0, 0) rotateY(90deg) translate3d(100%, 0, 0);\n            transform: translate3d(100%, 0, 0) rotateY(90deg) translate3d(100%, 0, 0); }\n  \n  .reveal .slides > section > section[data-transition=default].past,\n  .reveal .slides > section > section[data-transition~=default-out].past,\n  .reveal.default .slides > section > section:not([data-transition]).past {\n    -webkit-transform: translate3d(0, -300px, 0) rotateX(70deg) translate3d(0, -300px, 0);\n            transform: translate3d(0, -300px, 0) rotateX(70deg) translate3d(0, -300px, 0); }\n  \n  .reveal .slides > section > section[data-transition=default].future,\n  .reveal .slides > section > section[data-transition~=default-in].future,\n  .reveal.default .slides > section > section:not([data-transition]).future {\n    -webkit-transform: translate3d(0, 300px, 0) rotateX(-70deg) translate3d(0, 300px, 0);\n            transform: translate3d(0, 300px, 0) rotateX(-70deg) translate3d(0, 300px, 0); }\n  \n  .reveal .slides section[data-transition=convex].stack,\n  .reveal.convex .slides section.stack {\n    -webkit-transform-style: preserve-3d;\n            transform-style: preserve-3d; }\n  \n  .reveal .slides > section[data-transition=convex].past,\n  .reveal .slides > section[data-transition~=convex-out].past,\n  .reveal.convex .slides > section:not([data-transition]).past {\n    -webkit-transform: translate3d(-100%, 0, 0) rotateY(-90deg) translate3d(-100%, 0, 0);\n            transform: translate3d(-100%, 0, 0) rotateY(-90deg) translate3d(-100%, 0, 0); }\n  \n  .reveal .slides > section[data-transition=convex].future,\n  .reveal .slides > section[data-transition~=convex-in].future,\n  .reveal.convex .slides > section:not([data-transition]).future {\n    -webkit-transform: translate3d(100%, 0, 0) rotateY(90deg) translate3d(100%, 0, 0);\n            transform: translate3d(100%, 0, 0) rotateY(90deg) translate3d(100%, 0, 0); }\n  \n  .reveal .slides > section > section[data-transition=convex].past,\n  .reveal .slides > section > section[data-transition~=convex-out].past,\n  .reveal.convex .slides > section > section:not([data-transition]).past {\n    -webkit-transform: translate3d(0, -300px, 0) rotateX(70deg) translate3d(0, -300px, 0);\n            transform: translate3d(0, -300px, 0) rotateX(70deg) translate3d(0, -300px, 0); }\n  \n  .reveal .slides > section > section[data-transition=convex].future,\n  .reveal .slides > section > section[data-transition~=convex-in].future,\n  .reveal.convex .slides > section > section:not([data-transition]).future {\n    -webkit-transform: translate3d(0, 300px, 0) rotateX(-70deg) translate3d(0, 300px, 0);\n            transform: translate3d(0, 300px, 0) rotateX(-70deg) translate3d(0, 300px, 0); }\n  \n  /*********************************************\n   * CONCAVE TRANSITION\n   *********************************************/\n  .reveal .slides section[data-transition=concave].stack,\n  .reveal.concave .slides section.stack {\n    -webkit-transform-style: preserve-3d;\n            transform-style: preserve-3d; }\n  \n  .reveal .slides > section[data-transition=concave].past,\n  .reveal .slides > section[data-transition~=concave-out].past,\n  .reveal.concave .slides > section:not([data-transition]).past {\n    -webkit-transform: translate3d(-100%, 0, 0) rotateY(90deg) translate3d(-100%, 0, 0);\n            transform: translate3d(-100%, 0, 0) rotateY(90deg) translate3d(-100%, 0, 0); }\n  \n  .reveal .slides > section[data-transition=concave].future,\n  .reveal .slides > section[data-transition~=concave-in].future,\n  .reveal.concave .slides > section:not([data-transition]).future {\n    -webkit-transform: translate3d(100%, 0, 0) rotateY(-90deg) translate3d(100%, 0, 0);\n            transform: translate3d(100%, 0, 0) rotateY(-90deg) translate3d(100%, 0, 0); }\n  \n  .reveal .slides > section > section[data-transition=concave].past,\n  .reveal .slides > section > section[data-transition~=concave-out].past,\n  .reveal.concave .slides > section > section:not([data-transition]).past {\n    -webkit-transform: translate3d(0, -80%, 0) rotateX(-70deg) translate3d(0, -80%, 0);\n            transform: translate3d(0, -80%, 0) rotateX(-70deg) translate3d(0, -80%, 0); }\n  \n  .reveal .slides > section > section[data-transition=concave].future,\n  .reveal .slides > section > section[data-transition~=concave-in].future,\n  .reveal.concave .slides > section > section:not([data-transition]).future {\n    -webkit-transform: translate3d(0, 80%, 0) rotateX(70deg) translate3d(0, 80%, 0);\n            transform: translate3d(0, 80%, 0) rotateX(70deg) translate3d(0, 80%, 0); }\n  \n  /*********************************************\n   * ZOOM TRANSITION\n   *********************************************/\n  .reveal .slides section[data-transition=zoom],\n  .reveal.zoom .slides section:not([data-transition]) {\n    transition-timing-function: ease; }\n  \n  .reveal .slides > section[data-transition=zoom].past,\n  .reveal .slides > section[data-transition~=zoom-out].past,\n  .reveal.zoom .slides > section:not([data-transition]).past {\n    visibility: hidden;\n    -webkit-transform: scale(16);\n            transform: scale(16); }\n  \n  .reveal .slides > section[data-transition=zoom].future,\n  .reveal .slides > section[data-transition~=zoom-in].future,\n  .reveal.zoom .slides > section:not([data-transition]).future {\n    visibility: hidden;\n    -webkit-transform: scale(0.2);\n            transform: scale(0.2); }\n  \n  .reveal .slides > section > section[data-transition=zoom].past,\n  .reveal .slides > section > section[data-transition~=zoom-out].past,\n  .reveal.zoom .slides > section > section:not([data-transition]).past {\n    -webkit-transform: scale(16);\n            transform: scale(16); }\n  \n  .reveal .slides > section > section[data-transition=zoom].future,\n  .reveal .slides > section > section[data-transition~=zoom-in].future,\n  .reveal.zoom .slides > section > section:not([data-transition]).future {\n    -webkit-transform: scale(0.2);\n            transform: scale(0.2); }\n  \n  /*********************************************\n   * CUBE TRANSITION\n   *\n   * WARNING:\n   * this is deprecated and will be removed in a\n   * future version.\n   *********************************************/\n  .reveal.cube .slides {\n    -webkit-perspective: 1300px;\n            perspective: 1300px; }\n  \n  .reveal.cube .slides section {\n    padding: 30px;\n    min-height: 700px;\n    -webkit-backface-visibility: hidden;\n            backface-visibility: hidden;\n    box-sizing: border-box;\n    -webkit-transform-style: preserve-3d;\n            transform-style: preserve-3d; }\n  \n  .reveal.center.cube .slides section {\n    min-height: 0; }\n  \n  .reveal.cube .slides section:not(.stack):before {\n    content: '';\n    position: absolute;\n    display: block;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    top: 0;\n    background: rgba(0, 0, 0, 0.1);\n    border-radius: 4px;\n    -webkit-transform: translateZ(-20px);\n            transform: translateZ(-20px); }\n  \n  .reveal.cube .slides section:not(.stack):after {\n    content: '';\n    position: absolute;\n    display: block;\n    width: 90%;\n    height: 30px;\n    left: 5%;\n    bottom: 0;\n    background: none;\n    z-index: 1;\n    border-radius: 4px;\n    box-shadow: 0px 95px 25px rgba(0, 0, 0, 0.2);\n    -webkit-transform: translateZ(-90px) rotateX(65deg);\n            transform: translateZ(-90px) rotateX(65deg); }\n  \n  .reveal.cube .slides > section.stack {\n    padding: 0;\n    background: none; }\n  \n  .reveal.cube .slides > section.past {\n    -webkit-transform-origin: 100% 0%;\n            transform-origin: 100% 0%;\n    -webkit-transform: translate3d(-100%, 0, 0) rotateY(-90deg);\n            transform: translate3d(-100%, 0, 0) rotateY(-90deg); }\n  \n  .reveal.cube .slides > section.future {\n    -webkit-transform-origin: 0% 0%;\n            transform-origin: 0% 0%;\n    -webkit-transform: translate3d(100%, 0, 0) rotateY(90deg);\n            transform: translate3d(100%, 0, 0) rotateY(90deg); }\n  \n  .reveal.cube .slides > section > section.past {\n    -webkit-transform-origin: 0% 100%;\n            transform-origin: 0% 100%;\n    -webkit-transform: translate3d(0, -100%, 0) rotateX(90deg);\n            transform: translate3d(0, -100%, 0) rotateX(90deg); }\n  \n  .reveal.cube .slides > section > section.future {\n    -webkit-transform-origin: 0% 0%;\n            transform-origin: 0% 0%;\n    -webkit-transform: translate3d(0, 100%, 0) rotateX(-90deg);\n            transform: translate3d(0, 100%, 0) rotateX(-90deg); }\n  \n  /*********************************************\n   * PAGE TRANSITION\n   *\n   * WARNING:\n   * this is deprecated and will be removed in a\n   * future version.\n   *********************************************/\n  .reveal.page .slides {\n    -webkit-perspective-origin: 0% 50%;\n            perspective-origin: 0% 50%;\n    -webkit-perspective: 3000px;\n            perspective: 3000px; }\n  \n  .reveal.page .slides section {\n    padding: 30px;\n    min-height: 700px;\n    box-sizing: border-box;\n    -webkit-transform-style: preserve-3d;\n            transform-style: preserve-3d; }\n  \n  .reveal.page .slides section.past {\n    z-index: 12; }\n  \n  .reveal.page .slides section:not(.stack):before {\n    content: '';\n    position: absolute;\n    display: block;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    top: 0;\n    background: rgba(0, 0, 0, 0.1);\n    -webkit-transform: translateZ(-20px);\n            transform: translateZ(-20px); }\n  \n  .reveal.page .slides section:not(.stack):after {\n    content: '';\n    position: absolute;\n    display: block;\n    width: 90%;\n    height: 30px;\n    left: 5%;\n    bottom: 0;\n    background: none;\n    z-index: 1;\n    border-radius: 4px;\n    box-shadow: 0px 95px 25px rgba(0, 0, 0, 0.2);\n    -webkit-transform: translateZ(-90px) rotateX(65deg); }\n  \n  .reveal.page .slides > section.stack {\n    padding: 0;\n    background: none; }\n  \n  .reveal.page .slides > section.past {\n    -webkit-transform-origin: 0% 0%;\n            transform-origin: 0% 0%;\n    -webkit-transform: translate3d(-40%, 0, 0) rotateY(-80deg);\n            transform: translate3d(-40%, 0, 0) rotateY(-80deg); }\n  \n  .reveal.page .slides > section.future {\n    -webkit-transform-origin: 100% 0%;\n            transform-origin: 100% 0%;\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0); }\n  \n  .reveal.page .slides > section > section.past {\n    -webkit-transform-origin: 0% 0%;\n            transform-origin: 0% 0%;\n    -webkit-transform: translate3d(0, -40%, 0) rotateX(80deg);\n            transform: translate3d(0, -40%, 0) rotateX(80deg); }\n  \n  .reveal.page .slides > section > section.future {\n    -webkit-transform-origin: 0% 100%;\n            transform-origin: 0% 100%;\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0); }\n  \n  /*********************************************\n   * FADE TRANSITION\n   *********************************************/\n  .reveal .slides section[data-transition=fade],\n  .reveal.fade .slides section:not([data-transition]),\n  .reveal.fade .slides > section > section:not([data-transition]) {\n    -webkit-transform: none;\n            transform: none;\n    transition: opacity 0.5s; }\n  \n  .reveal.fade.overview .slides section,\n  .reveal.fade.overview .slides > section > section {\n    transition: none; }\n  \n  /*********************************************\n   * NO TRANSITION\n   *********************************************/\n  .reveal .slides section[data-transition=none],\n  .reveal.none .slides section:not([data-transition]) {\n    -webkit-transform: none;\n            transform: none;\n    transition: none; }\n  \n  /*********************************************\n   * PAUSED MODE\n   *********************************************/\n  .reveal .pause-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: black;\n    visibility: hidden;\n    opacity: 0;\n    z-index: 100;\n    transition: all 1s ease; }\n  \n  .reveal .pause-overlay .resume-button {\n    position: absolute;\n    bottom: 20px;\n    right: 20px;\n    color: #ccc;\n    border-radius: 2px;\n    padding: 6px 14px;\n    border: 2px solid #ccc;\n    font-size: 16px;\n    background: transparent;\n    cursor: pointer; }\n    .reveal .pause-overlay .resume-button:hover {\n      color: #fff;\n      border-color: #fff; }\n  \n  .reveal.paused .pause-overlay {\n    visibility: visible;\n    opacity: 1; }\n  \n  /*********************************************\n   * FALLBACK\n   *********************************************/\n  .no-transforms {\n    overflow-y: auto; }\n  \n  .no-transforms .reveal {\n    overflow: visible; }\n  \n  .no-transforms .reveal .slides {\n    position: relative;\n    width: 80%;\n    max-width: 1280px;\n    height: auto;\n    top: 0;\n    margin: 0 auto;\n    text-align: center; }\n  \n  .no-transforms .reveal .controls,\n  .no-transforms .reveal .progress {\n    display: none; }\n  \n  .no-transforms .reveal .slides section {\n    display: block;\n    opacity: 1;\n    position: relative;\n    height: auto;\n    min-height: 0;\n    top: 0;\n    left: 0;\n    margin: 10vh 0;\n    margin: 70px 0;\n    -webkit-transform: none;\n            transform: none; }\n  \n  .reveal .no-transition,\n  .reveal .no-transition * {\n    transition: none !important; }\n  \n  /*********************************************\n   * PER-SLIDE BACKGROUNDS\n   *********************************************/\n  .reveal .backgrounds {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    -webkit-perspective: 600px;\n            perspective: 600px; }\n  \n  .reveal .slide-background {\n    display: none;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    visibility: hidden;\n    overflow: hidden;\n    background-color: rgba(0, 0, 0, 0);\n    transition: all 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985); }\n  \n  .reveal .slide-background-content {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n    background-size: cover; }\n  \n  .reveal .slide-background.stack {\n    display: block; }\n  \n  .reveal .slide-background.present {\n    opacity: 1;\n    visibility: visible;\n    z-index: 2; }\n  \n  .print-pdf .reveal .slide-background {\n    opacity: 1 !important;\n    visibility: visible !important; }\n  \n  /* Video backgrounds */\n  .reveal .slide-background video {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    max-width: none;\n    max-height: none;\n    top: 0;\n    left: 0;\n    -o-object-fit: cover;\n       object-fit: cover; }\n  \n  .reveal .slide-background[data-background-size=\"contain\"] video {\n    -o-object-fit: contain;\n       object-fit: contain; }\n  \n  /* Immediate transition style */\n  .reveal[data-background-transition=none] > .backgrounds .slide-background,\n  .reveal > .backgrounds .slide-background[data-background-transition=none] {\n    transition: none; }\n  \n  /* Slide */\n  .reveal[data-background-transition=slide] > .backgrounds .slide-background,\n  .reveal > .backgrounds .slide-background[data-background-transition=slide] {\n    opacity: 1;\n    -webkit-backface-visibility: hidden;\n            backface-visibility: hidden; }\n  \n  .reveal[data-background-transition=slide] > .backgrounds .slide-background.past,\n  .reveal > .backgrounds .slide-background.past[data-background-transition=slide] {\n    -webkit-transform: translate(-100%, 0);\n            transform: translate(-100%, 0); }\n  \n  .reveal[data-background-transition=slide] > .backgrounds .slide-background.future,\n  .reveal > .backgrounds .slide-background.future[data-background-transition=slide] {\n    -webkit-transform: translate(100%, 0);\n            transform: translate(100%, 0); }\n  \n  .reveal[data-background-transition=slide] > .backgrounds .slide-background > .slide-background.past,\n  .reveal > .backgrounds .slide-background > .slide-background.past[data-background-transition=slide] {\n    -webkit-transform: translate(0, -100%);\n            transform: translate(0, -100%); }\n  \n  .reveal[data-background-transition=slide] > .backgrounds .slide-background > .slide-background.future,\n  .reveal > .backgrounds .slide-background > .slide-background.future[data-background-transition=slide] {\n    -webkit-transform: translate(0, 100%);\n            transform: translate(0, 100%); }\n  \n  /* Convex */\n  .reveal[data-background-transition=convex] > .backgrounds .slide-background.past,\n  .reveal > .backgrounds .slide-background.past[data-background-transition=convex] {\n    opacity: 0;\n    -webkit-transform: translate3d(-100%, 0, 0) rotateY(-90deg) translate3d(-100%, 0, 0);\n            transform: translate3d(-100%, 0, 0) rotateY(-90deg) translate3d(-100%, 0, 0); }\n  \n  .reveal[data-background-transition=convex] > .backgrounds .slide-background.future,\n  .reveal > .backgrounds .slide-background.future[data-background-transition=convex] {\n    opacity: 0;\n    -webkit-transform: translate3d(100%, 0, 0) rotateY(90deg) translate3d(100%, 0, 0);\n            transform: translate3d(100%, 0, 0) rotateY(90deg) translate3d(100%, 0, 0); }\n  \n  .reveal[data-background-transition=convex] > .backgrounds .slide-background > .slide-background.past,\n  .reveal > .backgrounds .slide-background > .slide-background.past[data-background-transition=convex] {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -100%, 0) rotateX(90deg) translate3d(0, -100%, 0);\n            transform: translate3d(0, -100%, 0) rotateX(90deg) translate3d(0, -100%, 0); }\n  \n  .reveal[data-background-transition=convex] > .backgrounds .slide-background > .slide-background.future,\n  .reveal > .backgrounds .slide-background > .slide-background.future[data-background-transition=convex] {\n    opacity: 0;\n    -webkit-transform: translate3d(0, 100%, 0) rotateX(-90deg) translate3d(0, 100%, 0);\n            transform: translate3d(0, 100%, 0) rotateX(-90deg) translate3d(0, 100%, 0); }\n  \n  /* Concave */\n  .reveal[data-background-transition=concave] > .backgrounds .slide-background.past,\n  .reveal > .backgrounds .slide-background.past[data-background-transition=concave] {\n    opacity: 0;\n    -webkit-transform: translate3d(-100%, 0, 0) rotateY(90deg) translate3d(-100%, 0, 0);\n            transform: translate3d(-100%, 0, 0) rotateY(90deg) translate3d(-100%, 0, 0); }\n  \n  .reveal[data-background-transition=concave] > .backgrounds .slide-background.future,\n  .reveal > .backgrounds .slide-background.future[data-background-transition=concave] {\n    opacity: 0;\n    -webkit-transform: translate3d(100%, 0, 0) rotateY(-90deg) translate3d(100%, 0, 0);\n            transform: translate3d(100%, 0, 0) rotateY(-90deg) translate3d(100%, 0, 0); }\n  \n  .reveal[data-background-transition=concave] > .backgrounds .slide-background > .slide-background.past,\n  .reveal > .backgrounds .slide-background > .slide-background.past[data-background-transition=concave] {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -100%, 0) rotateX(-90deg) translate3d(0, -100%, 0);\n            transform: translate3d(0, -100%, 0) rotateX(-90deg) translate3d(0, -100%, 0); }\n  \n  .reveal[data-background-transition=concave] > .backgrounds .slide-background > .slide-background.future,\n  .reveal > .backgrounds .slide-background > .slide-background.future[data-background-transition=concave] {\n    opacity: 0;\n    -webkit-transform: translate3d(0, 100%, 0) rotateX(90deg) translate3d(0, 100%, 0);\n            transform: translate3d(0, 100%, 0) rotateX(90deg) translate3d(0, 100%, 0); }\n  \n  /* Zoom */\n  .reveal[data-background-transition=zoom] > .backgrounds .slide-background,\n  .reveal > .backgrounds .slide-background[data-background-transition=zoom] {\n    transition-timing-function: ease; }\n  \n  .reveal[data-background-transition=zoom] > .backgrounds .slide-background.past,\n  .reveal > .backgrounds .slide-background.past[data-background-transition=zoom] {\n    opacity: 0;\n    visibility: hidden;\n    -webkit-transform: scale(16);\n            transform: scale(16); }\n  \n  .reveal[data-background-transition=zoom] > .backgrounds .slide-background.future,\n  .reveal > .backgrounds .slide-background.future[data-background-transition=zoom] {\n    opacity: 0;\n    visibility: hidden;\n    -webkit-transform: scale(0.2);\n            transform: scale(0.2); }\n  \n  .reveal[data-background-transition=zoom] > .backgrounds .slide-background > .slide-background.past,\n  .reveal > .backgrounds .slide-background > .slide-background.past[data-background-transition=zoom] {\n    opacity: 0;\n    visibility: hidden;\n    -webkit-transform: scale(16);\n            transform: scale(16); }\n  \n  .reveal[data-background-transition=zoom] > .backgrounds .slide-background > .slide-background.future,\n  .reveal > .backgrounds .slide-background > .slide-background.future[data-background-transition=zoom] {\n    opacity: 0;\n    visibility: hidden;\n    -webkit-transform: scale(0.2);\n            transform: scale(0.2); }\n  \n  /* Global transition speed settings */\n  .reveal[data-transition-speed=\"fast\"] > .backgrounds .slide-background {\n    transition-duration: 400ms; }\n  \n  .reveal[data-transition-speed=\"slow\"] > .backgrounds .slide-background {\n    transition-duration: 1200ms; }\n  \n  /*********************************************\n   * OVERVIEW\n   *********************************************/\n  .reveal.overview {\n    -webkit-perspective-origin: 50% 50%;\n            perspective-origin: 50% 50%;\n    -webkit-perspective: 700px;\n            perspective: 700px; }\n    .reveal.overview .slides {\n      -moz-transform-style: preserve-3d; }\n    .reveal.overview .slides section {\n      height: 100%;\n      top: 0 !important;\n      opacity: 1 !important;\n      overflow: hidden;\n      visibility: visible !important;\n      cursor: pointer;\n      box-sizing: border-box; }\n    .reveal.overview .slides section:hover,\n    .reveal.overview .slides section.present {\n      outline: 10px solid rgba(150, 150, 150, 0.4);\n      outline-offset: 10px; }\n    .reveal.overview .slides section .fragment {\n      opacity: 1;\n      transition: none; }\n    .reveal.overview .slides section:after,\n    .reveal.overview .slides section:before {\n      display: none !important; }\n    .reveal.overview .slides > section.stack {\n      padding: 0;\n      top: 0 !important;\n      background: none;\n      outline: none;\n      overflow: visible; }\n    .reveal.overview .backgrounds {\n      -webkit-perspective: inherit;\n              perspective: inherit;\n      -moz-transform-style: preserve-3d; }\n    .reveal.overview .backgrounds .slide-background {\n      opacity: 1;\n      visibility: visible;\n      outline: 10px solid rgba(150, 150, 150, 0.1);\n      outline-offset: 10px; }\n    .reveal.overview .backgrounds .slide-background.stack {\n      overflow: visible; }\n  \n  .reveal.overview .slides section,\n  .reveal.overview-deactivating .slides section {\n    transition: none; }\n  \n  .reveal.overview .backgrounds .slide-background,\n  .reveal.overview-deactivating .backgrounds .slide-background {\n    transition: none; }\n  \n  /*********************************************\n   * RTL SUPPORT\n   *********************************************/\n  .reveal.rtl .slides,\n  .reveal.rtl .slides h1,\n  .reveal.rtl .slides h2,\n  .reveal.rtl .slides h3,\n  .reveal.rtl .slides h4,\n  .reveal.rtl .slides h5,\n  .reveal.rtl .slides h6 {\n    direction: rtl;\n    font-family: sans-serif; }\n  \n  .reveal.rtl pre,\n  .reveal.rtl code {\n    direction: ltr; }\n  \n  .reveal.rtl ol,\n  .reveal.rtl ul {\n    text-align: right; }\n  \n  .reveal.rtl .progress span {\n    float: right; }\n  \n  /*********************************************\n   * PARALLAX BACKGROUND\n   *********************************************/\n  .reveal.has-parallax-background .backgrounds {\n    transition: all 0.8s ease; }\n  \n  /* Global transition speed settings */\n  .reveal.has-parallax-background[data-transition-speed=\"fast\"] .backgrounds {\n    transition-duration: 400ms; }\n  \n  .reveal.has-parallax-background[data-transition-speed=\"slow\"] .backgrounds {\n    transition-duration: 1200ms; }\n  \n  /*********************************************\n   * OVERLAY FOR LINK PREVIEWS AND HELP\n   *********************************************/\n  .reveal > .overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 1000;\n    background: rgba(0, 0, 0, 0.9);\n    opacity: 0;\n    visibility: hidden;\n    transition: all 0.3s ease; }\n  \n  .reveal > .overlay.visible {\n    opacity: 1;\n    visibility: visible; }\n  \n  .reveal > .overlay .spinner {\n    position: absolute;\n    display: block;\n    top: 50%;\n    left: 50%;\n    width: 32px;\n    height: 32px;\n    margin: -16px 0 0 -16px;\n    z-index: 10;\n    background-image: url(data:image/gif;base64,R0lGODlhIAAgAPMAAJmZmf%2F%2F%2F6%2Bvr8nJybW1tcDAwOjo6Nvb26ioqKOjo7Ozs%2FLy8vz8%2FAAAAAAAAAAAACH%2FC05FVFNDQVBFMi4wAwEAAAAh%2FhpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh%2BQQJCgAAACwAAAAAIAAgAAAE5xDISWlhperN52JLhSSdRgwVo1ICQZRUsiwHpTJT4iowNS8vyW2icCF6k8HMMBkCEDskxTBDAZwuAkkqIfxIQyhBQBFvAQSDITM5VDW6XNE4KagNh6Bgwe60smQUB3d4Rz1ZBApnFASDd0hihh12BkE9kjAJVlycXIg7CQIFA6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YJvpJivxNaGmLHT0VnOgSYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ%2FV%2FnmOM82XiHRLYKhKP1oZmADdEAAAh%2BQQJCgAAACwAAAAAIAAgAAAE6hDISWlZpOrNp1lGNRSdRpDUolIGw5RUYhhHukqFu8DsrEyqnWThGvAmhVlteBvojpTDDBUEIFwMFBRAmBkSgOrBFZogCASwBDEY%2FCZSg7GSE0gSCjQBMVG023xWBhklAnoEdhQEfyNqMIcKjhRsjEdnezB%2BA4k8gTwJhFuiW4dokXiloUepBAp5qaKpp6%2BHo7aWW54wl7obvEe0kRuoplCGepwSx2jJvqHEmGt6whJpGpfJCHmOoNHKaHx61WiSR92E4lbFoq%2BB6QDtuetcaBPnW6%2BO7wDHpIiK9SaVK5GgV543tzjgGcghAgAh%2BQQJCgAAACwAAAAAIAAgAAAE7hDISSkxpOrN5zFHNWRdhSiVoVLHspRUMoyUakyEe8PTPCATW9A14E0UvuAKMNAZKYUZCiBMuBakSQKG8G2FzUWox2AUtAQFcBKlVQoLgQReZhQlCIJesQXI5B0CBnUMOxMCenoCfTCEWBsJColTMANldx15BGs8B5wlCZ9Po6OJkwmRpnqkqnuSrayqfKmqpLajoiW5HJq7FL1Gr2mMMcKUMIiJgIemy7xZtJsTmsM4xHiKv5KMCXqfyUCJEonXPN2rAOIAmsfB3uPoAK%2B%2BG%2Bw48edZPK%2BM6hLJpQg484enXIdQFSS1u6UhksENEQAAIfkECQoAAAAsAAAAACAAIAAABOcQyEmpGKLqzWcZRVUQnZYg1aBSh2GUVEIQ2aQOE%2BG%2BcD4ntpWkZQj1JIiZIogDFFyHI0UxQwFugMSOFIPJftfVAEoZLBbcLEFhlQiqGp1Vd140AUklUN3eCA51C1EWMzMCezCBBmkxVIVHBWd3HHl9JQOIJSdSnJ0TDKChCwUJjoWMPaGqDKannasMo6WnM562R5YluZRwur0wpgqZE7NKUm%2BFNRPIhjBJxKZteWuIBMN4zRMIVIhffcgojwCF117i4nlLnY5ztRLsnOk%2BaV%2BoJY7V7m76PdkS4trKcdg0Zc0tTcKkRAAAIfkECQoAAAAsAAAAACAAIAAABO4QyEkpKqjqzScpRaVkXZWQEximw1BSCUEIlDohrft6cpKCk5xid5MNJTaAIkekKGQkWyKHkvhKsR7ARmitkAYDYRIbUQRQjWBwJRzChi9CRlBcY1UN4g0%2FVNB0AlcvcAYHRyZPdEQFYV8ccwR5HWxEJ02YmRMLnJ1xCYp0Y5idpQuhopmmC2KgojKasUQDk5BNAwwMOh2RtRq5uQuPZKGIJQIGwAwGf6I0JXMpC8C7kXWDBINFMxS4DKMAWVWAGYsAdNqW5uaRxkSKJOZKaU3tPOBZ4DuK2LATgJhkPJMgTwKCdFjyPHEnKxFCDhEAACH5BAkKAAAALAAAAAAgACAAAATzEMhJaVKp6s2nIkolIJ2WkBShpkVRWqqQrhLSEu9MZJKK9y1ZrqYK9WiClmvoUaF8gIQSNeF1Er4MNFn4SRSDARWroAIETg1iVwuHjYB1kYc1mwruwXKC9gmsJXliGxc%2BXiUCby9ydh1sOSdMkpMTBpaXBzsfhoc5l58Gm5yToAaZhaOUqjkDgCWNHAULCwOLaTmzswadEqggQwgHuQsHIoZCHQMMQgQGubVEcxOPFAcMDAYUA85eWARmfSRQCdcMe0zeP1AAygwLlJtPNAAL19DARdPzBOWSm1brJBi45soRAWQAAkrQIykShQ9wVhHCwCQCACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq%2BE71SRQeyqUToLA7VxF0JDyIQh%2FMVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiRMDjI0Fd30%2FiI2UA5GSS5UDj2l6NoqgOgN4gksEBgYFf0FDqKgHnyZ9OX8HrgYHdHpcHQULXAS2qKpENRg7eAMLC7kTBaixUYFkKAzWAAnLC7FLVxLWDBLKCwaKTULgEwbLA4hJtOkSBNqITT3xEgfLpBtzE%2FjiuL04RGEBgwWhShRgQExHBAAh%2BQQJCgAAACwAAAAAIAAgAAAE7xDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfZiCqGk5dTESJeaOAlClzsJsqwiJwiqnFrb2nS9kmIcgEsjQydLiIlHehhpejaIjzh9eomSjZR%2BipslWIRLAgMDOR2DOqKogTB9pCUJBagDBXR6XB0EBkIIsaRsGGMMAxoDBgYHTKJiUYEGDAzHC9EACcUGkIgFzgwZ0QsSBcXHiQvOwgDdEwfFs0sDzt4S6BK4xYjkDOzn0unFeBzOBijIm1Dgmg5YFQwsCMjp1oJ8LyIAACH5BAkKAAAALAAAAAAgACAAAATwEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq%2BE71SRQeyqUToLA7VxF0JDyIQh%2FMVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GGl6NoiPOH16iZKNlH6KmyWFOggHhEEvAwwMA0N9GBsEC6amhnVcEwavDAazGwIDaH1ipaYLBUTCGgQDA8NdHz0FpqgTBwsLqAbWAAnIA4FWKdMLGdYGEgraigbT0OITBcg5QwPT4xLrROZL6AuQAPUS7bxLpoWidY0JtxLHKhwwMJBTHgPKdEQAACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq%2BE71SRQeyqUToLA7VxF0JDyIQh%2FMVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GAULDJCRiXo1CpGXDJOUjY%2BYip9DhToJA4RBLwMLCwVDfRgbBAaqqoZ1XBMHswsHtxtFaH1iqaoGNgAIxRpbFAgfPQSqpbgGBqUD1wBXeCYp1AYZ19JJOYgH1KwA4UBvQwXUBxPqVD9L3sbp2BNk2xvvFPJd%2BMFCN6HAAIKgNggY0KtEBAAh%2BQQJCgAAACwAAAAAIAAgAAAE6BDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfYIDMaAFdTESJeaEDAIMxYFqrOUaNW4E4ObYcCXaiBVEgULe0NJaxxtYksjh2NLkZISgDgJhHthkpU4mW6blRiYmZOlh4JWkDqILwUGBnE6TYEbCgevr0N1gH4At7gHiRpFaLNrrq8HNgAJA70AWxQIH1%2BvsYMDAzZQPC9VCNkDWUhGkuE5PxJNwiUK4UfLzOlD4WvzAHaoG9nxPi5d%2BjYUqfAhhykOFwJWiAAAIfkECQoAAAAsAAAAACAAIAAABPAQyElpUqnqzaciSoVkXVUMFaFSwlpOCcMYlErAavhOMnNLNo8KsZsMZItJEIDIFSkLGQoQTNhIsFehRww2CQLKF0tYGKYSg%2BygsZIuNqJksKgbfgIGepNo2cIUB3V1B3IvNiBYNQaDSTtfhhx0CwVPI0UJe0%2Bbm4g5VgcGoqOcnjmjqDSdnhgEoamcsZuXO1aWQy8KAwOAuTYYGwi7w5h%2BKr0SJ8MFihpNbx%2B4Erq7BYBuzsdiH1jCAzoSfl0rVirNbRXlBBlLX%2BBP0XJLAPGzTkAuAOqb0WT5AH7OcdCm5B8TgRwSRKIHQtaLCwg1RAAAOwAAAAAAAAAAAA%3D%3D);\n    visibility: visible;\n    opacity: 0.6;\n    transition: all 0.3s ease; }\n  \n  .reveal > .overlay header {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 40px;\n    z-index: 2;\n    border-bottom: 1px solid #222; }\n  \n  .reveal > .overlay header a {\n    display: inline-block;\n    width: 40px;\n    height: 40px;\n    line-height: 36px;\n    padding: 0 10px;\n    float: right;\n    opacity: 0.6;\n    box-sizing: border-box; }\n  \n  .reveal > .overlay header a:hover {\n    opacity: 1; }\n  \n  .reveal > .overlay header a .icon {\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    background-position: 50% 50%;\n    background-size: 100%;\n    background-repeat: no-repeat; }\n  \n  .reveal > .overlay header a.close .icon {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABkklEQVRYR8WX4VHDMAxG6wnoJrABZQPYBCaBTWAD2g1gE5gg6OOsXuxIlr40d81dfrSJ9V4c2VLK7spHuTJ/5wpM07QXuXc5X0opX2tEJcadjHuV80li/FgxTIEK/5QBCICBD6xEhSMGHgQPgBgLiYVAB1dpSqKDawxTohFw4JSEA3clzgIBPCURwE2JucBR7rhPJJv5OpJwDX+SfDjgx1wACQeJG1aChP9K/IMmdZ8DtESV1WyP3Bt4MwM6sj4NMxMYiqUWHQu4KYA/SYkIjOsm3BXYWMKFDwU2khjCQ4ELJUJ4SmClRArOCmSXGuKma0fYD5CbzHxFpCSGAhfAVSSUGDUk2BWZaff2g6GE15BsBQ9nwmpIGDiyHQddwNTMKkbZaf9fajXQca1EX44puJZUsnY0ObGmITE3GVLCbEhQUjGVt146j6oasWN+49Vph2w1pZ5EansNZqKBm1txbU57iRRcZ86RWMDdWtBJUHBHwoQPi1GV+JCbntmvok7iTX4/Up9mgyTc/FJYDTcndgH/AA5A/CHsyEkVAAAAAElFTkSuQmCC); }\n  \n  .reveal > .overlay header a.external .icon {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAcElEQVRYR+2WSQoAIQwEzf8f7XiOMkUQxUPlGkM3hVmiQfQR9GYnH1SsAQlI4DiBqkCMoNb9y2e90IAEJPAcgdznU9+engMaeJ7Azh5Y1U67gAho4DqBqmB1buAf0MB1AlVBek83ZPkmJMGc1wAR+AAqod/B97TRpQAAAABJRU5ErkJggg==); }\n  \n  .reveal > .overlay .viewport {\n    position: absolute;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    top: 40px;\n    right: 0;\n    bottom: 0;\n    left: 0; }\n  \n  .reveal > .overlay.overlay-preview .viewport iframe {\n    width: 100%;\n    height: 100%;\n    max-width: 100%;\n    max-height: 100%;\n    border: 0;\n    opacity: 0;\n    visibility: hidden;\n    transition: all 0.3s ease; }\n  \n  .reveal > .overlay.overlay-preview.loaded .viewport iframe {\n    opacity: 1;\n    visibility: visible; }\n  \n  .reveal > .overlay.overlay-preview.loaded .viewport-inner {\n    position: absolute;\n    z-index: -1;\n    left: 0;\n    top: 45%;\n    width: 100%;\n    text-align: center;\n    letter-spacing: normal; }\n  \n  .reveal > .overlay.overlay-preview .x-frame-error {\n    opacity: 0;\n    transition: opacity 0.3s ease 0.3s; }\n  \n  .reveal > .overlay.overlay-preview.loaded .x-frame-error {\n    opacity: 1; }\n  \n  .reveal > .overlay.overlay-preview.loaded .spinner {\n    opacity: 0;\n    visibility: hidden;\n    -webkit-transform: scale(0.2);\n            transform: scale(0.2); }\n  \n  .reveal > .overlay.overlay-help .viewport {\n    overflow: auto;\n    color: #fff; }\n  \n  .reveal > .overlay.overlay-help .viewport .viewport-inner {\n    width: 600px;\n    margin: auto;\n    padding: 20px 20px 80px 20px;\n    text-align: center;\n    letter-spacing: normal; }\n  \n  .reveal > .overlay.overlay-help .viewport .viewport-inner .title {\n    font-size: 20px; }\n  \n  .reveal > .overlay.overlay-help .viewport .viewport-inner table {\n    border: 1px solid #fff;\n    border-collapse: collapse;\n    font-size: 16px; }\n  \n  .reveal > .overlay.overlay-help .viewport .viewport-inner table th,\n  .reveal > .overlay.overlay-help .viewport .viewport-inner table td {\n    width: 200px;\n    padding: 14px;\n    border: 1px solid #fff;\n    vertical-align: middle; }\n  \n  .reveal > .overlay.overlay-help .viewport .viewport-inner table th {\n    padding-top: 20px;\n    padding-bottom: 20px; }\n  \n  /*********************************************\n   * PLAYBACK COMPONENT\n   *********************************************/\n  .reveal .playback {\n    position: absolute;\n    left: 15px;\n    bottom: 20px;\n    z-index: 30;\n    cursor: pointer;\n    transition: all 400ms ease;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }\n  \n  .reveal.overview .playback {\n    opacity: 0;\n    visibility: hidden; }\n  \n  /*********************************************\n   * CODE HIGHLGIHTING\n   *********************************************/\n  .reveal .hljs table {\n    margin: initial; }\n  \n  .reveal .hljs-ln-code,\n  .reveal .hljs-ln-numbers {\n    padding: 0;\n    border: 0; }\n  \n  .reveal .hljs-ln-numbers {\n    opacity: 0.6;\n    padding-right: 0.75em;\n    text-align: right;\n    vertical-align: top; }\n  \n  .reveal .hljs[data-line-numbers]:not([data-line-numbers=\"\"]) tr:not(.highlight-line) {\n    opacity: 0.4; }\n  \n  /*********************************************\n   * ROLLING LINKS\n   *********************************************/\n  .reveal .roll {\n    display: inline-block;\n    line-height: 1.2;\n    overflow: hidden;\n    vertical-align: top;\n    -webkit-perspective: 400px;\n            perspective: 400px;\n    -webkit-perspective-origin: 50% 50%;\n            perspective-origin: 50% 50%; }\n  \n  .reveal .roll:hover {\n    background: none;\n    text-shadow: none; }\n  \n  .reveal .roll span {\n    display: block;\n    position: relative;\n    padding: 0 2px;\n    pointer-events: none;\n    transition: all 400ms ease;\n    -webkit-transform-origin: 50% 0%;\n            transform-origin: 50% 0%;\n    -webkit-transform-style: preserve-3d;\n            transform-style: preserve-3d;\n    -webkit-backface-visibility: hidden;\n            backface-visibility: hidden; }\n  \n  .reveal .roll:hover span {\n    background: rgba(0, 0, 0, 0.5);\n    -webkit-transform: translate3d(0px, 0px, -45px) rotateX(90deg);\n            transform: translate3d(0px, 0px, -45px) rotateX(90deg); }\n  \n  .reveal .roll span:after {\n    content: attr(data-title);\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    padding: 0 2px;\n    -webkit-backface-visibility: hidden;\n            backface-visibility: hidden;\n    -webkit-transform-origin: 50% 0%;\n            transform-origin: 50% 0%;\n    -webkit-transform: translate3d(0px, 110%, 0px) rotateX(-90deg);\n            transform: translate3d(0px, 110%, 0px) rotateX(-90deg); }\n  \n  /*********************************************\n   * SPEAKER NOTES\n   *********************************************/\n  .reveal aside.notes {\n    display: none; }\n  \n  .reveal .speaker-notes {\n    display: none;\n    position: absolute;\n    width: 33.3333333333%;\n    height: 100%;\n    top: 0;\n    left: 100%;\n    padding: 14px 18px 14px 18px;\n    z-index: 1;\n    font-size: 18px;\n    line-height: 1.4;\n    border: 1px solid rgba(0, 0, 0, 0.05);\n    color: #222;\n    background-color: #f5f5f5;\n    overflow: auto;\n    box-sizing: border-box;\n    text-align: left;\n    font-family: Helvetica, sans-serif;\n    -webkit-overflow-scrolling: touch; }\n    .reveal .speaker-notes .notes-placeholder {\n      color: #ccc;\n      font-style: italic; }\n    .reveal .speaker-notes:focus {\n      outline: none; }\n    .reveal .speaker-notes:before {\n      content: 'Speaker notes';\n      display: block;\n      margin-bottom: 10px;\n      opacity: 0.5; }\n  \n  .reveal.show-notes {\n    max-width: 75%;\n    overflow: visible; }\n  \n  .reveal.show-notes .speaker-notes {\n    display: block; }\n  \n  @media screen and (min-width: 1600px) {\n    .reveal .speaker-notes {\n      font-size: 20px; } }\n  \n  @media screen and (max-width: 1024px) {\n    .reveal.show-notes {\n      border-left: 0;\n      max-width: none;\n      max-height: 70%;\n      max-height: 70vh;\n      overflow: visible; }\n    .reveal.show-notes .speaker-notes {\n      top: 100%;\n      left: 0;\n      width: 100%;\n      height: 42.8571428571%;\n      height: 30vh;\n      border: 0; } }\n  \n  @media screen and (max-width: 600px) {\n    .reveal.show-notes {\n      max-height: 60%;\n      max-height: 60vh; }\n    .reveal.show-notes .speaker-notes {\n      top: 100%;\n      height: 66.6666666667%;\n      height: 40vh; }\n    .reveal .speaker-notes {\n      font-size: 14px; } }\n  \n  /*********************************************\n   * ZOOM PLUGIN\n   *********************************************/\n  .zoomed .reveal *,\n  .zoomed .reveal *:before,\n  .zoomed .reveal *:after {\n    -webkit-backface-visibility: visible !important;\n            backface-visibility: visible !important; }\n  \n  .zoomed .reveal .progress,\n  .zoomed .reveal .controls {\n    opacity: 0; }\n  \n  .zoomed .reveal .roll span {\n    background: none; }\n  \n  .zoomed .reveal .roll span:after {\n    visibility: hidden; }"
);

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"slideSelectionSheet.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/slideGenerator/slideSelectionSheet.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

module.watch(require("./slideSelectionSheet.html"));
var getSlideGenApp, getAllSlides;
module.watch(require("/imports/ui/useCases/useCaseSelection"), {
  getSlideGenApp: function (v) {
    getSlideGenApp = v;
  },
  getAllSlides: function (v) {
    getAllSlides = v;
  }
}, 0);
var Reveal;
module.watch(require("/imports/ui/slideGenerator/slides"), {
  Reveal: function (v) {
    Reveal = v;
  }
}, 1);
Template.slideSelectionSheet.onRendered(function () {
  var iFrame = document.getElementById('selectionSlide'); // console.log('!!!!!!!!!!!!!!!! resize selection sheet')

  resizeIFrameToFitContent(iFrame);
});
Template.slideSelectionSheet.events({
  "click #sheetSelector": function () {
    function _callee(event, template) {
      var qix;
      return _regenerator.default.async(function () {
        function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                event.preventDefault();
                Session.set("showSelector", false); //RESET SENSE SELECTION OBJECT

                _context.next = 4;
                return _regenerator.default.awrap(getSlideGenApp());

              case 4:
                qix = _context.sent;
                qix.abortModal(true); //reset the slideheaders to ensure all slide content templates are re-rendered.

                Session.set("slideHeaders", null); //get slides

                _context.next = 9;
                return _regenerator.default.awrap(getAllSlides());

              case 9:
                ////go to the first slide after a data refresh.           
                Reveal.slide(0);

              case 10:
              case "end":
                return _context.stop();
            }
          }
        }

        return _callee$;
      }(), null, this);
    }

    return _callee;
  }()
});

function resizeIFrameToFitContent(iFrame) {
  iFrame.width = window.innerHeight * .7; //document.body.scrollWidth * .5;

  iFrame.height = document.body.scrollHeight * .4;
}

Template.slideSelectionSheet.onCreated(function () {
  function _callee2() {
    return _regenerator.default.async(function () {
      function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              $("body").css({
                overflow: "auto"
              });
              $(".reveal").css({
                visibility: 'hidden'
              });

            case 2:
            case "end":
              return _context2.stop();
          }
        }
      }

      return _callee2$;
    }(), null, this);
  }

  return _callee2;
}());
Template.slideSelectionSheet.onDestroyed(function () {
  $("body").css({
    overflow: "auto"
  });
  $(".reveal").css({
    visibility: ''
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"slides.css":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/slideGenerator/slides.css                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.exports = require("meteor/modules").addStyles(
  "/*********************************************\n  * POP UP SELECTOR\n  *********************************************/\n\n#modalSlideGeneratorSelection .modal {\n    width: 1400px;\n}\n\n#modalSlideGeneratorSelection iframe {\n    width: 100%;\n}\n\n\n\n/*********************************************\n  * GLOBAL STYLES\n  *********************************************/\n\n.footer {\n    height: 150px;\n    font-size: 0.8em;\n    /* background-image: url('./images/bg_footer.jpg'); */\n    background-size: 100%;\n    background-position: bottom right;\n    background-repeat: no-repeat;\n    /* background-color: #F8F0E5; */\n    margin-top: 30px;\n    padding-left: 0;\n}\n\n.footer a {\n    color: black;\n}\n\n.footer .ui.grid {\n    padding: 0;\n}\n\n.reveal {\n    /* background-image: linear-gradient(to bottom, #D7D3C8, #F6F4EC 60%); */\n    font-size: 1.3em;\n    font-weight: normal;\n    color: #484848;\n    overflow: auto;\n    overflow-x: hidden;\n    /* overflow: hidden !important; */\n}\n\n.reveal .wrap {\n    min-height: calc(100vh - 48px);\n}\n\n.reveal .zBullet {\n    /* max-width: 80%; */\n    margin-left: 10px;\n}\n\n::selection {\n    color: #fff;\n    background: #00c99d;\n    text-shadow: none;\n}\n\n.reveal .slides>section,\n.reveal .slides>section>section {\n    line-height: 1.3;\n    font-weight: inherit;\n}\n\n.reveal .slide {\n    text-align: left;\n    /* margin-top: 10px */\n}\n\n.reveal .slideContent {\n    margin-top: 25px;\n}\n\n.reveal .slide .wrap{\n    margin-top: -30px\n}\n\n/* chapter breaker */\n\n.reveal .integrationBreaker {\n    background-image: url(\"/images/Qlik breaker.png\");\n    background-repeat: no-repeat;\n    margin: auto;\n    width: 50%;\n    min-width: 1000px;\n    height: 800px;\n    /* padding: 20px; */\n    font-size: 50px;\n    text-align: center;\n    top: 20px;\n}\n\n.reveal .commentBox {\n    margin-top: 30px;\n    margin-bottom: 30px;\n}\n\n.reveal .commentBox h1,\n.reveal .commentBox h2,\n.reveal .commentBox h3,\n.reveal .commentBox h4,\n.reveal .commentBox h5\n{\n    color: black;\n    font-size: 0.9em;\n    text-transform: none;\n}\n\n/*********************************************\n  * HEADERS\n  *********************************************/\n  .reveal h1,\n  .reveal h2,\n  .reveal h3,\n  .reveal h4,\n  .reveal h5,\n  .reveal h6   \n {\n      border-bottom: 1px solid  rgb(238, 238, 238);\n     padding-bottom: 6px;\n  }\n\n.reveal h1,\n.reveal h2,\n.reveal h3,\n.reveal h4,\n.reveal h5,\n.reveal h6 {\n    margin: 25px 0 25px 0;\n    color: #0E2F4E;\n    font-family: \"Fira Sans\", Helvetica, sans-serif;\n    font-weight: 600;\n    line-height: 1.2;\n    letter-spacing: normal;\n    text-transform: uppercase;\n    text-shadow: none;\n    word-wrap: break-word;\n}\n\n/*********************************************\n * HEADERS\n *********************************************/\n\n.reveal h1,\n.reveal h2,\n.reveal h3,\nblockquote .reveal h5,\n.reveal h6 {\n    -webkit-hyphens: auto;\n    -moz-hyphens: auto;\n    hyphens: auto;\n    word-wrap: break-word;\n    line-height: 1;\n}\n\n/* .reveal h1 {\n    font-size: 1.0em;\n    margin-top: 20px;\n    margin-bottom: 20px;\n}\n\n.reveal h2 {\n    font-size: 1em;\n    margin-top: 20px;\n    margin-bottom: 20px;\n}\n\n.reveal h3 {\n    font-size: 1em;\n    color: #4B4B4B;\n    margin-top: 20px;\n    margin-bottom: 20px;\n    ;\n}\n\n.reveal h4 {\n    font-size: 1em;\n    margin-top: 20px;\n    margin-bottom: 20px;\n} */\n\n/*********************************************\n  * OTHER\n  *********************************************/\n .reveal .controls button:focus {\n    outline: medium dotted;\n}\n\n.reveal aside .controls-arrow {\n    color: #870064;\n    zoom: 2;\n}\n\n.reveal p {\n    margin: 10px 0;\n    line-height: 1.3;\n    text-align: left;\n}\n\n.reveal q {\n    margin: auto;\n    width: 100%;\n    text-align: center;\n    display: block;\n    font-size: 50px;\n    line-height: 72px;\n    margin-top: 110px;\n}\n\n/* Ensure certain elements are never larger than the slide itself */\n\n/* .reveal img,.\n.reveal video, */\n\nbody > div > div.twelve.wide.column > div > iframe {\n    width: 100vw;\n    height: 90vh;\n    margin: 0px 0px 20px 0px;\n    min-height: 600px;\n    max-width: 100%; \n    border: none; \n}\n\n.reveal iframe {\n    width: 100vw;\n    height: calc(100vh - 100px);\n    margin: 0px 0px 20px 0px;\n    min-height: 600px;\n    max-width: 100%;   \n}\n/* \n.SSBIIFrame {    \n    height: 95vh;\n    width: 100%;\n    border: none;\n} */\n\n.reveal .ui.embed {\n    margin: 20px;\n}\n\n.reveal strong,\n.reveal b {\n    font-weight: bold;\n}\n\n.reveal em {\n    font-style: italic;\n}\n\n.reveal ol,\n.reveal dl,\n.reveal ul {\n    display: inline-block;\n    text-align: left;\n    margin: 0 0 0 1em;\n}\n\n.reveal ol {\n    list-style-type: decimal;\n}\n\n.reveal ul {\n    list-style-type: disc;\n}\n\n.reveal ul ul {\n    list-style-type: square;\n}\n\n.reveal ul ul ul {\n    list-style-type: circle;\n}\n\n.reveal ul ul,\n.reveal ul ol,\n.reveal ol ol,\n.reveal ol ul {\n    display: block;\n    margin-left: 40px;\n}\n\n.reveal dt {\n    font-weight: bold;\n}\n\n.reveal dd {\n    margin-left: 40px;\n}\n\n.reveal q,\n.reveal blockquote {\n    quotes: none;\n    font-size: 1.1em;\n}\n\n.reveal blockquote {\n    display: block;\n    position: relative;\n    /* width: 70%; */\n    /* margin: 20px auto; */\n    /* padding: 5px; */\n    font-style: italic;\n    border: none;\n    /* background: rgba(255, 255, 255, 0.05); */\n    /* box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.2); */\n}\n\n.reveal blockquote p:first-child,\n.reveal blockquote p:last-child {\n    display: inline-block;\n}\n\n.reveal q {\n    font-style: italic;\n}\n\n.reveal pre {\n    display: block;\n    position: relative;\n    width: 90%;\n    margin: 20px auto;\n    text-align: left;\n    font-size: 1em;\n    font-family: monospace;\n    line-height: 1.2em;\n    word-wrap: break-word;\n    box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.3);\n}\n\n.reveal code {\n    font-family: monospace;\n}\n\n.reveal pre code {\n    display: block;\n    padding: 5px;\n    overflow: auto;\n    max-height: 400px;\n    word-wrap: normal;\n}\n\n.reveal table {\n    margin: auto;\n    border-collapse: collapse;\n    border-spacing: 0;\n}\n\n.reveal table th {\n    font-weight: bold;\n}\n\n.reveal table th,\n.reveal table td {\n    text-align: left;\n    padding: 0.2em 0.5em 0.2em 0.5em;\n    /* border-bottom: 1px solid; */\n}\n\n.reveal table th[align=\"center\"],\n.reveal table td[align=\"center\"] {\n    text-align: center;\n}\n\n.reveal table th[align=\"right\"],\n.reveal table td[align=\"right\"] {\n    text-align: right;\n}\n\n.reveal table tbody tr:last-child th,\n.reveal table tbody tr:last-child td {\n    border-bottom: none;\n}\n\n.reveal sup {\n    vertical-align: super;\n}\n\n.reveal sub {\n    vertical-align: sub;\n}\n\n.reveal small {\n    display: inline-block;\n    font-size: 0.6em;\n    line-height: 1.2em;\n    vertical-align: top;\n}\n\n.reveal small * {\n    vertical-align: top;\n}\n\n/*********************************************\n  * LINKS\n  *********************************************/\n\n.reveal a {\n    color: #004939;\n    text-decoration: underline;\n    -webkit-transition: color .15s ease;\n    -moz-transition: color .15s ease;\n    transition: color .15s ease;\n}\n\n.reveal a:hover {\n    color: #009675;\n    text-shadow: none;\n    border: none;\n}\n\n.reveal .roll span:after {\n    color: #fff;\n    background: black;\n}\n\n/*********************************************\n  * MESSAGE BOX\n  *********************************************/\n\n.reveal .ui.message {\n    margin-top: 30px;\n}\n\n/*********************************************\n  * IMAGES\n  *********************************************/\n\n.reveal .image {\n    margin: 20px 0px 20px 0px\n}\n\n.reveal .ui.embed.active {\n    background: white;\n}\n\n.reveal section img {\n    padding: 10px;\n    /* margin: 15px 0px; */\n    /* background: rgba(255, 255, 255, 0.12);\n    border: 4px solid #484848;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.15); */\n}\n\n.reveal section img.plain {\n    border: 0;\n    box-shadow: none;\n}\n\n.reveal a img {\n    -webkit-transition: all .15s linear;\n    -moz-transition: all .15s linear;\n    transition: all .15s linear;\n}\n\n.reveal a:hover img {\n    background: rgba(255, 255, 255, 0.2);\n    border-color: #004939;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.55);\n}\n\n/*********************************************\n  * NAVIGATION CONTROLS\n  *********************************************/\n\n.reveal .controls .navigate-left,\n.reveal .controls .navigate-left.enabled {\n    border-right-color: #004939;\n}\n\n.reveal .controls .navigate-right,\n.reveal .controls .navigate-right.enabled {\n    border-left-color: #004939;\n}\n\n.reveal .controls .navigate-up,\n.reveal .controls .navigate-up.enabled {\n    border-bottom-color: #004939;\n}\n\n.reveal .controls .navigate-down,\n.reveal .controls .navigate-down.enabled {\n    border-top-color: #004939;\n}\n\n.reveal .controls .navigate-left.enabled:hover {\n    border-right-color: #009675;\n}\n\n.reveal .controls .navigate-right.enabled:hover {\n    border-left-color: #009675;\n}\n\n.reveal .controls .navigate-up.enabled:hover {\n    border-bottom-color: #009675;\n}\n\n.reveal .controls .navigate-down.enabled:hover {\n    border-top-color: #009675;\n}\n\n/*********************************************\n  * PROGRESS BAR\n  *********************************************/\n\n.reveal .progress {\n    background: rgba(0, 0, 0, 0.2);\n}\n\n.reveal .progress span {\n    background: #004939;\n    -webkit-transition: width 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985);\n    -moz-transition: width 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985);\n    transition: width 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985);\n}\n\n/*********************************************\n  * MOZILLA THEME OVERRIDES\n  *********************************************/\n\n/* body {\n    border-top: 2px solid white;\n} */\n\n#tabzilla:before {\n    background-color: #484848;\n}\n\n.reveal a {\n        text-decoration-color: #006937        ;\n        text-decoration-thickness: .125em;\n        text-underline-offset: 1.5px;\n      }\n}\n\n/* .reveal pre,\n.reveal section img {\n    border-radius: 4px;\n    box-shadow: 0 4px 10px #000;\n} */\n\n.reveal header h1+p,\n.reveal header h2+p,\n.reveal header h3+p,\n.reveal header h4+p,\n.reveal header h5+p,\n.reveal header h6+p {\n    color: #762313;\n    border: none;\n    padding: inherit;\n    text-transform: uppercase;\n}\n\n.reveal h2 {\n    margin-bottom: 1em;\n}\n\n.reveal section>section>h2 {\n    border-top: 0.1em solid #484848;\n    border-bottom: 0.1em solid #484848;\n    padding: 1em 0;\n}\n\n.reveal strong {\n    /* color: #762313; */\n}\n\n.reveal code:not(.hljs) {\n    /* padding: 0.3rem 0.5rem;\n    background-color: #dcd9d4;\n    border-radius: 8px; */\n}\n\n.reveal code[data-dim] mark {\n    color: #CBBE9A;\n    background-color: transparent;\n}\n\n.reveal code[data-dim] mark * {\n    color: #CBBE9A;\n}\n\n/* .reveal pre {\n    width: 106ex;\n    font-size: 0.5em;\n} */\n\n.reveal code {\n    line-height: 1.5em;\n    font-family: \"Fira Mono\", monospace;\n}\n\n.reveal li {\n    margin-bottom: 0.7em;\n}\n\n.reveal ul ul {\n    margin-top: 1em;\n}\n\n\n/**************************\n  Basic Modal Styles\n**************************/\n\n.modal {\n    font-family: -apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica neue,helvetica,ubuntu,roboto,noto,segoe ui,arial,sans-serif;\n  }\n\n  .modal__btn:focus, modal__close:focus {\n    /* outline: none;  */\n    border: 1px solid red;\n  }\n  \n  .modal__overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0,0,0,0.75);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index:10;\n  }\n  \n  .modal__container {\n    background-color: transparent;\n    padding: 0px;\n    max-width: 740px;\n    height: 75vh;\n    width: 50%;\n    border-radius: 0px;\n    overflow: hidden;\n    box-sizing: border-box;\n  }\n  \n  .modal__header {\n    position: relative;\n    display: block;\n    height: 30px;\n    margin-bottom: 0px;\n    padding: 30px;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    background: #D3D3D3;\n  }\n  \n  @supports (display: flex) {\n      \n      .modal__header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n        height:initial;\n      }\n      \n  }\n  \n  .modal__title {\n    position: absolute;\n    top: 20px;\n    left: 20px;\n    margin-top: 0;\n    margin-bottom: 0;\n    font-weight: 600;\n    font-size: 1.25rem;\n    line-height: 1.25;\n    color: #00449e;\n    box-sizing: border-box;\n  }\n  \n  .modal__close {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    background: transparent;\n    border: 0;\n    cursor: pointer;\n    margin: 0px;\n    padding: 0px;\n  }\n  \n  @supports (display: flex) {\n      \n    .modal__title {\n        position: static;\n    }\n      \n    .modal__close {\n        position: static;\n    }\n    \n  }\n  \n  .modal__header .modal__close:before { content: \"\\2715\"; }\n  \n  .modal-content-content{\n    padding: 30px;\n    border-bottom-left-radius: 4px;\n    border-bottom-right-radius: 4px;\n    background: #fff;\n  }\n  \n  .modal__content {\n    margin: 0px 0px 20px 0px;\n    color: rgba(0,0,0,.8);\n    overflow-y: auto;\n    overflow-x: hidden;\n    padding: 0px 20px 0px 0px;\n  }\n  \n  .modal__content p {\n    margin-top: 0px;\n  }\n  \n  .modal__btn {\n    font-size: .875rem;\n    padding-left: 1rem;\n    padding-right: 1rem;\n    padding-top: .5rem;\n    padding-bottom: .5rem;\n    background-color: #e6e6e6;\n    color: rgba(0,0,0,.8);\n    border-radius: .25rem;\n    border-style: none;\n    border-width: 0;\n    cursor: pointer;\n    -webkit-appearance: button;\n    text-transform: none;\n    overflow: visible;\n    line-height: 1.15;\n    margin: 0;\n    will-change: transform;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-backface-visibility: hidden;\n    backface-visibility: hidden;\n    -webkit-transform: translateZ(0);\n    transform: translateZ(0);\n    transition: -webkit-transform .25s ease-out;\n    transition: transform .25s ease-out;\n    transition: transform .25s ease-out,-webkit-transform .25s ease-out;\n  }\n  \n  .modal__btn-primary {\n    background-color: #00449e;\n    color: #fff;\n  }\n  \n  /**************************\n    Demo Animation Style\n  **************************/\n  \n  @keyframes mmfadeIn {\n      from { opacity: 0; }\n        to { opacity: 1; }\n  }\n  \n  @keyframes mmfadeOut {\n      from { opacity: 1; }\n        to { opacity: 0; }\n  }\n  \n  @keyframes mmslideIn {\n    from { transform: translateY(15%); }\n      to { transform: translateY(0); }\n  }\n  \n  @keyframes mmslideOut {\n      from { transform: translateY(0); }\n      to { transform: translateY(-10%); }\n  }\n  \n  .micromodal-slide {\n    display: none;\n  }\n  \n  .micromodal-slide.is-open {\n    display: block;\n  }\n  \n  .micromodal-slide[aria-hidden=\"false\"] .modal__overlay {\n    animation: mmfadeIn .3s cubic-bezier(0.0, 0.0, 0.2, 1);\n  }\n  \n  .micromodal-slide[aria-hidden=\"false\"] .modal__container {\n    animation: mmslideIn .3s cubic-bezier(0, 0, .2, 1);\n  }\n  \n  .micromodal-slide[aria-hidden=\"true\"] .modal__overlay {\n    animation: mmfadeOut .3s cubic-bezier(0.0, 0.0, 0.2, 1);\n  }\n  \n  .micromodal-slide[aria-hidden=\"true\"] .modal__container {\n    animation: mmslideOut .3s cubic-bezier(0, 0, .2, 1);\n  }\n  \n  .micromodal-slide .modal__container,\n  .micromodal-slide .modal__overlay {\n    will-change: transform;\n  }\n  \n  /**************************\n    Custom styles for individual modals\n  **************************/\n  \n  .modal__container button {\n      /* outline: none; */\n      cursor: pointer !important;\n  }\n  \n  .modal__container h2.modal__title {\n      color: #595959;\n  }\n  \n  .modal__header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  \n  .modal__title {\n    margin-top: 0;\n    margin-bottom: 0;\n    font-weight: 600;\n    font-size: 1.25rem;\n    line-height: 1.25;\n    color: #00449e;\n    box-sizing: border-box;\n  }\n  \n  .modal__close {\n    font-size: 24px;\n  }\n  \n  .modal__content {\n    color: rgba(0,0,0,.8);\n  }\n  \n  .modal__btn {\n    padding: 10px 15px;\n    background-color: #e6e6e6;\n    border-radius: 4px;\n    -webkit-appearance: none;\n  }\n  \n  /**************************\n    Mobile custom styles for individual modals\n  **************************/\n  \n  @media only screen and (min-device-width : 320px) and (max-device-width : 480px) {\n      \n      .modal__container {\n        width: 90% !important;\n        min-width: 90% !important;\n      }\n      \n      @supports (display: flex) {\n      \n          .modal__container {\n              width: 90% !important;\n              min-width: 90% !important;\n        height: 85vh;\n          }\n          \n      }\n    \n    .modal__header {\n      padding: 20px;\n    }\n    \n    .modal-content-content {\n      padding: 20px;\n    }\n    \n    .modal__content {\n      -webkit-overflow-scrolling: touch;\n    }\n    \n  }"
);

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"slides.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/slideGenerator/slides.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

module.export({
  Reveal: function () {
    return Reveal;
  },
  MenuItems: function () {
    return MenuItems;
  },
  ChapterItems: function () {
    return ChapterItems;
  },
  normalizeAndSortData: function () {
    return normalizeAndSortData;
  }
});
var MicroModal;
module.watch(require("micromodal"), {
  "default": function (v) {
    MicroModal = v;
  }
}, 0);
module.watch(require("./reveal.css"));
module.watch(require("./helper.css"));
var lodash;
module.watch(require("lodash"), {
  "default": function (v) {
    lodash = v;
  }
}, 1);
var hljs;
module.watch(require("highlight.js"), {
  "default": function (v) {
    hljs = v;
  }
}, 2);
var Logger;
module.watch(require("/imports/api/logger"), {
  Logger: function (v) {
    Logger = v;
  }
}, 3);
var getSlideGenApp, getLevel1, getSubjectArea;
module.watch(require("/imports/ui/useCases/useCaseSelection"), {
  getSlideGenApp: function (v) {
    getSlideGenApp = v;
  },
  getLevel1: function (v) {
    getLevel1 = v;
  },
  getSubjectArea: function (v) {
    getSubjectArea = v;
  }
}, 4);
var selectInSense;
module.watch(require("/imports/ui/nav"), {
  selectInSense: function (v) {
    selectInSense = v;
  }
}, 5);
module.watch(require("./slideSelectionSheet"));

var Reveal = require("reveal.js");

// import { fill } from 'core-js/core/array';
_ = lodash;

var Cookies = require("js-cookie");

var showdown = require("showdown");

showdown.setFlavor('github');
var converter = new showdown.Converter({
  tables: true,
  openLinksInNewWindow: true
});

var marked = require('marked'); // console.log(converter.getOptions());


var numberOfActiveSlides = 10;
var MenuItems = new Mongo.Collection(null);
var ChapterItems = new Mongo.Collection(null);
//
// ─── SLIDES ─────────────────────────────────────────────────────────────────────
//
// console.log('SHOWDOWN SETTINGS: ', showdown.getDefaultOptions());
Template.registerHelper('chapterSlide', function (currentRow) {
  if (typeof currentRow === 'string') {
    //we got a chapter slide        
    return true;
  }
});
Template.slides.onCreated(function () {
  function _callee() {
    return _regenerator.default.async(function () {
      function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return _regenerator.default.awrap(populateNavMenuItems());

            case 2:
              $("body").css({
                overflow: "overlay"
              });

            case 3:
            case "end":
              return _context.stop();
          }
        }
      }

      return _callee$;
    }(), null, this);
  }

  return _callee;
}());
Template.slideShareModal.onRendered(function () {
  try {
    MicroModal.init({
      awaitCloseAnimation: true,
      // set to false, to remove close animation
      onShow: function (modal) {
        console.log("micromodal open");
        addModalContentHeight('short');
        var link = document.getElementById("shareRef");
        var range = document.createRange();
        range.selectNode(link);
        var selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        document.execCommand('copy');
        /**************************
          For full screen scrolling modal, 
          uncomment line below & comment line above
         **************************/
        // addModalContentHeight('tall');               
      },
      onClose: function (modal) {// console.log("micromodal close");
      }
    });
  } catch (e) {// console.log("micromodal error: ", e);
  }
});
Template.slide.onCreated(function () {
  function _callee2() {
    return _regenerator.default.async(function () {
      function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _context2.next = 2;
              return _regenerator.default.awrap(populateChapters());

            case 2:
            case "end":
              return _context2.stop();
          }
        }
      }

      return _callee2$;
    }(), null, this);
  }

  return _callee2;
}());

function populateChapters() {
  var qix, items, _iterator, _isArray, _i, _ref, _item;

  return _regenerator.default.async(function () {
    function populateChapters$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.next = 2;
            return _regenerator.default.awrap(getSlideGenApp());

          case 2:
            qix = _context3.sent;
            _context3.next = 5;
            return _regenerator.default.awrap(getLevel1(qix));

          case 5:
            items = _context3.sent;
            ChapterItems.remove({}); //insert items in a collection

            _iterator = items, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();

          case 8:
            if (!_isArray) {
              _context3.next = 14;
              break;
            }

            if (!(_i >= _iterator.length)) {
              _context3.next = 11;
              break;
            }

            return _context3.abrupt("break", 22);

          case 11:
            _ref = _iterator[_i++];
            _context3.next = 18;
            break;

          case 14:
            _i = _iterator.next();

            if (!_i.done) {
              _context3.next = 17;
              break;
            }

            return _context3.abrupt("break", 22);

          case 17:
            _ref = _i.value;

          case 18:
            _item = _ref;
            ChapterItems.insert(_item[0]);

          case 20:
            _context3.next = 8;
            break;

          case 22:
          case "end":
            return _context3.stop();
        }
      }
    }

    return populateChapters$;
  }(), null, this);
}

;
Template.slides.onRendered(function () {
  function _callee3() {
    return _regenerator.default.async(function () {
      function _callee3$(_context4) {
        while (1) {
          switch (_context4.prev = _context4.next) {
            case 0:
              initializeReveal();
              Reveal.sync();
              this.$(".reveal").removeAttr("role"); //removed to comply with WCAG 4.1.2

            case 3:
            case "end":
              return _context4.stop();
          }
        }
      }

      return _callee3$;
    }(), null, this);
  }

  return _callee3;
}());
Template.chapters.events({
  "click a": function () {
    function _callee4(event, template) {
      var menuItem;
      return _regenerator.default.async(function () {
        function _callee4$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                menuItem = event.currentTarget.id;
                Session.set("currentChapter", menuItem);
                console.log('make selection in chapter based on id: ' + menuItem);
                _context5.next = 5;
                return _regenerator.default.awrap(selectInSense('Level 1', menuItem));

              case 5:
              case "end":
                return _context5.stop();
            }
          }
        }

        return _callee4$;
      }(), null, this);
    }

    return _callee4;
  }()
});

function populateNavMenuItems() {
  var qix, items, _iterator2, _isArray2, _i2, _ref2, _item2;

  return _regenerator.default.async(function () {
    function populateNavMenuItems$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            _context6.next = 2;
            return _regenerator.default.awrap(getSlideGenApp());

          case 2:
            qix = _context6.sent;
            _context6.next = 5;
            return _regenerator.default.awrap(getSubjectArea(qix));

          case 5:
            items = _context6.sent;
            MenuItems.remove({}); //insert items in a collection

            _iterator2 = items, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();

          case 8:
            if (!_isArray2) {
              _context6.next = 14;
              break;
            }

            if (!(_i2 >= _iterator2.length)) {
              _context6.next = 11;
              break;
            }

            return _context6.abrupt("break", 22);

          case 11:
            _ref2 = _iterator2[_i2++];
            _context6.next = 18;
            break;

          case 14:
            _i2 = _iterator2.next();

            if (!_i2.done) {
              _context6.next = 17;
              break;
            }

            return _context6.abrupt("break", 22);

          case 17:
            _ref2 = _i2.value;

          case 18:
            _item2 = _ref2;
            MenuItems.insert(_item2[0]);

          case 20:
            _context6.next = 8;
            break;

          case 22:
          case "end":
            return _context6.stop();
        }
      }
    }

    return populateNavMenuItems$;
  }(), null, this);
}

;

function addSlideChangedListener() {
  // console.log('!!!!!!!!!!!!! addSlideChangedListener')
  Reveal.addEventListener("slidechanged", function (evt) {
    Session.set("activeStepNr", evt.indexh);
    setTimeout(function () {
      $(".ui.embed").embed();
    }, 200); //set html title    

    document.title = $(".present h1").text();
  });
} //
// ─── SLIDE CONTENT ──────────────────────────────────────────────────────────────────────
//


Template.slideContent.onCreated(function () {
  function _callee5() {
    var instance, level1, level2;
    return _regenerator.default.async(function () {
      function _callee5$(_context7) {
        while (1) {
          switch (_context7.prev = _context7.next) {
            case 0:
              instance = this;
              instance.bullets = new ReactiveVar([]); //https://stackoverflow.com/questions/35047101/how-do-i-access-the-data-context-and-the-template-instance-in-each-case-event

              instance.comment = new ReactiveVar([]);
              instance.level2 = new ReactiveVar([]); //the header and sub header for which we want to load the slide data/bullets

              level1 = Template.currentData().slide[0].qText;
              level2 = Template.currentData().slide[1].qText;
              instance.level2.set(level2); // and now let's get the slide content:

              _context7.t0 = instance.bullets;
              _context7.next = 10;
              return _regenerator.default.awrap(getLevel3(level1, level2));

            case 10:
              _context7.t1 = _context7.sent;

              _context7.t0.set.call(_context7.t0, _context7.t1);

              _context7.t2 = instance.comment;
              _context7.next = 15;
              return _regenerator.default.awrap(getComment(level1, level2));

            case 15:
              _context7.t3 = _context7.sent;

              _context7.t2.set.call(_context7.t2, _context7.t3);

            case 17:
            case "end":
              return _context7.stop();
          }
        }
      }

      return _callee5$;
    }(), null, this);
  }

  return _callee5;
}());
Template.slideContent.helpers({
  bullets: function () {
    return Template.instance().bullets.get();
  },
  comment: function () {
    var comment = Template.instance().comment.get();
    if (comment.length > 10) return createCommentBox(comment);
  }
});
Template.slideContent.onRendered(function () {
  function _callee6() {
    var template;
    return _regenerator.default.async(function () {
      function _callee6$(_context8) {
        while (1) {
          switch (_context8.prev = _context8.next) {
            case 0:
              template = this; // this.$("a:first").css.focus()

              this.$("a:first").attr("id", "maincontent"); //if the slide is shown, log it into the database

              Logger.insert({
                userId: Meteor.userId,
                role: Cookies.get("currentMainRole"),
                userProfile: Meteor.user(),
                website: location.href,
                counter: 1,
                eventType: "slideRendered",
                topic: this.data.slide[0].qText,
                slide: this.data.slide[1].qText,
                currentSlideNr: Reveal.getIndices().h,
                slidesContainedInSelection: $(".slide").length,
                viewDate: new Date() // current time

              });
              Meteor.setTimeout(function () {
                //make sure all code gets highlighted using highlight.js
                // template.$("pre code").each(function (i, block) {
                //     hljs.highlightBlock(block);
                // });
                //ensure all links open on a new tab
                template.$('a[href^="http://"], a[href^="https://"]').attr("target", "_blank"); //convert all h1 to h3 headers for accessibility reasons

                template.$('.slideContent .zBullet h1').replaceWith(function () {
                  return $("<h3>", {
                    "class": this.className,
                    "html": $(this).html()
                  });
                });
                template.$('.slideContent .zBullet h2').replaceWith(function () {
                  return $("<h4>", {
                    "class": this.className,
                    "html": $(this).html()
                  });
                });
                $('.commentBox h1').replaceWith(function () {
                  return $("<h4>", {
                    "class": this.className,
                    "html": $(this).html()
                  });
                });
                $('.commentBox h2').replaceWith(function () {
                  return $("<h5>", {
                    "class": this.className,
                    "html": $(this).html()
                  });
                });
                this.$('img').not('.ui.image').addClass('ui image');
              }, 2000);

            case 4:
            case "end":
              return _context8.stop();
          }
        }
      }

      return _callee6$;
    }(), null, this);
  }

  return _callee6;
}());
Template.slideContent.events({
  "click a": function (e, t) {
    e.stopPropagation();
    Logger.insert({
      userId: Meteor.userId,
      userProfile: Meteor.user(),
      role: Cookies.get("currentMainRole"),
      counter: 1,
      eventType: "linkClick",
      topic: Template.parentData(1).slide[0].qText,
      slide: Template.parentData(1).slide[1].qText,
      linkName: e.currentTarget.innerText,
      linkSource: e.target.baseURI,
      viewDate: new Date() // current time

    });
  }
}); //
// ─── HELPERS ────────────────────────────────────────────────────────────────────
//

Template.slides.helpers({
  slideHeaders: function () {
    return Session.get("slideHeaders"); //only the level 1 and 2 colums, we need this for the headers of the slide
  },
  TableOfContentForChapter: function () {
    var headers = Session.get("slideHeaders"); //only the level 1 and 2 colums, we need this for the headers of the slide

    var currentChapter = this.toString();
    var toc = [];

    if (headers) {
      for (var _iterator3 = headers, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {
        var _ref3;

        if (_isArray3) {
          if (_i3 >= _iterator3.length) break;
          _ref3 = _iterator3[_i3++];
        } else {
          _i3 = _iterator3.next();
          if (_i3.done) break;
          _ref3 = _i3.value;
        }

        var _element = _ref3;
        var level1 = _element[0].qText;
        var level2 = _element[1].qText;

        if (level1 === currentChapter) {
          toc.push(level2);
        }
      }
    }

    return toc;
  },
  showSelector: function () {
    return Session.get("showSelector");
  },
  showSubjectAreaIntroduction: function () {
    return Session.get("showSubjectAreaIntroduction");
  },
  subjectAreas: function () {
    var items = MenuItems.find({});
    return items;
  }
});
Template.registerHelper('presentationName', function (object) {
  return Cookies.get("currentMainRole");
});
Template.registerHelper('currentSubjectArea', function (object) {
  return Session.get("currentSubjectArea");
});
Template.slide.helpers({
  active: function (slideNr) {
    var activeSlide = Session.get("activeStepNr") ? Session.get("activeStepNr") : $(".slide-number").text();
    var active = slideNr < activeSlide + numberOfActiveSlides && slideNr > activeSlide - numberOfActiveSlides;
    return active;
  }
});
Template.chapters.helpers({
  chapters: function () {
    var chapters = ChapterItems.find({});
    return chapters;
  },
  active: function (chapter) {
    chapter = chapter.qText; // console.log("🚀 ~ file: slides.js ~ line 303 ~ active ~ chapter", chapter)

    if (chapter === Session.get("currentChapter")) {
      return 'active';
    }
  }
});
Template.registerHelper('debug', function (object) {
  console.log('td value: ', object); // return JSON.parse(object);
});
Template.slideShareModal.helpers({
  shareLinkURL: function () {
    var link = Session.get('shareLinkURL');
    return link;
  }
});
Template.registerHelper("level", function (level, slide) {
  level -= 1;
  return slide[level].qText;
});
Template.registerHelper("step", function () {
  return Session.get("activeStepNr");
}); //
// ─── FOR EACH SLIDE GET THE LEVEL 3 ITEMS USING SET ANALYSIS ────────────────────
//

function getLevel3(level1, level2) {
  var qix, sessionModel, level3Temp, sortedLevel3Bullets, newArray, _iterator4, _isArray4, _i4, _ref4, _item3;

  return _regenerator.default.async(function () {
    function getLevel3$(_context9) {
      while (1) {
        switch (_context9.prev = _context9.next) {
          case 0:
            _context9.prev = 0;
            _context9.next = 3;
            return _regenerator.default.awrap(getSlideGenApp());

          case 3:
            qix = _context9.sent;
            _context9.next = 6;
            return _regenerator.default.awrap(qix.createSessionObject({
              qInfo: {
                qType: 'cube'
              },
              qHyperCubeDef: {
                qDimensions: [{
                  qDef: {
                    qFieldDefs: ["Level 3"]
                  }
                }, {
                  qDef: {
                    qFieldDefs: ["CSVRowNo"]
                  }
                }],
                qMeasures: [{
                  qDef: {
                    qDef: 'sum({< "Level 1"={"' + level1 + '"}, "Level 2"={"' + level2 + '"}>}1)'
                  }
                }]
              }
            }));

          case 6:
            sessionModel = _context9.sent;
            _context9.next = 9;
            return _regenerator.default.awrap(sessionModel.getHyperCubeData('/qHyperCubeDef', [{
              qTop: 0,
              qLeft: 0,
              qWidth: 3,
              qHeight: 3333
            }]));

          case 9:
            sessionData = _context9.sent;
            level3Temp = sessionData[0].qMatrix;
            sessionModel.removeAllListeners();
            sortedLevel3Bullets = normalizeAndSortData(level3Temp);
            newArray = [];
            _iterator4 = sortedLevel3Bullets, _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : _iterator4[Symbol.iterator]();

          case 15:
            if (!_isArray4) {
              _context9.next = 21;
              break;
            }

            if (!(_i4 >= _iterator4.length)) {
              _context9.next = 18;
              break;
            }

            return _context9.abrupt("break", 33);

          case 18:
            _ref4 = _iterator4[_i4++];
            _context9.next = 25;
            break;

          case 21:
            _i4 = _iterator4.next();

            if (!_i4.done) {
              _context9.next = 24;
              break;
            }

            return _context9.abrupt("break", 33);

          case 24:
            _ref4 = _i4.value;

          case 25:
            _item3 = _ref4;
            _context9.t0 = newArray;
            _context9.next = 29;
            return _regenerator.default.awrap(convertToHTML(_item3, level2));

          case 29:
            _context9.t1 = _context9.sent;

            _context9.t0.push.call(_context9.t0, _context9.t1);

          case 31:
            _context9.next = 15;
            break;

          case 33:
            return _context9.abrupt("return", newArray);

          case 36:
            _context9.prev = 36;
            _context9.t2 = _context9["catch"](0);

          case 38:
          case "end":
            return _context9.stop();
        }
      }
    }

    return getLevel3$;
  }(), null, this, [[0, 36]]);
}

function normalizeAndSortData(senseArray) {
  var result = [];
  senseArray.sort(compare);

  for (var _iterator5 = senseArray, _isArray5 = Array.isArray(_iterator5), _i5 = 0, _iterator5 = _isArray5 ? _iterator5 : _iterator5[Symbol.iterator]();;) {
    var _ref5;

    if (_isArray5) {
      if (_i5 >= _iterator5.length) break;
      _ref5 = _iterator5[_i5++];
    } else {
      _i5 = _iterator5.next();
      if (_i5.done) break;
      _ref5 = _i5.value;
    }

    var _element2 = _ref5;
    result.push(_element2[0].qText);
  }

  return result;
}

function compare(a, b) {
  if (a[1].qNum < b[1].qNum) {
    return -1;
  }

  if (a[1].qNum > b[1].qNum) {
    return 1;
  }

  return 0;
}

function createCommentBox(text) {
  // console.log('createCommentBox for text', text)
  var textAfterCommentMarker = text.split("!comment").pop();
  var messagebox = "\n        <section class=\"commentBox\">\n            <div class=\"ui icon message\">\n            <i class=\"help icon\"></i>\n            <div class=\"content\">\n            <h3 class=\"header\">\n            Let's explain what we mean here...\n            </h3>\n            \n                 " + marked.parse(textAfterCommentMarker) + "\n            </div>\n        </div>\n        </section>"; //select all text after the !comment... and print it in a nice text box

  return messagebox;
} //
// ─── FOR EACH SLIDE GET THE COMMENT TEXT USING SET ANALYSIS ─────────────────────
//


function getComment(level1, level2) {
  var qix, sessionModel, comment;
  return _regenerator.default.async(function () {
    function getComment$(_context10) {
      while (1) {
        switch (_context10.prev = _context10.next) {
          case 0:
            _context10.next = 2;
            return _regenerator.default.awrap(getSlideGenApp());

          case 2:
            qix = _context10.sent;
            _context10.next = 5;
            return _regenerator.default.awrap(qix.createSessionObject({
              qInfo: {
                qType: "cube"
              },
              qHyperCubeDef: {
                qDimensions: [{
                  qDef: {
                    qFieldDefs: ["Comment"]
                  }
                }],
                qMeasures: [{
                  qDef: {
                    qDef: 'sum({< "Level 1"={"' + level1 + '"}, "Level 2"={"' + level2 + '"} >}1)'
                  }
                }]
              }
            }));

          case 5:
            sessionModel = _context10.sent;
            _context10.next = 8;
            return _regenerator.default.awrap(sessionModel.getHyperCubeData("/qHyperCubeDef", [{
              qTop: 0,
              qLeft: 0,
              qWidth: 2,
              qHeight: 1000
            }]));

          case 8:
            sessionData = _context10.sent;
            comment = sessionData[0].qMatrix[0][0].qText;
            return _context10.abrupt("return", comment != "null" ? comment : "");

          case 11:
          case "end":
            return _context10.stop();
        }
      }
    }

    return getComment$;
  }(), null, this);
}

function normalizeAndSortData(senseArray) {
  var result = [];
  senseArray.sort(compare);
  senseArray.forEach(function (element) {
    result.push(element[0].qText);
  });
  return result;
}

function convertToHTML(text, level2) {
  var commentMarker, embeddedImageMarker, altText, split, url, hasComment, link, urlWithDescription, description, textMarker, result;
  return _regenerator.default.async(function () {
    function convertToHTML$(_context11) {
      while (1) {
        switch (_context11.prev = _context11.next) {
          case 0:
            // console.log('convertToHTML text', text)
            commentMarker = "!comment";
            embeddedImageMarker = "!embeddedImage";
            altText = ''; //define image url

            split = text.indexOf('.') + 4;
            url = text.substr(0, split); //before . plus 4
            // console.log('image url', url)
            //check if alt text comment exists
            //myimg.jpg my commment bla bla

            altText = text.slice(text.indexOf('.') + 4).trim(); //after img extension
            // console.log('IMAGE altText', altText)

            if (altText.length < 2) {
              altText = level2 + ' ' + text.substr(0, text.indexOf('.'));
            } // console.log('image altText', altText)
            //
            // ─── YOUTUBE ────────────────────────────────────────────────────────────────────
            //


            if (!containsYouTube(text)) {
              _context11.next = 15;
              break;
            }

            hasComment = text.trim().indexOf(' ');

            if (hasComment < 0) {
              altText = level2;
            } else {
              altText = text.slice(text.indexOf(' ') + 1).trim(); //after space
            }

            url = text.split(" ")[0]; //before space

            link = '<div class="zBullet"> <a href="' + url + '"> YouTube video: ' + altText + '</a> <br> </div>';
            return _context11.abrupt("return", link);

          case 15:
            if (!text.startsWith("iframe ")) {
              _context11.next = 22;
              break;
            }

            urlWithDescription = text.substr(text.indexOf(" ") + 1); //everything after iframe 

            url = urlWithDescription.split(" ")[0];
            description = text.substr(text.indexOf(" ") + 1); //everything after iframe 

            return _context11.abrupt("return", '<iframe  title="' + description + '" src="' + url + '"frameborder="0"></iframe>');

          case 22:
            if (!(checkTextIsImage(text) && text.includes("https://"))) {
              _context11.next = 26;
              break;
            }

            return _context11.abrupt("return", '<div class="ui container"> <img alt="" class="ui centered massive rounded bordered image"  src="' + text + '"/></div>');

          case 26:
            if (!checkTextIsImage(text)) {
              _context11.next = 30;
              break;
            }

            return _context11.abrupt("return", '<div class="ui container"> <img alt="' + altText + '" class="ui centered massive rounded bordered image" src="images/' + url + '"/></div>');

          case 30:
            if (!text.startsWith(embeddedImageMarker)) {
              _context11.next = 35;
              break;
            }

            //embedded image in text
            textMarker = text.split(embeddedImageMarker).pop();
            return _context11.abrupt("return", '<div class="ui container"><img class="ui massive rounded bordered image"   style="width: 100%;"  alt="Embedded Image" src="data:image/png;base64,' + textMarker + '"/> </div>');

          case 35:
            if (!text.startsWith(commentMarker)) {
              _context11.next = 38;
              break;
            }

            _context11.next = 56;
            break;

          case 38:
            if (!text.startsWith("<")) {
              _context11.next = 42;
              break;
            }

            return _context11.abrupt("return", text);

          case 42:
            //text, convert the text (which can include markdown syntax) to valid HTML
            result = '';

            if (!text.endsWith('.md')) {
              _context11.next = 50;
              break;
            }

            _context11.next = 46;
            return _regenerator.default.awrap(Meteor.callPromise('getHTMLFromMarkdownUrl', text));

          case 46:
            result = _context11.sent;
            return _context11.abrupt("return", '<div class="ui container">' + result + "</div>");

          case 50:
            //convert it locally
            result = marked.parse(text);

            if (!(result.substring(1, 11) === "blockquote")) {
              _context11.next = 55;
              break;
            }

            return _context11.abrupt("return", '<div class="ui green segment">' + result + "</div>");

          case 55:
            return _context11.abrupt("return", '<div class="zBullet">' + result + "<br> </div>");

          case 56:
          case "end":
            return _context11.stop();
        }
      }
    }

    return convertToHTML$;
  }(), null, this);
}

function containsYouTube(target) {
  var pattern = ['youtube.com', 'youtu.be'];
  var value = 0;
  pattern.forEach(function (word) {
    value = value + target.includes(word);
  }); //contains a string with youtube, but is not markdown, and not custom html...

  return value === 1 && !target.startsWith("<") && !target.startsWith("[");
}

function checkTextIsImage(target) {
  var pattern = ['.jpeg', '.jpg', '.svg', '.png', '.gif', '.ashx'];
  var value = 0;
  pattern.forEach(function (word) {
    value = value + target.includes(word);
  });
  return value === 1;
}
/* -------------------------------------------------------------------------- */

/*                                 init reveal                                */

/* -------------------------------------------------------------------------- */


function initializeReveal() {
  if (!window.Reveal) {
    try {
      window.Reveal = Reveal;
      console.log('initializeReveal', Reveal);
      Reveal.initialize({
        dependencies: [{
          src: 'plugin/accessibility/helper.js',
          async: true,
          condition: function () {
            return !!document.body.classList;
          }
        }],
        // slide size
        width: '100%',
        height: '100%',
        // Bounds for smallest/largest possible scale to apply to content
        // minScale: 1,
        // maxScale: 1,
        // Factor of the display size that should remain empty around the content
        margin: 0.1,
        // Bounds for smallest/largest possible scale to apply to content
        minScale: 0.2,
        maxScale: 1.0,
        // Display presentation control arrows
        controls: true,
        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,
        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',
        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'visible',
        // Display a presentation progress bar
        progress: false,
        // Display the page number of the current slide
        slideNumber: true,
        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: false,
        // Push each slide change to the browser history. Implies `hash: true`
        history: false,
        // Enable keyboard shortcuts for navigation
        keyboard: true,
        // Enable the slide overview mode
        overview: true,
        // Vertical centering of slides
        center: false,
        // Enables touch navigation on devices with touch input
        touch: true,
        // Loop the presentation
        loop: false,
        // Change the presentation direction to be RTL
        rtl: false,
        // See https://github.com/hakimel/reveal.js/#navigation-mode
        navigationMode: 'default',
        // Randomizes the order of slides each time the presentation loads
        shuffle: false,
        // Turns fragments on and off globally
        fragments: false,
        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,
        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: true,
        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,
        // Flags if speaker notes should be visible to all viewers
        showNotes: false,
        // Global override for autoplaying embedded media (video/audio/iframe)
        // - null: Media will only autoplay if data-autoplay is present
        // - true: All media will autoplay, regardless of individual setting
        // - false: No media will autoplay, regardless of individual setting
        autoPlayMedia: null,
        // Global override for preloading lazy-loaded iframes
        // - null: Iframes with data-src AND data-preload will be loaded when within
        //   the viewDistance, iframes with only data-src will be loaded when visible
        // - true: All iframes with data-src will be loaded when within the viewDistance
        // - false: All iframes with data-src will be loaded only when visible
        preloadIframes: null,
        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,
        // Stop auto-sliding after user input
        autoSlideStoppable: true,
        // Use this method for navigation when auto-sliding
        autoSlideMethod: Reveal.navigateNext,
        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: 120,
        // Enable slide navigation via mouse wheel
        mouseWheel: false,
        // Hide cursor if inactive
        hideInactiveCursor: true,
        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,
        // Hides the address bar on mobile devices
        hideAddressBar: true,
        // Opens links in an iframe preview overlay
        // Add `data-preview-link` and `data-preview-link="false"` to customise each link
        // individually
        previewLinks: false,
        // Transition style
        transition: 'slide',
        // none/fade/slide/convex/concave/zoom
        // Transition speed
        transitionSpeed: 'default',
        // default/fast/slow
        // Transition style for full page slide backgrounds
        backgroundTransition: 'fade',
        // none/fade/slide/convex/concave/zoom
        // Number of slides away from the current that are visible, changing this causes scroll issues with iframes
        viewDistance: 1,
        // Parallax background image
        parallaxBackgroundImage: '',
        // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"
        // Parallax background size
        parallaxBackgroundSize: '',
        // CSS syntax, e.g. "2100px 900px"
        // Number of pixels to move the parallax background per slide
        // - Calculated automatically unless specified
        // - Set to 0 to disable movement along an axis
        parallaxBackgroundHorizontal: null,
        parallaxBackgroundVertical: null,
        // The display mode that will be used to show slides
        display: 'block'
      });
      Session.set("activeStepNr", 0);
      addSlideChangedListener();
    } catch (error) {}
  }
}

function addModalContentHeight(type) {
  var type = arguments[0] != null ? arguments[0] : 'short';
  var modalContainer = $("#modal-container");
  var modalHeader = $("#modal-header");
  var modalContentContent = $("#modal-content-content");
  var modalContent = $("#modal-content");
  var modalFooter = $("#modal-footer");
  var modalIsDefined = modalContainer.length && modalHeader.length && modalContent.length && modalFooter.length;

  if (modalIsDefined) {
    var modalContainerHeight = modalContainer.outerHeight();
    var modalHeaderHeight = modalHeader.outerHeight();
    var modalFooterHeight = modalFooter.outerHeight();
    console.log("modalContainerHeight: ", modalContainerHeight);
    console.log("modalHeaderHeight: ", modalHeaderHeight);
    console.log("modalFooterHeight: ", modalFooterHeight);
    var offset = 80;
    var height = modalContainerHeight - (modalHeaderHeight + modalFooterHeight + offset);
    console.log('height: ', height);

    if (!isNaN(height)) {
      height = height > 0 ? height : 20;

      if (type == 'short') {
        modalContent.css({
          'height': height + 'px'
        });
      } else {
        modalContainer.css({
          'height': '100%',
          'overflow-y': 'hidden',
          'margin-top': '40px'
        });
        modalContentContent.css({
          'height': '100%',
          'overflow-y': 'auto'
        });
        modalContent.css({
          'overflow-y': 'visible'
        });
        modalFooter.css({
          'margin-bottom': '120px'
        });
      }

      setTimeout(function () {
        modalContent.css({
          'display': 'block'
        });
        var modalContentDOM = document.querySelector('#modal-content');
        modalContentDOM.scrollTop = 0;
      });
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"users":{"login.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/users/login.html                                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.login.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.login.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/users/template.login.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("signup");
Template["signup"] = new Template("Template.signup", (function() {
  var view = this;
  return HTML.Raw('<form id="signup">\n    <label for="emailAddress">Email Address</label>\n    <input type="email" name="emailAddress">\n    <label for="password">Password</label>\n    <input type="password" name="password">\n    <input type="submit" value="Sign Up">\n  </form>');
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userOverview.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/users/userOverview.html                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.userOverview.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.userOverview.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/users/template.userOverview.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("userOverview");
Template["userOverview"] = new Template("Template.userOverview", (function() {
  var view = this;
  return [ HTML.Raw('<h3 class="ui dividing header">Overview of all users that signed up</h3>\n\t'), Blaze._TemplateWith(function() {
    return {
      class: Spacebars.call("ui celled table"),
      collection: Spacebars.call(view.lookup("users")),
      settings: Spacebars.call(view.lookup("userTableSettings"))
    };
  }, function() {
    return Spacebars.include(view.lookupTemplate("reactiveTable"));
  }) ];
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"login.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/users/login.js                                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Session;
module.watch(require("meteor/session"), {
  Session: function (v) {
    Session = v;
  }
}, 1);
module.watch(require("/imports/ui/UIHelpers"));
module.watch(require("./login.html"));
module.watch(require("./userOverview.html"));
module.watch(require("./userOverview"));
Template.signup.events({
  'submit form': function (event, template) {
    event.preventDefault();
    var email = template.find("[name='emailAddress']").value,
        password = template.find("[name='password']").value;
    Accounts.createUser({
      email: email,
      password: password
    }, function (error) {
      if (error) {
        console.error(error.reason);
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userOverview.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/users/userOverview.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 0);
var Session;
module.watch(require("meteor/session"), {
  Session: function (v) {
    Session = v;
  }
}, 1);
Template.userOverview.helpers({
  users: function () {
    var users = Meteor.users.find().fetch();

    if (users) {
      console.log('users received: ', users);
      return users;
    }
  },
  userTableSettings: function () {
    return {
      rowsPerPage: 100,
      responsive: true,
      autoWidth: true,
      showFilter: true,
      showColumnToggles: false,
      fields: ['username', {
        key: 'emails.0.address',
        label: 'Email'
      }, {
        key: 'services.google.email',
        label: 'GMail adress'
      }, {
        key: 'profile.name',
        label: 'Gmail name'
      }, {
        key: 'services.google.locale',
        label: 'Country locale'
      }, {
        key: 'services.google.picture',
        label: 'Image',
        fn: function (value, object, key) {
          return value ? new Spacebars.SafeString('<img class="ui tiny image" src="' + value + '">') : '';
        }
      }] // fields: [{
      //     key: 'name',
      //     label: 'name',
      //     sortOrder: 1,
      //     sortDirection: 'descending'
      // }, 'rule', 'resourceFilter', 'comment'],

    };
  }
});
Template.layout.onCreated(function () {
  //see https://guide.meteor.com/data-loading.html
  Meteor.subscribe("users");
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"checkConfig.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/checkConfig.html                                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.checkConfig.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.checkConfig.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/template.checkConfig.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("checkConfig");
Template["checkConfig"] = new Template("Template.checkConfig", (function() {
  var view = this;
  return HTML.Raw('<div class="ui container">\n        <div class="ui warning message">\n            <div class="header">\n                <i class="warning sign icon"></i> We can\'t connect to Qlik sense at the moment\n            </div>\n            <li> Ensure Qlik Sense is running, and wait at least 10 minutes before all the services have started. (they have a delayed start)</li>\n            <li> Ensure you have installed this Meteor tool at the same machine as Qlik Sense. Otherwise make sure you have exported the client certificate</li>\n            <li> Please verify the settings in the settings.json file in the root of the project folder</li>\n        </div>\n        <!-- <h3 class="ui aligned header">Please verify the settings in the settings.json file in the root of the project folder</h3>\n         --><!-- <div class="ui two column center stackable grid container">\n            <div class="column">\n                <div class="ui segment">{{> quickForm collection=senseConfigCollection doc=senseConfig id="updatesenseConfig" type="update"}}</div>\n            </div>\n        </div> -->\n    </div>');
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"nav.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/nav.html                                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.nav.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.nav.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/template.nav.js                                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("nav");
Template["nav"] = new Template("Template.nav", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui container top secondary stackable menu mainNavBar"
  }, HTML.Raw('\n    <div class="column"> <a class="skip-main item" href="#bodyDropdown">SKIP TO CONTENT</a>\n    </div>\n    '), Blaze.If(function() {
    return Spacebars.call(view.lookup("isSlide"));
  }, function() {
    return [ "\n    ", HTML.DIV({
      class: "column"
    }, " ", HTML.A({
      id: "home",
      class: function() {
        return [ Blaze.If(function() {
          return Spacebars.call(view.lookup("isMainLandingPage"));
        }, function() {
          return " active ";
        }), " item" ];
      }
    }, "\n      ", HTML.I({
      class: "home icon"
    })), "\n    "), "\n    " ];
  }), HTML.Raw("\n    <!-- for each level 1, show menu item -->\n    "), Blaze.Each(function() {
    return {
      _sequence: Spacebars.call(view.lookup("items")),
      _variable: "item"
    };
  }, function() {
    return [ "\n\n    ", HTML.DIV({
      class: "column"
    }, " ", HTML.A({
      id: function() {
        return Spacebars.mustache(Spacebars.dot(view.lookup("item"), "qText"));
      },
      href: "",
      class: function() {
        return [ Spacebars.mustache(view.lookup("active"), view.lookup("area"), view.lookup("item")), " item" ];
      }
    }, "\n        ", Blaze.View("lookup:item.qText", function() {
      return Spacebars.mustache(Spacebars.dot(view.lookup("item"), "qText"));
    }), "\n      "), "\n    "), "\n\n    " ];
  }), "\n    ", HTML.DIV({
    class: "column"
  }, "\n      ", Blaze.If(function() {
    return Spacebars.call(view.lookup("isSlide"));
  }, function() {
    return [ " \n      \n      ", HTML.A({
      id: "sharePresentation",
      href: "",
      class: "item",
      "data-micromodal-trigger": "modal-1"
    }, " ", HTML.I({
      class: "envelope outline icon"
    })), "\n      " ];
  }), "\n    "), "  \n\n\n  ");
}));

Template.__checkName("sheetSelector");
Template["sheetSelector"] = new Template("Template.sheetSelector", (function() {
  var view = this;
  return HTML.Raw('<a id="sheetSelector" class="item selectSlides">\n    <i class="inverted search link icon"></i> CHANGE PRESENTATION</a>');
}));

Template.__checkName("yourSaasPlatformMenu");
Template["yourSaasPlatformMenu"] = new Template("Template.yourSaasPlatformMenu", (function() {
  var view = this;
  return HTML.Raw('<!-- <div class="ui top fixed menu">\n    <div class="ui container">\n      <div class="ui dropdown item">SAAS PROVISIONING\n        <i class="dropdown icon"></i>\n        <div class="menu">\n          <a class="item" href="{{pathFor \'generation\'}}">Provisioning admin panel</a>\n          <a class="item" href="{{pathFor \'securityRules\'}}">Security and license rules</a>\n          {{#if readyToTestSSO}}\n          <a class="item" href="{{webIntegrationDemo}}/hub" target="_blank">Your SaaS platform with Qlik Sense\n            embedded</a>\n          <a class="item" href="{{senseServerHub}}" target="_blank">Not embedded, Hub using Single Sign On</a>\n          <a class="item" href="{{senseServerQMC}}" target="_blank">Not embedded, QMC using Single Sign On</a>{{/if}}\n          <a class="item" href="{{pathFor \'users\'}}">Customers and users</a>\n          <a class="item" href="{{pathFor \'templateOverview\'}}">Template apps</a>\n          <a class="item" href="{{pathFor \'ApiLogsTable\'}}" target="_blank">API Logs</a>\n        </div>\n      </div>\n    </div>\n  </div> -->');
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"notFound.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/notFound.html                                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.notFound.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.notFound.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/template.notFound.js                                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("notFound");
Template["notFound"] = new Template("Template.notFound", (function() {
  var view = this;
  return HTML.DIV({
    class: "ui container"
  }, "\n        ", HTML.DIV({
    class: "ui success icon message"
  }, "\n            ", HTML.Raw('<i class="ban icon"></i>'), "\n            ", HTML.DIV({
    class: "content"
  }, "\n                ", HTML.Raw('<div class="header">\n                    Qlik Sense prevents unauthorized access\n                </div>'), "\n                ", HTML.Raw('<ul class="list">\n                    <li>Qlik Sense is secured against unauthorized access. Your SaaS platform controls this access.</li>\n                    <li>You probably did not select a user in the dropdown in step 4. (Or you have to wait a little longer before switching again)</li>\n                    <li>Therefore we can\'t "single sign on you" into Qlik Sense. (if you do select a user, the demo plaform will normally request a ticket for you.)</li>\n                    <li>Or, you clicked on a page that does not exist.</li>\n                </ul>'), "\n                ", HTML.Raw("<br>"), "\n                ", HTML.A({
    href: function() {
      return Spacebars.mustache(view.lookup("pathFor"), "generation");
    },
    class: "ui centered button"
  }, "Go back to the demo"), "\n            "), "\n\n        "), "\n    ");
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"UIHelpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/UIHelpers.js                                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  gitHubLinks: function () {
    return gitHubLinks;
  }
});
var Apps, TemplateApps;
module.watch(require("/imports/api/apps"), {
  Apps: function (v) {
    Apps = v;
  },
  TemplateApps: function (v) {
    TemplateApps = v;
  }
}, 0);
var Streams;
module.watch(require("/imports/api/streams"), {
  Streams: function (v) {
    Streams = v;
  }
}, 1);
var Customers;
module.watch(require("/imports/api/customers"), {
  Customers: function (v) {
    Customers = v;
  }
}, 2);
var senseConfig;
module.watch(require("/imports/api/config"), {
  senseConfig: function (v) {
    senseConfig = v;
  }
}, 3);
var gitHubLinks = {
  createStream: 'https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsStream.js#L113',
  copyApp: "https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L477",
  replaceAndReloadApp: "https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L275",
  publishApp: "https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L604",
  requestTicket: "https://github.com/QHose/QRSMeteor/blob/50bf903dc67d8d1b3757b572e8b2dedbb63202da/imports/api/server/QPSFunctions.js#L205",
  createPasport: "https://github.com/QHose/QRSMeteor/blob/50bf903dc67d8d1b3757b572e8b2dedbb63202da/imports/api/server/QPSFunctions.js#L56",
  redirectURLReceived: "https://github.com/QHose/QRSMeteor/blob/master/imports/SSO/client/SSO.js#L100",
  deleteApp: "https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L570",
  logoutUser: "https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QPSFunctions.js#L461",
  saveApp: "https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L300",
  getScript: "https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L275",
  setScript: "https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L288",
  reloadApp: "https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QRSFunctionsApp.js#L292"
};

if (Meteor.isClient) {
  var _freshEnvironment = function () {
    if (!Customers.find().count() && !TemplateApps.find().count()) {
      // Session.set('currentStep', 0);
      return true;
    }
  };

  var _currentStep = function () {
    // console.log('the current step session', Session.get('currentStep'));//
    //step 0: fresh/resetted environment
    if (_freshEnvironment()) {
      return 0;
    } //step 1 insert customers
    else if (Session.get('currentStep') === 1) {
        Router.go('users');
        return 1;
      } //step 2 there are customers, but no template
      else if ( // (Customers.find().count() && !TemplateApps.find().count()) &&
        Session.get('currentStep') === 2) {
          return 2;
        } //step 3
        else if ( // Customers.find().count() && 
          // TemplateApps.find().count() && 
          Session.get('currentStep') === 3 && !Session.equals('loadingIndicator', 'loading')) {
            // console.log('loading indicator is ', Session.get('loadingIndicator') )
            return 3;
          } //step 4
          else if (Session.get('currentStep') === 4 // &&
            // Customers.find().count() &&
            // TemplateApps.find().count()
            ) {
                return 4;
              } else if (Session.equals('loadingIndicator', 'loading')) {
              return;
            } else {
              Session.set('currentStep', 3);
              return 3;
            }
  };

  module.export({
    freshEnvironment: function () {
      return _freshEnvironment;
    },
    currentStep: function () {
      return _currentStep;
    }
  });

  var Cookies = require('js-cookie'); // console.log('Setup generic helper functions, for functions every template needs');


  Template.registerHelper('formatDate', function (date) {
    return moment(date).format('DD-MM-YYYY');
  }); // // Template.registerHelper('formatNumber', function(myNumber) {
  //     var commaFormat = d3.format(",");
  //     // The expression /,/g is a regular expression that matches all commas.
  //     return commaFormat(myNumber)
  //         .replace(/,/g, ".");
  // });

  Template.registerHelper('URL_Youtube_howToDemo', function () {
    return 'https://www.youtube.com/embed/OulQS-1fH-A?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk';
  });
  Template.registerHelper('URL_Youtube_quickIntro', function () {
    return '';
  });
  Template.registerHelper('URL_Youtube_1mflashyIntro', function () {
    return 'https://www.youtube.com/embed/W3gDKdv6K8Y';
  });
  Template.registerHelper('URL_Youtube_playlist', function () {
    return 'https://www.youtube.com/playlist?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk';
  });
  Template.registerHelper('URL_Youtube_integrated_flow', function () {
    return "https://www.youtube.com/embed/M49nv6on5Eg?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk";
  });
  Template.registerHelper('URL_Youtube_generic_security_intro', function () {
    return "https://www.youtube.com/embed/sdCVsMzTf64";
  });
  Template.registerHelper('URL_Youtube_webintegration_introduction', function () {
    return "https://www.youtube.com/embed/zuNvZ_UTmow?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk";
  }); //QAP

  Template.registerHelper('URL_Youtube_webintegration_extended', function () {
    return "https://www.youtube.com/embed/yLTqzftDa7s";
  });
  Template.registerHelper('URL_Youtube_architecture_introduction', function () {
    return "https://www.youtube.com/embed/sv5nKDvmRPI?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk";
  });
  Template.registerHelper('URL_Youtube_security_introduction', function () {
    return "https://www.youtube.com/embed/XJ9dOHoMiXE?list=PLqJfqgR62cVAZxS34WGnByjASKrGf0Fpk";
  });
  Template.registerHelper('URL_Youtube_security_deepDive', function () {
    return "https://www.youtube.com/embed/iamo6RLc5Pg";
  });
  Template.registerHelper('URL_Youtube_concept_behind', function () {
    return "https://www.youtube.com/embed/1PjcTFnC4Mo";
  });
  Template.registerHelper('doc_demo_manual', function () {
    return '/docs/How to demo the Qlik Sense SaaS demo platform.pdf';
  });
  Template.registerHelper('doc_sec_function_task_matrix', function () {
    return '/docs/QlikSense Authorizations - Function and Tasks_Demo.xlsx';
  });
  Template.registerHelper('doc_securtityIntegration', function () {
    return 'https://community.qlik.com/docs/DOC-17599';
  });
  Template.registerHelper('doc_processIntegration', function () {
    return 'https://community.qlik.com/docs/DOC-17831';
  });
  Template.registerHelper('doc_integrationOverview', function () {
    return 'https://community.qlik.com/docs/DOC-9533';
  });
  Template.registerHelper('doc_sourceCode', function () {
    return '/docs/Qlik Sense SaaS demo tool documentation of source code.docx';
  });
  Template.registerHelper('doc_demo_setup_instructions', function () {
    return '/docs/Qlik Sense SaaS demo tool setup instructions.docx';
  });
  Template.registerHelper('doc_webIntegration', function () {
    return 'https://community.qlik.com/docs/DOC-17834';
  });
  Template.registerHelper('doc_dataIntegration', function () {
    return 'https://onedrive.live.com/view.aspx?cid=0805405928a75727&id=documents&resid=805405928A75727%211330&app=OneNote&authkey=!ANwk5S8KPC__-dw&&wd=target%28%2F%2FEMBEDDED%20ANALYTICS.one%7Cbf2972be-48a0-46fa-af7a-f6d2f80cf06b%2FData%20integration%20Combine%20sources%20into%20one%20associative%20model%7Ce669a0a2-9a83-470e-aae8-ba63ac500038%2F%29';
  });
  Template.registerHelper('seq_ticketing_flow', function () {
    return "http://knsv.github.io/mermaid/live_editor/#/view/c2VxdWVuY2VEaWFncmFtCkJyb3dzZXItPj5NZXRlb3Igd2ViIGludGVncmF0aW9uIGRlbW86IFVzZXIgbG9ncyBpbiBpbnRvIE1ldGVvciAKQnJvd3Nlci0-PiBQcm94eTogSUZyYW1lIHRyaWVzIHRvIG9wZW4gU2Vuc2UgY29udGVudCB2aWEgbGluayB0aGF0IGNvbnRhaW5zIC9wcm94eS8KUHJveHktPj5NZXRlb3IgU1NPIGNsaWVudDogUmVkaXJlY3QgcmVxdWVzdCB0byB3ZWJwYWdlIG9uIHRoZSBjbGllbnQgKGNsaWVudCBzaWRlIHJvdXRlKS4KCk5vdGUgcmlnaHQgb2YgUHJveHk6IFByb3h5IGFsc28gaW5jbHVkZXMgdGFyZ2V0SWQgPSA8SUQgZm9yIHRoZSBvcmlnaW5hbCBVUkkgdGhhdCB0aGUgdXNlciB0cmllcyB0byBhY2Nlc3M-LCBhbmQgcHJveHlSZXN0VXJpID0gPHRoZSBVUkkgd2hlcmUgdGhlIGF1dGhlbnRpY2F0aW9uIG1vZHVsZSBjYW4gYWNjZXNzIHRoZSBSRVNUIEFQST4KTWV0ZW9yIFNTTyBjbGllbnQtPk1ldGVvciBzZXJ2ZXI6ICBjbGllbnQgY2FsbHMgKHVzZXIgYXdhcmUpIHNlcnZlciBzaWRlIG1ldGhvZApOb3RlIHJpZ2h0IG9mIE1ldGVvciBzZXJ2ZXI6IFNpbmNlIHRoZSB1c2VyIGlzIGFscmVhZHkgbG9nZ2VkIGluIGluIE1ldGVvciwgd2UgY2FuIHJlcXVlc3QgdGhlIHVzZXJJRCBhbmQgZ3JvdXAgbWVtYmVyc2hpcCBmcm9tIHRoZSBNZXRlb3Igc2Vzc2lvbi4gVHJ1c3QgbWVjaGFuaXNtOiBTZXJ2ZXIgaW1wb3J0ZWQgUWxpayBTZW5zZSBjbGllbnQgY2VydGlmaWNhdGUuCk1ldGVvciBzZXJ2ZXItPj5RUFMgQVBJOiBSZXF1ZXN0IHRpY2tldCBhdCBRUFMgQVBJLCBwcm92aWRlIHRoZSB1c2VySWQgYW5kIGdyb3VwcyBpbiBKU09OLgpOb3RlIHJpZ2h0IG9mIE1ldGVvciBzZXJ2ZXI6IE9wdGlvbmFsbHkgaW5jbHVkZSB0aGUgcmVkaXJlY3QgcGFyYW1ldGVyIHRvIGZvcndhcmQgdGhlIHVzZXIgYmFjayB0byB0aGUgcGFnZSBoZSBpbml0aWFsbHkgdHJpZWQgdG8gYWNjZXNzLgpRUFMgQVBJLS0-Pk1ldGVvciBzZXJ2ZXI6IFFQUyBBUEkgcmV0dXJucyBhIHRpY2tldCBudW1iZXIgKGFuZCBwb3NzaWJseSByZWRpcmVjdCBVUkwpIHdoaWNoIHlvdSBoYXZlIHRvIGFwcGVuZCBpbiB0aGUgVVJMIApNZXRlb3Igc2VydmVyLS0-PiBNZXRlb3Igd2ViIGludGVncmF0aW9uIGRlbW86IENyZWF0ZSBhIHJlZGlyZWN0IFVSTCB3aGljaCB0aGUgY2xpZW50IGNvZGUgY2FuIHB1dCBpbiB0aGUgYnJvd3NlciBVUkwgYmFyLiAKTm90ZSByaWdodCBvZiBNZXRlb3Igd2ViIGludGVncmF0aW9uIGRlbW86IENsaWVudCBzaWRlIGNvZGUsIHJlcGxhY2VzIHRoZSB1cmwgaW4gYnJvd3NlciwgYW5kIGZvcndhcmRzIHRoZSB1c2VyIHRvIFFsaWsgU2Vuc2UuIFVzZXIgbm93IHJlY2VpdmVzIGEgUWxpayBTZW5zZSBzZXNzaW9uIGNvb2tpZSAoc2VlIHZpcnR1YWwgcHJveHkgY29uZmlnKSwgYW5kIGFuZCBzdWNoIHNpbmdsZSBzaWduIG9uIGlzIGNvbmZpZ3VyZWQu";
  });
  Template.registerHelper('github_create_stream', function () {
    return gitHubLinks.createStream;
  });
  Template.registerHelper('github_copy_app', function () {
    return gitHubLinks.copyApp;
  });
  Template.registerHelper('github_replace_and_reload_app', function () {
    return gitHubLinks.replaceAndReloadApp;
  });
  Template.registerHelper('github_publish_app', function () {
    return gitHubLinks.publishApp;
  });
  Template.registerHelper('github_logout_user', function () {
    return "https://github.com/QHose/QRSMeteor/blob/master/imports/api/server/QPSFunctions.js#L18";
  });
  Template.registerHelper('senseServerHub', function () {
    return 'https://' + senseConfig.host + ':' + senseConfig.port + '/' + senseConfig.virtualProxyClientUsage + '/hub';
  });
  Template.registerHelper('senseServerDevHub', function () {
    return 'https://' + senseConfig.host + ':' + senseConfig.port + '/' + senseConfig.virtualProxyClientUsage + '/dev-hub';
  });
  Template.registerHelper('senseServerQMC', function () {
    return 'https://' + senseConfig.host + ':' + senseConfig.port + '/' + senseConfig.virtualProxyClientUsage + '/qmc';
  });
  Template.registerHelper('senseServer', function () {
    return 'https://' + senseConfig.host + ':' + senseConfig.port + '/' + senseConfig.virtualProxyClientUsage;
  });
  Template.registerHelper('webIntegrationDemo', function () {
    return 'https://' + Meteor.settings.public.webIntegrationHost + ':' + Meteor.settings.public.webIntegrationDemoPort;
  }); //Integration presentation Iframe selector

  Template.registerHelper('IFrameURLChapterSelection', function () {
    var appId = Cookies.get('slideGeneratorAppId'); //senseConfig.slideGeneratorAppId;

    var IntegrationPresentationSelectionSheet = Meteor.settings.public.slideGenerator.selectionSheet; //'DYTpxv'; selection sheet of the slide generator

    var proxy = Meteor.settings.public.slideGenerator.virtualProxy;
    var url = senseConfig.host + ':' + senseConfig.port + '/' + proxy + '/single/?appid=' + appId + '&sheet=' + IntegrationPresentationSelectionSheet + '&opt=currsel';

    if (Meteor.settings.public.useSSL) {
      return 'https://' + url;
    } else {
      return 'http://' + url;
    }
  }); // Template.registerHelper('authenticatedSlideGenerator', function() {
  //     return Session.get('authenticatedSlideGenerator');
  // });

  Template.registerHelper('shrinkForSlideSorter', function () {
    return Cookies.get('showSlideSorter') === "true" ? "shrink" : ""; //
  });
  Template.registerHelper('groupSelectedSlideGenerator', function () {
    return Session.get('groupForPresentation'); //user selected a presentation type?
  }); //role that defines your role in the whole integration.qlik.com site, based on this we make selections in the slide generator.

  Template.registerHelper('mainUserRole', function () {
    return Cookies.get('currentMainRole');
  });
  Template.registerHelper('isSelected', function () {
    return someValue ? 'selected' : '';
  });
  Template.registerHelper('customers', function () {
    return Customers.find({});
  }); //used for Aldeed autoform

  Template.registerHelper("Customers", Customers);
  Template.registerHelper('noCustomers', function () {
    return !Customers.find({}).count();
  });
  Template.registerHelper('noTemplateApps', function () {
    return !TemplateApps.find({}).count();
  }); //generic helpers to return the collection to the blaze template

  Template.registerHelper('customersCollection', function () {
    return Customers.find({}, {
      sort: {
        checked: -1
      }
    });
  });
  Template.registerHelper('templateAppsCollection', function () {
    return TemplateApps.find();
  });
  Template.registerHelper('appsCollection', function () {
    return Apps.find();
  });
  Template.registerHelper('streamsCollection', function () {
    return Streams.find();
  });
  Template.registerHelper('freshEnvironment', function () {
    return _freshEnvironment();
  });
  Template.registerHelper('loading', function () {
    // console.log('loading indicator in helper is: ', Session.get('loadingIndicator'));
    return Session.get('loadingIndicator');
  });
  ;
  Template.registerHelper('readyToSelectTemplate', function () {
    return _currentStep() === 2;
  });
  Template.registerHelper('templateButNoCustomer', function () {
    return !Customers.find().count() && TemplateApps.find().count();
  });
  Template.registerHelper('readyToGenerate', function () {
    return _currentStep() === 3 && !Session.equals('loadingIndicator', 'loading');
  });
  Template.registerHelper('step3', function () {
    return Session.get('currentStep') === 3;
  });
  Template.registerHelper('step3or4', function () {
    return Session.get('currentStep') === 3 || Session.get('currentStep') === 4 || Session.equals('loadingIndicator', 'loading');
  });
  Template.registerHelper('stepEqualTo', function (stepNr) {
    // console.log('value of currentStep() ', currentStep());
    return _currentStep() === stepNr;
  });
  Template.registerHelper('generationFinished', function () {
    return Session.equals('loadingIndicator', 'loading') || Session.get('generated?');
  });
  Template.registerHelper('readyToTestSSO', function () {
    return _currentStep() === 4;
  });
  Template.registerHelper('and', function (a, b) {
    return a && b;
  });
  Template.registerHelper('or', function (a, b) {
    return a || b;
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"nav.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/nav.js                                                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

module.export({
  selectViaQueryId: function () {
    return selectViaQueryId;
  },
  selectInSense: function () {
    return selectInSense;
  },
  selectMenuItemInSense: function () {
    return selectMenuItemInSense;
  },
  makeSelectionInField: function () {
    return makeSelectionInField;
  },
  makeSearchSelectionInField: function () {
    return makeSearchSelectionInField;
  },
  makeClearSelectionInField: function () {
    return makeClearSelectionInField;
  },
  makeClearAll: function () {
    return makeClearAll;
  },
  makeSelectionInFields: function () {
    return makeSelectionInFields;
  }
});
var Meteor;
module.watch(require("meteor/meteor"), {
  Meteor: function (v) {
    Meteor = v;
  }
}, 0);
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 1);
module.watch(require("/imports/ui/nav.html"));
var getSlideGenApp, getAllSlides, getLevel1;
module.watch(require("/imports/ui/useCases/useCaseSelection"), {
  getSlideGenApp: function (v) {
    getSlideGenApp = v;
  },
  getAllSlides: function (v) {
    getAllSlides = v;
  },
  getLevel1: function (v) {
    getLevel1 = v;
  }
}, 2);
var MenuItems;
module.watch(require("/imports/ui/slideGenerator/slides"), {
  MenuItems: function (v) {
    MenuItems = v;
  }
}, 3);
var Session;
module.watch(require("meteor/session"), {
  Session: function (v) {
    Session = v;
  }
}, 4);
var slideApp;
module.watch(require("/imports/ui/useCases/useCaseSelection"), {
  "*": function (v) {
    slideApp = v;
  }
}, 5);
var initQlikSense;
module.watch(require("/imports/ui/useCases/useCaseSelection"), {
  initQlikSense: function (v) {
    initQlikSense = v;
  }
}, 6);

// import { senseConfig } from "/imports/api/config.js";
var enigma = require("enigma.js");

var Cookies = require("js-cookie");

Template.nav.helpers({
  isSlide: function () {
    var show = Router.current().route.getName() == 'useCaseSelection' ? false : true;
    return show;
  },
  items: function () {
    var items = MenuItems.find({}, {
      sort: {
        qElemNumber: 1
      }
    }); // console.log("🚀 ~ file: nav.js ~ line 23 ~ items ~ items", items.fetch())

    return items;
  },
  active: function (item) {
    var text = item.qText;

    if (text === Session.get("currentSubjectArea")) {
      return 'active';
    }
  }
}); //
// ─── CLICK EVENTS ON MENU ITEMS ─────────────────────────────────────────────────.
//

Template.nav.events({
  "click #home": function () {
    window.location.replace('/');
  },
  "click a": function () {
    function _callee(event, template) {
      var menuItem, id, shareLinkURL;
      return _regenerator.default.async(function () {
        function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                menuItem = event.currentTarget.id;

                if (!(menuItem === "sharePresentation")) {
                  _context.next = 9;
                  break;
                }

                initQlikSense();
                event.preventDefault();
                id = Session.get('currentSelectionId');
                shareLinkURL = window.location.origin + '/?selection=' + id; //update the value of the helper for the share link popup

                Session.set('shareLinkURL', shareLinkURL);
                _context.next = 14;
                break;

              case 9:
                // console.log('only see me for an area selection')
                Session.set("showSubjectAreaIntroduction", false);
                Session.set("currentSubjectArea", menuItem);
                Session.set("currentChapter", null);
                _context.next = 14;
                return _regenerator.default.awrap(selectInSense('Subject area', menuItem));

              case 14:
              case "end":
                return _context.stop();
            }
          }
        }

        return _callee$;
      }(), null, this);
    }

    return _callee;
  }()
});
Template.yourSaasPlatformMenu.onRendered(function () {
  this.$(".ui.dropdown").dropdown();
});

function selectViaQueryId(mongoId) {
  var qSelection;
  return _regenerator.default.async(function () {
    function selectViaQueryId$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return _regenerator.default.awrap(Meteor.callPromise("getSenseSelectionObject", mongoId));

          case 2:
            qSelection = _context2.sent;

            if (!qSelection) {
              _context2.next = 8;
              break;
            }

            _context2.next = 6;
            return _regenerator.default.awrap(makeSelectionInFields(qSelection.selection));

          case 6:
            _context2.next = 9;
            break;

          case 8:
            sAlert.warning("We could not retreive a stored selection for this id...");

          case 9:
          case "end":
            return _context2.stop();
        }
      }
    }

    return selectViaQueryId$;
  }(), null, this);
}

function selectInSense(field, selection) {
  return _regenerator.default.async(function () {
    function selectInSense$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            // console.log('make selection for field' + field + ' for value ' + selection);
            Session.set("slideHeaders", null);
            _context3.next = 3;
            return _regenerator.default.awrap(makeSearchSelectionInField(field, selection));

          case 3:
            _context3.next = 5;
            return _regenerator.default.awrap(getAllSlides(true));

          case 5:
            Router.go("slides");

          case 6:
          case "end":
            return _context3.stop();
        }
      }
    }

    return selectInSense$;
  }(), null, this);
}

function selectMenuItemInSense(slide) {
  return _regenerator.default.async(function () {
    function selectMenuItemInSense$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            // console.log("selectMenuItemInSense - slide", slide);
            Session.set("slideHeaders", null);
            _context4.next = 3;
            return _regenerator.default.awrap(makeSearchSelectionInField("Level 2", slide));

          case 3:
            _context4.next = 5;
            return _regenerator.default.awrap(getAllSlides(true));

          case 5:
            Router.go("slides");

          case 6:
          case "end":
            return _context4.stop();
        }
      }
    }

    return selectMenuItemInSense$;
  }(), null, this);
}

function makeSelectionInField(fieldName, value) {
  var qix, myField, result, message;
  return _regenerator.default.async(function () {
    function makeSelectionInField$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            console.log("makeSelectionInField", fieldName + " : " + value.toString());
            _context5.prev = 1;
            _context5.next = 4;
            return _regenerator.default.awrap(slideApp.getSlideGenApp());

          case 4:
            qix = _context5.sent;
            _context5.next = 7;
            return _regenerator.default.awrap(qix.getField(fieldName));

          case 7:
            myField = _context5.sent;
            _context5.next = 10;
            return _regenerator.default.awrap(myField.selectValues(value));

          case 10:
            result = _context5.sent;
            _context5.next = 18;
            break;

          case 13:
            _context5.prev = 13;
            _context5.t0 = _context5["catch"](1);
            message = "makeSelectionInField: Can not connect to the Qlik Sense Engine API via enigmaJS";
            console.error(message + " Sense reported the following error: ", _context5.t0);
            sAlert.error(message, _context5.t0);

          case 18:
          case "end":
            return _context5.stop();
        }
      }
    }

    return makeSelectionInField$;
  }(), null, this, [[1, 13]]);
}

function makeSearchSelectionInField(fieldName, value) {
  var qix, myField, result, message;
  return _regenerator.default.async(function () {
    function makeSearchSelectionInField$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            _context6.prev = 0;
            _context6.next = 3;
            return _regenerator.default.awrap(slideApp.getSlideGenApp());

          case 3:
            qix = _context6.sent;
            _context6.next = 6;
            return _regenerator.default.awrap(qix.getField(fieldName));

          case 6:
            myField = _context6.sent;
            _context6.next = 9;
            return _regenerator.default.awrap(myField.select(value));

          case 9:
            result = _context6.sent;
            _context6.next = 17;
            break;

          case 12:
            _context6.prev = 12;
            _context6.t0 = _context6["catch"](0);
            message = "make search SelectionInField: Can not connect to the Qlik Sense Engine API via enigmaJS";
            console.error(message + " Sense reported the following error: ", _context6.t0);
            sAlert.error(message, _context6.t0);

          case 17:
          case "end":
            return _context6.stop();
        }
      }
    }

    return makeSearchSelectionInField$;
  }(), null, this, [[0, 12]]);
}

function makeClearSelectionInField(fieldName) {
  var qix, myField, result, message;
  return _regenerator.default.async(function () {
    function makeClearSelectionInField$(_context7) {
      while (1) {
        switch (_context7.prev = _context7.next) {
          case 0:
            _context7.prev = 0;
            _context7.next = 3;
            return _regenerator.default.awrap(slideApp.getSlideGenApp());

          case 3:
            qix = _context7.sent;
            _context7.next = 6;
            return _regenerator.default.awrap(qix.getField(fieldName));

          case 6:
            myField = _context7.sent;
            _context7.next = 9;
            return _regenerator.default.awrap(myField.clear());

          case 9:
            result = _context7.sent;
            _context7.next = 17;
            break;

          case 12:
            _context7.prev = 12;
            _context7.t0 = _context7["catch"](0);
            message = "make clear SelectionInField: Can not connect to the Qlik Sense Engine API via enigmaJS";
            console.error(message + " Sense reported the following error: ", _context7.t0);
            sAlert.error(message, _context7.t0);

          case 17:
          case "end":
            return _context7.stop();
        }
      }
    }

    return makeClearSelectionInField$;
  }(), null, this, [[0, 12]]);
}

function makeClearAll() {
  var qix, message;
  return _regenerator.default.async(function () {
    function makeClearAll$(_context8) {
      while (1) {
        switch (_context8.prev = _context8.next) {
          case 0:
            _context8.prev = 0;
            _context8.next = 3;
            return _regenerator.default.awrap(slideApp.getSlideGenApp());

          case 3:
            qix = _context8.sent;
            _context8.next = 6;
            return _regenerator.default.awrap(qix.clearAll());

          case 6:
            _context8.next = 13;
            break;

          case 8:
            _context8.prev = 8;
            _context8.t0 = _context8["catch"](0);
            message = "clear all selections: Can not connect to the Qlik Sense Engine API via enigmaJS";
            console.error(message + " Sense reported the following error: ", _context8.t0);
            sAlert.error(message, _context8.t0);

          case 13:
          case "end":
            return _context8.stop();
        }
      }
    }

    return makeClearAll$;
  }(), null, this, [[0, 8]]);
}

function makeSelectionInFields(selections) {
  return _regenerator.default.async(function () {
    function makeSelectionInFields$(_context9) {
      while (1) {
        switch (_context9.prev = _context9.next) {
          case 0:
            // console.log("makeSelectionInFields(selections)", selections);
            //for each qField
            selections.forEach(function (selectionField) {
              // console.log("selectionField", selectionField);
              //for each selected value (qSelectedFieldSelectionInfo) (e.g. country can have germany and france selected)
              var selectValues = [];
              selectionField.qSelectedFieldSelectionInfo.forEach(function (fieldValue) {
                // console.log("fieldValue", fieldValue);
                selectValues.push({
                  qText: fieldValue.qName,
                  qIsNumeric: false,
                  qNumber: 0
                }); // console.log("selectValues", selectValues);
              });
              makeSelectionInField(selectionField.qField, selectValues);
            });

          case 1:
          case "end":
            return _context9.stop();
        }
      }
    }

    return makeSelectionInFields$;
  }(), null, this);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"router.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/ui/router.js                                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var initQlikSense, getAllSlides;
module.watch(require("/imports/ui/useCases/useCaseSelection.js"), {
  initQlikSense: function (v) {
    initQlikSense = v;
  },
  getAllSlides: function (v) {
    getAllSlides = v;
  }
}, 0);
var nav;
module.watch(require("/imports/ui/nav.js"), {
  "*": function (v) {
    nav = v;
  }
}, 1);

var Cookies = require('js-cookie');

//Layout Configuration. http://stackoverflow.com/questions/28864942/meteor-use-2-different-layouts-ironrouter
Router.configure({
  layoutTemplate: 'containerlayout',
  notFoundTemplate: 'notFound'
});
Router.route('/slides', {
  template: 'slides',
  layoutTemplate: 'emptyLayout'
});
Router.route('/', function () {
  function _callee() {
    var selection;
    return _regenerator.default.async(function () {
      function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              selection = this.params.query.selection;

              if (!selection) {
                _context.next = 11;
                break;
              }

              _context.next = 4;
              return _regenerator.default.awrap(initQlikSense());

            case 4:
              _context.next = 6;
              return _regenerator.default.awrap(nav.selectViaQueryId(selection));

            case 6:
              _context.next = 8;
              return _regenerator.default.awrap(getAllSlides(false));

            case 8:
              // after we got all data in an array from sense, change the router/browser to the slides page
              Router.go("slides");
              _context.next = 12;
              break;

            case 11:
              Router.go('useCaseSelection');

            case 12:
            case "end":
              return _context.stop();
          }
        }
      }

      return _callee$;
    }(), null, this);
  }

  return _callee;
}());
Router.route('/useCaseSelection', function () {
  function _callee2() {
    var selection;
    return _regenerator.default.async(function () {
      function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              selection = this.params.query.selection;

              if (!selection) {
                _context2.next = 11;
                break;
              }

              _context2.next = 4;
              return _regenerator.default.awrap(initQlikSense());

            case 4:
              _context2.next = 6;
              return _regenerator.default.awrap(nav.selectViaQueryId(selection));

            case 6:
              _context2.next = 8;
              return _regenerator.default.awrap(getAllSlides(false));

            case 8:
              // after we got all data in an array from sense, change the router/browser to the slides page
              Router.go("slides");
              _context2.next = 13;
              break;

            case 11:
              this.layout('containerlayout');
              this.render('useCaseSelection');

            case 13:
            case "end":
              return _context2.stop();
          }
        }
      }

      return _callee2$;
    }(), null, this);
  }

  return _callee2;
}()); //GENERATION

Router.route('/generation');
Router.route('/generation_embedded', {
  template: 'generation',
  layoutTemplate: 'emptyContainerLayout'
});
Router.route('/users', {
  template: 'users',
  layoutTemplate: 'emptyContainerLayout'
}); //SELF SERVICE

Router.route('/selfService', function () {
  this.layout('SSBILayout');
  this.render('nav', {
    to: 'nav'
  });
  this.render('SSBIUsers', {
    to: 'aside'
  }); // this.render('SSBIFooter', { to: 'footer' });

  this.render('SSBISenseApp');
});
Router.route('/selfService_embedded', function () {
  this.layout('SSBILayout');
  this.render('SSBIUsers', {
    to: 'aside'
  });
  this.render('SSBISenseApp');
}); //API

Router.route('/APILogs');
Router.route('/API_embedded', {
  template: 'APILogs',
  layoutTemplate: 'SSOLayout'
});
Router.route('/ApiLogsTable');
Router.route('/ApiLogsTable_embedded', {
  template: 'ApiLogsTable',
  layoutTemplate: 'SSOLayout'
}); //SECURITY

Router.route('/introductionSecurity');
Router.route('/security_embedded', {
  template: 'introductionSecurity',
  layoutTemplate: 'SSOLayout'
}); //WEB

Router.route('/webIntegration');
Router.route('/webIntegration_embedded', {
  template: 'webIntegration',
  layoutTemplate: 'SSOLayout'
}); //ARCHITECTURE

Router.route('/architecture');
Router.route('/architecture_embedded', {
  template: 'architecture',
  layoutTemplate: 'SSOLayout'
}); //generic overview

Router.route('/generic_links_embedded', {
  template: 'genericDocumentation',
  layoutTemplate: 'SSOLayout'
});
Router.route('/sequenceDiagramOverview');
Router.route('/sequenceDiagramGeneration');
Router.route('/legal');
Router.route('/notFound');
Router.route('/userOverview');
Router.route('/homeAbout');
Router.route('/introduction');
Router.route('/SecurityDeepDive'); //VIDEO OVERVIEW

Router.route('/videoOverview', {
  template: 'videoOverview',
  layoutTemplate: 'containerlayout'
});
Router.route('/videoOverview_embedded', {
  template: 'videoOverview',
  layoutTemplate: 'SSOLayout'
});
Router.route('/documentation', {
  template: 'documentation',
  layoutTemplate: 'containerlayout'
});
Router.route('/templateOverview', {
  template: 'templateOverview',
  layoutTemplate: 'SSOLayout'
});
Router.route('/securityRules', {
  template: 'securityRules',
  layoutTemplate: 'SSOLayout'
});
Router.route('/QMC', {
  template: 'QMC',
  layoutTemplate: 'SSOLayout'
}); // Single sing on integration route, this is the route you configure in Qlik sense proxy

Router.route('/SSO', {
  template: 'SSO',
  layoutTemplate: 'SSOLayout'
}); //users for the slide generator have their own virtual proxy redirect path

Router.route('/presentationsso', {
  template: 'SSO',
  layoutTemplate: 'SSOLayout'
}); //SLIDE GENERATOR LANDING PAGES

Router.route('/presentation', {
  template: 'landingPage',
  layoutTemplate: 'presentationLayout'
});
Router.route('/integration', {
  template: 'landingPage',
  layoutTemplate: 'presentationLayout'
}); // //START THE SLIDE SHOW
// Router.route('/slideGenerator', {
//     template: 'slidegeneratorSlidesMain',
//     layoutTemplate: 'presentationLayout'
// });
//redirect users from saasdemo.qlik.com to integration.qlik.com

if (window.location.href.indexOf("saasdemo") > -1) {
  // var newURL = 'http://'+window.location.protocol + "//" + window.location.host + "/" + window.location.pathname;
  window.location = "http://integration.qlik.com" + window.location.pathname;
} //disabled to ensure we only use anonymous users via https://github.com/artwells/meteor-accounts-guest/
// // Load a authentication check handler, depending on which domain it runs.
// if (window.location.href.indexOf("qlik.com") > -1) {
//     Router.onBeforeAction(mustBeSignedInQlik, { except: [undefined, 'documentation'] });
//     // Router.onBeforeAction(mustBeSignedInQlik, { only: ['test'] });
//     // Router.onBeforeAction(mustBeSignedIn, { except: [undefined, 'documentation'] });
//     //     //make sure certain path are for authenticated users only if the demo runs outside of Qlik.com
//     // Router.plugin('ensureSignedIn', {
//     //     // only: ['generation', 'users', 'SSO', 'useCaseSelection', 'integration', 'selfService', 'slides', 'presentation']
//     //     except: [undefined, 'test', 'useCaseSelection', 'documentation', 'atSignIn', 'atSignUp', 'atForgotPassword']
//     // });
// } else { //localhost dev environment
//     Router.onBeforeAction(mustBeSignedInDEV, { except: [undefined, 'documentation'] });
// }


function mustBeSignedInDEV() {
  var user = {
    // email: "mbj2@test.com",
    email: "mbj2@qlik.com",
    "profile": {
      "name": {
        "first": "Martijn",
        "last": "Biesbroek"
      }
    },
    roles: ["Base"],
    // Array.from("Base,Employee,CPEFEmployee"),
    password: "test"
  };
  addRolesBasedonEmail(user); // "Logout"-Hook: Manual implementation, wait a bit to prevent multiple page loads, because the database needs to be update

  Tracker.autorun(function () {
    console.log('------------------------------------');
    console.log('tracker: login status changed...', Meteor.userId());
    console.log('------------------------------------');

    if (!Meteor.userId()) {
      Meteor.setTimeout(loginDEV.bind(null, user), 3000);
    }
  });
  this.next();
}

;

function loginDEV(user) {
  if (!Meteor.userId()) {
    //if not yet logged in into Meteor, create a new meteor account, or log him via a token.
    console.log('user is not yet logged in into meteor', user);
    Meteor.call('resetPasswordOrCreateUser', user, function (err, res) {
      if (err) {
        sAlert.error(err.message);
        console.error(err);
      } else {
        console.log('------------------------------------');
        console.log('password reset..');
        console.log('------------------------------------');
        Meteor.loginWithPassword(user.email, user.password, function (err, res) {
          //
          if (err) {
            sAlert.error(err.message);
            console.error(err);
          } else {
            sAlert.success('You are now logged in with your Qlik.com account. You now have your "private demo environment". So feel free to create/change/delete anything you would like...');
            console.log('user successfully logged in', Meteor.userId());
          }
        });
      }
    });
  }
}

function mustBeSignedInQlik() {
  // "Logout"-Hook: Manual implementation, wait a bit to prevent multiple page loads, because the database needs to be update
  Logger.autorun(function () {
    if (!Meteor.userId()) {
      Meteor.setTimeout(loginQlik, 0); //give the browser some time to log the user in...
    }
  });
  this.next();
}

; //THE CODE BELOW IS JUST TO SIMULATE A SSO IF YOU ALREADY LOGGED IN INTO QLIK.COM. THIS CODE IS UNSECURE AND CAN'T BE USED FOR REAL PRODUCTION ENVIRONMENTS.... WE SET THE GROUPS ON THE CLIENT SIDE ETC. THIS IS UNSECURE. BUT FINE FOR THIS DEMO TOOL.

function loginQlik() {
  //rerun this function anytime something happens with the login state
  var routeName = Router.current().route.getName();
  console.log('mustBeSignedIn via Qlik.com for route: ', routeName);
  var QlikUserProfile = Cookies.get('CSUser'); //only availalbe on Qlik.com domains

  var loggedInUser = Meteor.userId();
  console.log('QlikUserProfile: ', QlikUserProfile);

  if (!QlikUserProfile) {
    //if user is not logged in, redirect to Qliks login page, after it we can read the cookie.
    var uri = Meteor.absoluteUrl() + routeName;
    console.log('The user tried to open: ' + uri);
    var encodedReturnURI = encodeURIComponent(uri);
    var QlikSSO = "https://login.qlik.com/login.aspx?returnURL=" + encodedReturnURI;
    console.log('User has no Qlik.com cookie, so send him to: ', QlikSSO);
    window.location.replace(QlikSSO);
  } else if (!loggedInUser) {
    //if not yet logged in into Meteor, create a new meteor account, or log him via a token.
    console.log('user is not yet logged in into meteor'); // QlikUserProfile:  username=bieshosetest&firstName=test&lastName=test&emailAddress=bieshose@gmail.com&contactID=&accountID=&ulcLevels=Base&country=Angola&hash=xS9zTEOE7vSgTVXycUr99UFLc78=

    var _QlikUserProfile$spli = QlikUserProfile.split('&'),
        _QlikUserProfile$spli2 = (0, _slicedToArray2.default)(_QlikUserProfile$spli, 9),
        username = _QlikUserProfile$spli2[0],
        firstName = _QlikUserProfile$spli2[1],
        lastName = _QlikUserProfile$spli2[2],
        emailAddress = _QlikUserProfile$spli2[3],
        contactID = _QlikUserProfile$spli2[4],
        accountID = _QlikUserProfile$spli2[5],
        ulcLevels = _QlikUserProfile$spli2[6],
        country = _QlikUserProfile$spli2[7],
        hash = _QlikUserProfile$spli2[8];

    var user = {
      email: emailAddress.substr(emailAddress.indexOf("=") + 1),
      profile: {
        name: {
          first: firstName.substr(firstName.indexOf("=") + 1),
          last: lastName.substr(lastName.indexOf("=") + 1),
          contactID: contactID ? contactID.substr(contactID.indexOf("=") + 1) : '',
          accountID: accountID ? accountID.substr(accountID.indexOf("=") + 1) : ''
        }
      },
      roles: '',
      //JSON.parse("[" + ulcLevels.substr(ulcLevels.indexOf("=") + 1) + "]"),
      password: emailAddress.substr(emailAddress.indexOf("=") + 1) //no need for a real password mechanism. People just need a login to have their own demo space

    };
    addRolesBasedonEmail(user);
    console.log('the user has got a QLIK PROFILE', user, 'Now try to create the user in our local MONGODB or just log him in with a server only stored password'); //unsafe code, only sufficient for our simple demo site

    Meteor.call('resetPasswordOrCreateUser', user, function (err, res) {
      if (err) {
        console.error(err);
      } else {
        Meteor.loginWithPassword(user.email, user.password, function (err, res) {
          //
          if (err) {
            sAlert.error('Error logging you in...', err.message);
            console.error(err);
          } else {
            sAlert.success('You are now logged in with your Qlik.com account. You now have your "private demo environment". So feel free to create/change/delete anything you would like...');
            console.log('user successfully logged in', Meteor.userId());
          }
        });
      }
    });
  }
}

function addRolesBasedonEmail(user) {
  var email = user.email;
  var name = email.substring(0, email.lastIndexOf("@"));
  var domain = email.substring(email.lastIndexOf("@") + 1);

  if (domain === "qlik.com" || domain === "qliktech.com") {
    user.roles = ['qlik']; //unsecure off course, this is only for user friendliness reasons to prevent dead links to confluence content.
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"SSO":{"client":{"SSO.html":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/SSO/client/SSO.html                                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.watch(require("./template.SSO.js"), {
  "*": module.makeNsSetter(true)
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template.SSO.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/SSO/client/template.SSO.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //

Template.__checkName("SSO");
Template["SSO"] = new Template("Template.SSO", (function() {
  var view = this;
  return [ Blaze.If(function() {
    return Spacebars.call(view.lookup("ssoLoading"));
  }, function() {
    return [ "\n        ", HTML.DIV({
      class: "ui inverted dimmer"
    }, "\n            ", HTML.DIV({
      class: "content"
    }, "\n                ", HTML.DIV({
      class: "center"
    }, "\n                    ", HTML.DIV({
      class: "ui indeterminate text loader"
    }, "Requesting a ticket with his userID and groups for the selected user..."), "\n                "), "\n            "), "\n        "), "\n    " ];
  }, function() {
    return [ "\n        ", Spacebars.include(view.lookupTemplate("sAlert")), "\n    " ];
  }), HTML.Raw('\n    <!-- <div class="ui container">\n        <h3>Single sign on (ticket request) redirect demo page</h3>\n        <p>To slow things down for demo purposes we have put a "page in the middle".\n            <ul>\n                <li>between the user trying to access Qlik Sense</li>\n                <li>and the demo site (your SaaS platform), in which the user is already logged in. So this is a perfect place to get the users id and groups (or any array of fields you would like to use to authorize on) and communicate these values to the Qlik Sense Proxy via the ticketing process.</li>\n                <li>This allows Qlik Sense to re-use these groups in the resource and "row/column level" authorizations.</li>\n            </ul>\n            <div class="ui accordion">\n                <div class="title">\n                    <a href="" class="ui dropdown icon"></a>Read more...\n                </div>\n                <div class="content">\n                    <h4>Introduction</h4>\n                    <p> In production scenarios you won\'t see this page and it would be an automatic redirect from your SaaS platform to Qlik Sense. But then everything would go too fast to see what is happening umder the hood. To slow things down we have put this page in the middle. This and the <a target="_blank" href="{{pathFor \'APILogs\'}}">API Calls</a> page allow us to explain you the security for the demo platform. Each time you switch a user you will see this page. Because each time you swith a user, we will log out "all" users using the QPS API, and we will request a new ticket for the selected user. </p>\n                    <h4>New ticket for each selected user</h4>\n                    <p>On this page you will see a large green button. If you click it, Meteor (or your SaaS platform) will get the current selected (logged in) user and its group membership out of MongoDB. Then it will request a ticket for this user and groups (server side). After receiving the ticket, we try to redirect the user back to Qlik Sense for the URL he initially tried to access (targetURL) with the ticket appended in the URL.</p>\n                    <h4>Technical background</h4>\n                    <p>What basically happens it that we are "constantly changing the url of the browser".\n                        <ul>\n                            <li> First the user tries to open a page with Qlik Sense embedded. So the browser hits the Qlik Sense Proxy because an IFrame or DIV points to a URL which includes the proxy path.</li>\n                            <li> We configured the proxy so that only authenticated users are allowed to pass. This basically means that the user needs to have a valid "virtual proxy specific" session cookie.</li>\n                            <li> Qlik Sense Proxy redirects the users\' browser to the page you are currently watching (the "authentication redirect" setting of the virtual proxy). We have to store somewhere what the URL of the proxy QPS API is, and which page the user tried to access, therefore the Proxy included the parameters below which we can use to redirect the user (change the url of the browser) after we received the ticket. For more information also see the <a href="https://help.qlik.com/en-US/sense-developer/3.0/Subsystems/ProxyServiceAPI/Content/ProxyServiceAPI/ProxyServiceAPI-ProxyServiceAPI-Authentication.htm">help.</a></li>\n                            <ul>\n                                {{#with receivedParamsQlikSense}}\n                                <li>proxyRestUri: {{proxyRestUri}}</li>\n                                <li>targetId: {{targetId}} (if you supply this in your ticket request, you will get the orginal URL the user tried to open back)</li>\n                                {{/with}}\n                            </ul>\n                        </ul>\n                    </p>\n                    <h3>Sequence diagram of the ticketing process flow</h3>\n                    <iframe src="{{seq_ticketing_flow}}" width="100%" height="700"></iframe>\n                </div>\n            </div>\n        </p>\n        <div class="ui mini buttons">\n            <a href="{{pathFor \'introductionSecurity\'}}" class="ui button" target="_blank">Read more about Security</a>\n            <div class="or"></div>\n            <button class="ui positive button">Request a ticket for the logged in user</button>\n        </div>\n    </div> -->') ];
}));

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"SSO.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/SSO/client/SSO.js                                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var Meteor;
module.watch(require("meteor/meteor"), {
  Meteor: function (v) {
    Meteor = v;
  }
}, 0);
var Apps, TemplateApps;
module.watch(require("/imports/api/apps.js"), {
  Apps: function (v) {
    Apps = v;
  },
  TemplateApps: function (v) {
    TemplateApps = v;
  }
}, 1);
var REST_Log;
module.watch(require("/imports/api/APILogs"), {
  REST_Log: function (v) {
    REST_Log = v;
  }
}, 2);
var http;
module.watch(require("meteor/meteor"), {
  http: function (v) {
    http = v;
  }
}, 3);
var Session;
module.watch(require("meteor/session"), {
  Session: function (v) {
    Session = v;
  }
}, 4);
var senseConfig;
module.watch(require("/imports/api/config.js"), {
  senseConfig: function (v) {
    senseConfig = v;
  }
}, 5);
var HTTP;
module.watch(require("meteor/http"), {
  HTTP: function (v) {
    HTTP = v;
  }
}, 6);
var gitHubLinks;
module.watch(require("/imports/ui/UIHelpers"), {
  gitHubLinks: function (v) {
    gitHubLinks = v;
  }
}, 7);

var Cookies = require('js-cookie');

//if the user is redirected from the virtual proxy to
// * /sso login a demo user
// * /ssopresentation
//<script src=https://<sense-server>/<virtual-proxy-if-any>/resources/translate/en-US/common.js></script>
//try to execute this script to make sure a session cookie is set. DIV tag integration together with ticketing directly does not work.
// import {*} from 'http://' + senseConfig.host + ':' + senseConfig.port + '/' + senseConfig.virtualProxyClientUsage + '/resources/translate/en-US/common.js';
Template.SSO.onCreated(function () {
  var senseParams = Router.current().params.query;
  Session.set('senseParams', senseParams);
  Session.set('SSOLoading', true);
  redirectUser();
});
Template.SSO.onRendered(function () {
  Template.instance().$('.ui.accordion').accordion();
  Template.instance().$('.dimmer').dimmer('show');
});
Template.SSO.helpers({
  receivedParamsQlikSense: function () {
    return Session.get('senseParams');
  },
  ssoLoading: function () {
    return Session.get('SSOLoading');
  }
});
Template.SSO.events({
  'click button': function (event, template) {
    $(event.currentTarget).html('Redirecting ...');
    redirectUser();
  }
});

function redirectUser() {
  // console.log('SSO template, button clicked, now request a ticket server side');
  //logging only
  check(Meteor.userId(), String); //check if the user is logged in in meteor before requesting tickets on his behalf. we use the meteor userID as UDC.

  var message = "Qlik Sense proxy redirected the users browser to the /sso page client side. Here we can check which user is currently logged in, and call the server using this UserID (Meteor knows the userID if a client makes a server method call)"; // console.log(message);

  var call = {};
  call.action = 'STEP 1: Proxy redirected the browser your SaaS platforms authentication page';
  call.url = '/images/QPS - authentication redirect flow in browser for dummies.png';
  call.request = message;
  REST_Log(call, Meteor.userId());
  call.action = 'STEP 2: Read parameters which Qlik Sense proxy provided';
  call.request = 'One parameter is the REST endpoint URL to request a ticket.';
  call.response = Router.current().params.query;
  REST_Log(call, Meteor.userId());
  var senseParams = Session.get('senseParams'); // console.log('call the server with options reveived from Qlik Sense QPS response: ', senseParams);

  var currentPage = Router.current().route.getName(); // console.log('router current route ',Router.current().route.getName());

  if (currentPage === 'presentationsso') {
    // V2 of QRSmeteor requests a ticket up front, so we prevent extra delays for a redirect.
    console.log('PRESENTATION TICKET REQUEST: request a ticket for the user logged in into integration.qlik.com (meteorJS). This should not happen anymore since we request a ticket up front...', senseParams); // redirectPresentationUser(senseParams);
    //   sAlert.error('you should not be redirected to the SSO page since we requested a ticket before we showed the content like an IFrame...');
  } else {
    //login a dummy user of step 4 or for the ssbi demo
    redirectDummyUser(senseParams);
  }
}

; //step 4 of the demo logs in a dummy user, not the user that has e.g. logged in with facebook
//if no customers and users are created in step 1, we will create a dummy user called john.

function redirectDummyUser(senseParams) {
  console.log('SSO page, redirect dummy user step 4 meteor proxy, Meteor.userId()', Meteor.userId());
  console.log('------------------------------------');
  var hardcodedProxyUrl = 'https://' + Meteor.settings.public.qlikSenseHost + ':4243/qps/meteor/';
  console.log('We try to request a ticket at this URL, make sure this is the correct hostname, externally accessible...', hardcodedProxyUrl);
  console.log('------------------------------------');
  Meteor.call('getRedirectUrl', hardcodedProxyUrl, senseParams.targetId, Meteor.userId(), function (error, redirectUrl) {
    Session.set('SSOLoading', false);

    if (error) {
      sAlert.error(error);
      console.error('Meteor SSO page, could not get a redirectUrl from Qlik Sense', error);
    } else {
      var call = {};
      call.action = 'STEP 6: Redirect URL received';
      call.url = gitHubLinks.redirectURLReceived;
      call.request = 'The browser received a redirectUrl (where should we forward to user to? Now that he received an access ticket for Qlik Sense? This URL was initially stored in the targetId parameter.) from the server, so replace the current url in the browser with this new one: ';
      call.response = redirectUrl;
      REST_Log(call, Meteor.userId());
      window.location.replace(redirectUrl);
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"api":{"APILogs.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/APILogs.js                                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  APILogs: function () {
    return APILogs;
  },
  REST_Log: function () {
    return REST_Log;
  }
});
var Mongo;
module.watch(require("meteor/mongo"), {
  Mongo: function (v) {
    Mongo = v;
  }
}, 0);
var APILogs = new Mongo.Collection('apiLogs');

function REST_Log(call) {
  var userId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'Not defined';
  call.createDate = new Date();
  call.generationUserId = userId;
  APILogs.insert(call);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"apps.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/apps.js                                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  Apps: function () {
    return Apps;
  },
  TemplateApps: function () {
    return TemplateApps;
  },
  GeneratedResources: function () {
    return GeneratedResources;
  }
});
var Mongo;
module.watch(require("meteor/mongo"), {
  Mongo: function (v) {
    Mongo = v;
  }
}, 0);
var Apps = new Mongo.Collection('apps');
var TemplateApps = new Mongo.Collection('templateApps');
var GeneratedResources = new Mongo.Collection('generatedResources');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"config.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/config.js                                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

module.export({
  senseConfig: function () {
    return senseConfig;
  },
  missingParameters: function () {
    return missingParameters;
  }
});
var Mongo;
module.watch(require("meteor/mongo"), {
  Mongo: function (v) {
    Mongo = v;
  }
}, 0);
var Random;
module.watch(require("meteor/random"), {
  Random: function (v) {
    Random = v;
  }
}, 1);

var _;

module.watch(require("meteor/underscore"), {
  "default": function (v) {
    _ = v;
  }
}, 2);

var _QIXSchema = require('enigma.js/schemas/3.2.json'); //This is the config that we need to make available on the client (the webpage)


if (Meteor.isClient) {
  var _senseConfig = {
    "host": Meteor.settings.public.qlikSenseHost,
    "port": Meteor.settings.public.qlikSensePort,
    "useSSL": Meteor.settings.public.useSSL,
    "virtualProxyClientUsage": Meteor.settings.public.virtualProxyClientUsage,
    "virtualProxySlideGenerator": Meteor.settings.public.slideGenerator.virtualProxy,
    "webIntegrationDemoPort": Meteor.settings.public.webIntegrationDemoPort,
    "QIXSchema": _QIXSchema //ssbi and slide generator app id are set automatically on main.js (client side, via a call to the server)
    // config.SSBIAppId = 
    // config.slideGeneratorAppId = 

  };
} //SERVER SIDE


if (Meteor.isServer) {
  //END CODE THAT NEEDS CERTIFICATES
  var generateXrfkey = function () {
    return Random.hexString(16);
  };

  var _validateJSON = function (body) {
    try {
      var data = JSON.parse(body); // if came to here, then valid

      return data;
    } catch (e) {
      // failed to parse
      return null;
    }
  };

  module.export({
    authHeaders: function () {
      return _authHeaders;
    },
    validateJSON: function () {
      return _validateJSON;
    },
    QRSconfig: function () {
      return _QRSconfig;
    }
  });
  var sslRootCas;
  module.watch(require("ssl-root-cas"), {
    "default": function (v) {
      sslRootCas = v;
    }
  }, 3);
  var crypto;
  module.watch(require("crypto"), {
    "default": function (v) {
      crypto = v;
    }
  }, 4);
  var myQRS;
  module.watch(require("/imports/api/server/QRSAPI"), {
    myQRS: function (v) {
      myQRS = v;
    }
  }, 5);
  process.env['NODE_TLS_REJECT_UNAUTHORIZED'] = '0';
  sslRootCas.inject();
  console.log('This tool uses this config as defined in the settings-XYZ.json file in the root folder: ', Meteor.settings);

  var fs = require('fs-extra');

  var path = require('path');

  var os = require('os'); // import fs from 'fs';


  var bluebird = require('bluebird');

  var WebSocket = require('ws');

  if (!Meteor.settings.public.qlikSenseHost) {
    Meteor.settings.public.qlikSenseHost = os.hostname();
  }

  if (!Meteor.settings.public.SenseServerInternalLanIP) {
    Meteor.settings.public.SenseServerInternalLanIP = os.hostname();
  }

  if (!Meteor.settings.public.webIntegrationHost) {
    Meteor.settings.public.webIntegrationHost = os.hostname();
  }

  var _senseConfig = {
    "host": Meteor.settings.public.qlikSenseHost,
    "SenseServerInternalLanIP": Meteor.settings.public.SenseServerInternalLanIP,
    "port": Meteor.settings.public.qlikSensePort,
    "useSSL": Meteor.settings.public.useSSL,
    "xrfkey": generateXrfkey(),
    "virtualProxy": Meteor.settings.private.virtualProxy,
    //used to connect via REST to Sense, we authenticate via a http header. not for production!!!
    "virtualProxyClientUsage": Meteor.settings.public.virtualProxyClientUsage,
    "headerKey": Meteor.settings.private.headerKey,
    "headerValue": process.env.USERDOMAIN + '\\' + process.env.USERNAME,
    //"QLIK-AB0Q2URN5T\\Qlikexternal",
    "isSecure": Meteor.settings.private.isSecure,
    "qrsPort": Meteor.settings.private.qrsPort,
    "enginePort": Meteor.settings.private.enginePort
  };

  if (missingParameters(_senseConfig)) {
    throw new Meteor.Error('Missing parameters in _senseConfig, you did not populate the settings.json file in the project root of MeteorQRS, or with docker: did you mount the volume with the config including the settings.json file? (with the correct name)');
  }

  if (!_senseConfig.host) {
    throw new Meteor.Error('You have not started this meteor project with: meteor --settings settings-development.json ? You missed the reference to this settings file, or it is empty?');
  } //CONFIG FOR HTTP MODULE WITH HEADER AUTH (TO MAKE REST CALLS TO SENSE VIA HTTP CALLS).


  var _authHeaders = {
    'hdr-usr': _senseConfig.headerValue,
    'X-Qlik-xrfkey': _senseConfig.xrfkey //

  };

  if (!Meteor.settings.private.certificatesDirectory) {
    Meteor.settings.private.certificatesDirectory = 'C:\\ProgramData\\Qlik\\Sense\\Repository\\Exported Certificates\\.Local Certificates';
    console.log('Meteor.settings.private.certificatesDirectory was empty, setting it to default: ', Meteor.settings.private.certificatesDirectory);
  }

  try {
    module.export({
      _certs: function () {
        return _certs2;
      },
      configCerticates: function () {
        return configCerticates;
      },
      enigmaServerConfig: function () {
        return _enigmaServerConfig;
      },
      engineConfig: function () {
        return _engineConfig2;
      },
      qlikHDRServer: function () {
        return _qlikHDRServer;
      },
      qrsSrv: function () {
        return _qrsSrv;
      },
      qrs: function () {
        return _qrs;
      }
    });
    var _certs2 = {
      ca: fs.readFileSync(Meteor.settings.private.certificatesDirectory + '/root.pem'),
      key: fs.readFileSync(Meteor.settings.private.certificatesDirectory + '/client_key.pem'),
      cert: fs.readFileSync(Meteor.settings.private.certificatesDirectory + '/client.pem') //if you use windows and this tool runs on the same machine, you can keep the parameters empty
      // and we use the user the node service runs under... .

    };
    var qlikUserDomain = '';
    var qlikUser = '';

    if (!Meteor.settings.broker.qlikSense.connectToSenseAsUserDirectory) {
      qlikUserDomain = process.env.USERDOMAIN;
      qlikUser = process.env.USERNAME;
    } else {
      qlikUserDomain = Meteor.settings.broker.qlikSense.connectToSenseAsUserDirectory;
      qlikUser = Meteor.settings.broker.qlikSense.connectToSenseAsUser;
    }

    var configCerticates = {
      rejectUnauthorized: false,
      hostname: _senseConfig.SenseServerInternalLanIP,
      headers: {
        'x-qlik-xrfkey': _senseConfig.xrfkey,
        'X-Qlik-User': "UserDirectory=" + qlikUserDomain + ";UserId=" + qlikUser,
        //`UserDirectory=INTERNAL;UserId=sa_repository` you need to give this user extra roles before this works
        'Content-Type': 'application/json'
      },
      key: _certs2.key,
      cert: _certs2.cert,
      ca: _certs2.ca
    };
    console.log('configCerticates: we connect to Qlik Sense via certificates using these credentials: ', configCerticates); //used for engimaJS, the engine API javascript wrapper

    var _engineConfig = {
      host: _senseConfig.SenseServerInternalLanIP,
      isSecure: _senseConfig.isSecure,
      port: Meteor.settings.private.enginePort,
      headers: {
        'X-Qlik-User': "UserDirectory=" + qlikUserDomain + ";UserId=" + qlikUser
      },
      ca: _certs2.ca,
      key: _certs2.key,
      cert: _certs2.cert,
      passphrase: Meteor.settings.private.passphrase,
      rejectUnauthorized: false,
      // Don't reject self-signed certs
      appname: null,
      QIXSchema: _QIXSchema
    };
    var _enigmaServerConfig = {
      schema: _engineConfig.QIXSchema,
      // appId: appId,
      session: {
        host: _engineConfig.host,
        port: _engineConfig.port
      },
      Promise: bluebird,
      createSocket: function (url) {
        return new WebSocket(url, {
          ca: _certs2.ca,
          key: _certs2.key,
          cert: _certs2.cert,
          headers: {
            'X-Qlik-User': "UserDirectory=" + qlikUserDomain + ";UserId=" + qlikUser
          }
        });
      }
    };
    var _engineConfig2 = _engineConfig;

    var _qlikHDRServer = 'http://' + _senseConfig.SenseServerInternalLanIP + ':' + _senseConfig.port + '/' + _senseConfig.virtualProxy;

    var _qrsSrv = 'https://' + _senseConfig.SenseServerInternalLanIP + ':' + _senseConfig.qrsPort;

    var _qrs = new myQRS();
  } catch (error) {
    console.warn('Make sure you run the "QRS START.BAT" as administrator? Please note that Qlik Sense is not installed, or certificate directory wrong in the settings.json file.'); // throw new Meteor.Error(500, 'We can not connect to Sense yet: Because we can not find the Sense certificates yet in the ' + Meteor.settings.private.certificatesDirectory + '. This can happen if Sense has not yet been installed....');
  }

  var _QRSconfig = {
    authentication: 'header',
    host: _senseConfig.host,
    port: _senseConfig.port,
    useSSL: false,
    virtualProxy: _senseConfig.virtualProxy,
    //header proxy
    headerKey: _senseConfig.headerKey,
    headerValue: _senseConfig.headerValue //'mydomain\\justme'

  };

  try {
    Meteor.startup(function () {
      function _callee() {
        var file, exampleSettingsFile, keysEqual;
        return _regenerator.default.async(function () {
          function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  console.log('------------------------------------');
                  console.log('Validate settings.json parameters');
                  console.log('------------------------------------');
                  Meteor.absolutePath = path.resolve('.').split(path.sep + '.meteor')[0];
                  console.log('Meteor tries to find the settings-development-example.json file in Meteor.absolutePath:', Meteor.absolutePath);
                  file = path.join(Meteor.absolutePath, 'settings-development-example.json'); // READ THE FILE 

                  _context.prev = 6;
                  _context.next = 9;
                  return _regenerator.default.awrap(fs.readJson(file));

                case 9:
                  exampleSettingsFile = _context.sent;
                  console.log('TCL: exampleSettingsFile', exampleSettingsFile);
                  _context.next = 16;
                  break;

                case 13:
                  _context.prev = 13;
                  _context.t0 = _context["catch"](6);
                  throw new Error('Meteor can not find your example settings file: ' + file);

                case 16:
                  _context.prev = 16;

                  _validateJSON(exampleSettingsFile);

                  _context.next = 24;
                  break;

                case 20:
                  _context.prev = 20;
                  _context.t1 = _context["catch"](16);
                  console.log(_context.t1);
                  throw new Error('Meteor wants to check your settings.json with the parameters in the example settings.json in the project root. Error: Cant read the example settings definitions file (not valid JSON): ' + file, _context.t1);

                case 24:
                  keysEqual = compareKeys(Meteor.settings, exampleSettingsFile);
                  console.log('Settings file has all the keys as specified in the example json file?', keysEqual);

                  if (keysEqual) {
                    _context.next = 28;
                    break;
                  }

                  throw new Error("Settings.json file does not have all keys as defined in the settings-development-example.json (in your project root), Please verify if you have all the keys as specified in the settings-development-example.json in the project root folder. In my dev environment: C:\\Users\\Qlikexternal\\Documents\\GitHub\\QRSMeteor");

                case 28:
                case "end":
                  return _context.stop();
              }
            }
          }

          return _callee$;
        }(), null, this, [[6, 13], [16, 20]]);
      }

      return _callee;
    }());
  } catch (error) {
    throw new Error(error);
  }
} //exit server side config


var senseConfig = _senseConfig;

function missingParameters(obj) {
  for (var key in meteorBabelHelpers.sanitizeForInObject(obj)) {
    if (obj[key] !== null && obj[key] != "") return false;
  }

  return true;
}

function hasSameProps(obj1, obj2) {
  return Object.keys(obj1).every(function (prop) {
    return obj2.hasOwnProperty(prop);
  });
}

function compareKeys() {
  for (var _len = arguments.length, objects = new Array(_len), _key = 0; _key < _len; _key++) {
    objects[_key] = arguments[_key];
  }

  var allKeys = objects.reduce(function (keys, object) {
    return keys.concat(Object.keys(object));
  }, []);
  var union = new Set(allKeys);
  return objects.every(function (object) {
    return union.size === Object.keys(object).length;
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"customers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/customers.js                                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  Customers: function () {
    return Customers;
  },
  dummyCustomer: function () {
    return dummyCustomer;
  },
  dummyCustomers: function () {
    return dummyCustomers;
  }
});
var Mongo;
module.watch(require("meteor/mongo"), {
  Mongo: function (v) {
    Mongo = v;
  }
}, 0);
var Customers = new Mongo.Collection('customers');
Meteor.methods({
  updateUserForCustomer: function (updatedUser) {
    var selection = {
      'generationUserId': Meteor.userId(),
      'users.name': updatedUser.name
    };
    Customers.update(selection, {
      $set: {
        'users.$': updatedUser
      }
    });
  }
});
Customers.attachSchema(new SimpleSchema({
  name: {
    type: String,
    label: "Customer name"
  },
  checked: {
    type: Boolean,
    label: "Selected for the generation?",
    optional: true,
    defaultValue: true
  },
  createdAt: {
    type: Date,
    label: "Date created",
    optional: true
  },
  createdBy: {
    type: Object,
    label: "Date created",
    optional: true
  },
  generationUserId: {
    type: String,
    autoValue: function () {
      return this.userId;
    }
  },
  users: {
    type: [Object],
    optional: true
  },
  "users.$": {
    type: Object
  },
  "users.$.name": {
    type: String
  },
  "users.$.group": {
    type: String,
    allowedValues: ['Consumer', 'Contributor', 'Developer', 'Admin', 'Global auditor']
  },
  "users.$.currentlyLoggedIn": {
    type: Boolean,
    optional: true
  },
  "users.$.country": {
    type: String,
    allowedValues: ['Germany', 'United States', 'Italy']
  }
}));
var dummyCustomer = {
  "name": faker.company.companyName(),
  "checked": true,
  "user": {
    "name": 'John',
    "group": "Consumer",
    "currentlyLoggedIn": false,
    "country": "Germany"
  }
};
var dummyCustomers = [{
  "name": faker.company.companyName(),
  "checked": true,
  "users": [{
    "name": 'John',
    "group": "Consumer",
    "currentlyLoggedIn": false,
    "country": "Germany"
  }, {
    "name": 'Linda',
    "group": "Contributor",
    "currentlyLoggedIn": false,
    "country": "United States"
  }, {
    "name": 'Martin',
    "group": "Developer",
    "currentlyLoggedIn": false,
    "country": "Italy"
  }, {
    "name": 'Paul',
    "group": "Admin",
    "currentlyLoggedIn": false,
    "country": "Italy"
  }]
}, {
  "name": faker.company.companyName(),
  "checked": true,
  "users": [{
    "name": faker.name.findName(),
    "group": "Consumer",
    "currentlyLoggedIn": false,
    "country": "Italy"
  }]
}, {
  "name": faker.company.companyName(),
  "checked": true,
  "users": [{
    "name": faker.name.findName(),
    "group": "Consumer",
    "currentlyLoggedIn": false,
    "country": "Italy"
  }] // {
  //     "name": "QPMG Accountants",
  //     "checked": true,
  //     "users": [{
  //         "name": "Ron",
  //         "group": "Global Auditor",
  //         "currentlyLoggedIn": false,
  //         "country": "Italy"
  //     }]
  // }
  // { "name": "A&R Partners", "checked": true },
  //     { "name": "A2Z Solutions", "checked": true },
  //     { "name": "Aaron D. Meyer & Associates", "checked": true },
  //     { "name": "Aaron Products", "checked": true },
  // { "name": "Active Data", "checked": true },
  // { "name": "Ben and Jerry’s", "checked": true },
  // { "name": "Benedict", "checked": true },
  // { "name": "Bizmarts", "checked": true },
  // { "name": "C & C  Design", "checked": true },
  // { "name": "C & J Engineering", "checked": true },
  // { "name": "CAF Systemhaus", "checked": true },
  // { "name": "CAM Group", "checked": true },
  // { "name": "Caribian Specialties", "checked": true },
  // { "name": "City Fresh Foods", "checked": true },
  // { "name": "Clearout", "checked": true },
  // { "name": "David Spencer Ltd.", "checked": true },
  // { "name": "Dayton Malleable Inc.", "checked": true },
  // { "name": "DCP Research", "checked": true },
  // { "name": "DCS International", "checked": true },
  // { "name": "DCS Laboratory", "checked": true },
  // { "name": "Deak-Perera Group.", "checked": true },
  // { "name": "Earth", "checked": true },
  // { "name": "eDistrict", "checked": true },
  // { "name": "EDP", "checked": true },
  // { "name": "Ethyl Corporation", "checked": true },
  // { "name": "Federal Focus", "checked": true },
  // { "name": "Fill It", "checked": true },
  // { "name": "Filmotype", "checked": true },
  // { "name": "Fins", "checked": true },
  // { "name": "Gate", "checked": true },
  // { "name": "Gulf and Western Industries", "checked": true },
  // { "name": "Harte-Hanks (formerly Locator)", "checked": true },
  // { "name": "Harvard Trust Company", "checked": true },
  // { "name": "HCHS", "checked": true },
  // { "name": "Healtheon", "checked": true },
  // { "name": "Hetrick Systems", "checked": true },
  // { "name": "Home Team", "checked": true },
  // { "name": "Homebound", "checked": true },
  // { "name": "IBVA", "checked": true },
  // { "name": "Icon", "checked": true },
  // { "name": "Icon Site Builders", "checked": true },
  // { "name": "Idyllwild", "checked": true },
  // { "name": "J. S. Lee Associates", "checked": true },
  // { "name": "K International", "checked": true },
  // { "name": "K.C. Irving", "checked": true },
  // { "name": "Kari & Associates", "checked": true },
  // { "name": "Karsing", "checked": true },
  // { "name": "Kazinformcom", "checked": true },
  // { "name": "KentISP", "checked": true },
  // { "name": "Kool-Seal", "checked": true },
  // { "name": "Laker Airways", "checked": true },
  // { "name": "Livermore  Laboratories (LSLI)", "checked": true },
  // { "name": "LiveWire BBS and   Favourite Links", "checked": true },
  // { "name": "MATRIX", "checked": true },
  // { "name": "Miles Laboratories, Inc.", "checked": true },
  // { "name": "NACSCORP", "checked": true },
  // { "name": "Onestar", "checked": true },
  // { "name": "Pace", "checked": true },
  // { "name": "Pacific Group", "checked": true },
  // { "name": "Pacific Matics", "checked": true },
  // { "name": "Pacific Sierra Research", "checked": true },
  // { "name": "Pacific Voice", "checked": true },
  // { "name": "Pacific West Enterprises", "checked": true },
  // { "name": "PacificServ", "checked": true },
  // { "name": "Panngea", "checked": true },
  // { "name": "PAP (Maintenance)", "checked": true },
  // { "name": "Paracel", "checked": true },
  // { "name": "Patient", "checked": true },
  // { "name": "Pinnacle Micro", "checked": true },
  // { "name": "QualServe", "checked": true },
  // { "name": "Quantum 4Xyte  Architects", "checked": true },
  // { "name": "Qwest", "checked": true },
  // { "name": "R&R Group", "checked": true },
  // { "name": "R.J. Matter & Associates", "checked": true },
  // { "name": "Ra Co Amo", "checked": true },
  // { "name": "RC", "checked": true },
  // { "name": "Ready-to-Run", "checked": true },
  // { "name": "Remedy", "checked": true },
  // { "name": "Renegade info Crew", "checked": true },
  // { "name": "Reuters Usability Group", "checked": true },
  // { "name": "ReviewBooth", "checked": true },
  // { "name": "RFI Corporation", "checked": true },
  // { "name": "Road Warrior International", "checked": true },
  // { "name": "Robust Code", "checked": true },
  // { "name": "Sage", "checked": true },
  // { "name": "Sagent", "checked": true },
  // { "name": "Salamander Junction", "checked": true },
  // { "name": "Satronix", "checked": true },
  // { "name": "Satyam", "checked": true },
  // { "name": "Scientific Atlanta", "checked": true },
  // { "name": "ScotGold Products", "checked": true },
  // { "name": "Screen Saver.com", "checked": true },
  // { "name": "Sifton Properties Limited", "checked": true },
  // { "name": "Sigma", "checked": true },
  // { "name": "Signature", "checked": true },
  // { "name": "SignatureFactory", "checked": true },
  // { "name": "Soloman Brothers", "checked": true },
  // { "name": "Southern Company", "checked": true },
  // { "name": "Stone Consolidated Corporation", "checked": true },
  // { "name": "Talou", "checked": true },
  // { "name": "Tampere", "checked": true },
  // { "name": "Tandy Corporation", "checked": true },
  // { "name": "Tangent", "checked": true },
  // { "name": "Tao Group", "checked": true },
  // { "name": "Target Marketing", "checked": true },
  // { "name": "Team ASA", "checked": true },
  // { "name": "Team Financial Management Systems", "checked": true },
  // { "name": "Teca-Print", "checked": true },
  // { "name": "Time Warner", "checked": true },
  // { "name": "Towmotor Corporation", "checked": true },
  // { "name": "Tredegar Company", "checked": true },
  // { "name": "Trend Line Corporation", "checked": true },
  // { "name": "U. S. Exchange", "checked": true },
  // { "name": "Unison Management Concepts", "checked": true },
  // { "name": "United States  (USIT)", "checked": true },
  // { "name": "UUmail", "checked": true },
  // { "name": "ValiCert", "checked": true },
  // { "name": "Valley  Solutions", "checked": true },
  // { "name": "Valpatken", "checked": true },
  // { "name": "Vanstar", "checked": true },
  // { "name": "Venable", "checked": true },
  // { "name": "Venred", "checked": true },
  // { "name": "Watcom International", "checked": true },
  // { "name": "Xentec", "checked": true },
  // { "name": "Xilinx", "checked": true },
  // { "name": "XVT", "checked": true },
  // { "name": "Zero Assumption Recovery", "checked": true },
  // { "name": "Zilog", "checked": true },
  // { "name": "Zitel", "checked": true },

}];
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"logger.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/logger.js                                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  Logger: function () {
    return Logger;
  },
  SenseSelections: function () {
    return SenseSelections;
  }
});
var Mongo;
module.watch(require("meteor/mongo"), {
  Mongo: function (v) {
    Mongo = v;
  }
}, 0);
var Logger = new Mongo.Collection('logger');
var SenseSelections = new Mongo.Collection('senseSelections');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"streams.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/streams.js                                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  Streams: function () {
    return Streams;
  }
});
var Mongo;
module.watch(require("meteor/mongo"), {
  Mongo: function (v) {
    Mongo = v;
  }
}, 0);
var Streams = new Mongo.Collection('streams');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"startup":{"accounts-config.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/accounts-config.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
AccountsTemplates.configure({
  // Behavior
  confirmPassword: false,
  enablePasswordChange: true,
  forbidClientAccountCreation: false,
  overrideLoginErrors: true,
  sendVerificationEmail: false,
  lowercaseUsername: false,
  focusFirstInput: true,
  // Appearance
  showAddRemoveServices: false,
  showForgotPasswordLink: false,
  showLabels: true,
  showPlaceholders: true,
  showResendVerificationEmailLink: false,
  // Client-side Validation
  continuousValidation: false,
  negativeFeedback: false,
  negativeValidation: true,
  positiveValidation: true,
  positiveFeedback: true,
  showValidating: true,
  // // Privacy Policy and Terms of Use
  // privacyUrl: 'privacy',
  // termsUrl: 'terms-of-use',
  // Redirects
  homeRoutePath: '/',
  redirectTimeout: 4000,
  // // Hooks
  // onLogoutHook: myLogoutFunc,
  // onSubmitHook: mySubmitFunc,
  // preSignUpHook: myPreSubmitFunc,
  // postSignUpHook: myPostSubmitFunc,
  // Texts
  texts: {
    button: {
      signUp: "Register now to start using the Qlik Sense SaaS demo"
    },
    socialSignUp: "Register",
    socialIcons: {
      "meteor-developer": "fa fa-rocket"
    },
    title: {
      forgotPwd: "Recover Your Password"
    }
  }
});
AccountsTemplates.configureRoute('signIn');
AccountsTemplates.configureRoute('changePwd'); // AccountsTemplates.configureRoute('enrollAccount');
// AccountsTemplates.configureRoute('forgotPwd');
// AccountsTemplates.configureRoute('resetPwd');

AccountsTemplates.configureRoute('signUp');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"client":{"lib":{"definitions":{"behaviors":{"api.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/behaviors/api.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - API
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.api = $.fn.api = function (parameters) {
    var // use window context if none specified
    $allModules = $.isFunction(this) ? $(window) : $(this),
        moduleSelector = $allModules.selector || '',
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        returnedValue;
    $allModules.each(function () {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.api.settings, parameters) : $.extend({}, $.fn.api.settings),
          // internal aliases
      namespace = settings.namespace,
          metadata = settings.metadata,
          selector = settings.selector,
          error = settings.error,
          className = settings.className,
          // define namespaces for modules
      eventNamespace = '.' + namespace,
          moduleNamespace = 'module-' + namespace,
          // element that creates request
      $module = $(this),
          $form = $module.closest(selector.form),
          // context used for state
      $context = settings.stateContext ? $(settings.stateContext) : $module,
          // request details
      ajaxSettings,
          requestSettings,
          url,
          data,
          requestStartTime,
          // standard module
      element = this,
          context = $context[0],
          instance = $module.data(moduleNamespace),
          module;
      module = {
        initialize: function () {
          if (!methodInvoked) {
            module.bind.events();
          }

          module.instantiate();
        },
        instantiate: function () {
          module.verbose('Storing instance of module', module);
          instance = module;
          $module.data(moduleNamespace, instance);
        },
        destroy: function () {
          module.verbose('Destroying previous module for', element);
          $module.removeData(moduleNamespace).off(eventNamespace);
        },
        bind: {
          events: function () {
            var triggerEvent = module.get.event();

            if (triggerEvent) {
              module.verbose('Attaching API events to element', triggerEvent);
              $module.on(triggerEvent + eventNamespace, module.event.trigger);
            } else if (settings.on == 'now') {
              module.debug('Querying API endpoint immediately');
              module.query();
            }
          }
        },
        decode: {
          json: function (response) {
            if (response !== undefined && typeof response == 'string') {
              try {
                response = JSON.parse(response);
              } catch (e) {// isnt json string
              }
            }

            return response;
          }
        },
        read: {
          cachedResponse: function (url) {
            var response;

            if (window.Storage === undefined) {
              module.error(error.noStorage);
              return;
            }

            response = sessionStorage.getItem(url);
            module.debug('Using cached response', url, response);
            response = module.decode.json(response);
            return false;
          }
        },
        write: {
          cachedResponse: function (url, response) {
            if (response && response === '') {
              module.debug('Response empty, not caching', response);
              return;
            }

            if (window.Storage === undefined) {
              module.error(error.noStorage);
              return;
            }

            if ($.isPlainObject(response)) {
              response = JSON.stringify(response);
            }

            sessionStorage.setItem(url, response);
            module.verbose('Storing cached response for url', url, response);
          }
        },
        query: function () {
          if (module.is.disabled()) {
            module.debug('Element is disabled API request aborted');
            return;
          }

          if (module.is.loading()) {
            if (settings.interruptRequests) {
              module.debug('Interrupting previous request');
              module.abort();
            } else {
              module.debug('Cancelling request, previous request is still pending');
              return;
            }
          } // pass element metadata to url (value, text)


          if (settings.defaultData) {
            $.extend(true, settings.urlData, module.get.defaultData());
          } // Add form content


          if (settings.serializeForm) {
            settings.data = module.add.formData(settings.data);
          } // call beforesend and get any settings changes


          requestSettings = module.get.settings(); // check if before send cancelled request

          if (requestSettings === false) {
            module.cancelled = true;
            module.error(error.beforeSend);
            return;
          } else {
            module.cancelled = false;
          } // get url


          url = module.get.templatedURL();

          if (!url && !module.is.mocked()) {
            module.error(error.missingURL);
            return;
          } // replace variables


          url = module.add.urlData(url); // missing url parameters

          if (!url && !module.is.mocked()) {
            return;
          }

          requestSettings.url = settings.base + url; // look for jQuery ajax parameters in settings

          ajaxSettings = $.extend(true, {}, settings, {
            type: settings.method || settings.type,
            data: data,
            url: settings.base + url,
            beforeSend: settings.beforeXHR,
            success: function () {},
            failure: function () {},
            complete: function () {}
          });
          module.debug('Querying URL', ajaxSettings.url);
          module.verbose('Using AJAX settings', ajaxSettings);

          if (settings.cache === 'local' && module.read.cachedResponse(url)) {
            module.debug('Response returned from local cache');
            module.request = module.create.request();
            module.request.resolveWith(context, [module.read.cachedResponse(url)]);
            return;
          }

          if (!settings.throttle) {
            module.debug('Sending request', data, ajaxSettings.method);
            module.send.request();
          } else {
            if (!settings.throttleFirstRequest && !module.timer) {
              module.debug('Sending request', data, ajaxSettings.method);
              module.send.request();
              module.timer = setTimeout(function () {}, settings.throttle);
            } else {
              module.debug('Throttling request', settings.throttle);
              clearTimeout(module.timer);
              module.timer = setTimeout(function () {
                if (module.timer) {
                  delete module.timer;
                }

                module.debug('Sending throttled request', data, ajaxSettings.method);
                module.send.request();
              }, settings.throttle);
            }
          }
        },
        should: {
          removeError: function () {
            return settings.hideError === true || settings.hideError === 'auto' && !module.is.form();
          }
        },
        is: {
          disabled: function () {
            return $module.filter(selector.disabled).length > 0;
          },
          form: function () {
            return $module.is('form') || $context.is('form');
          },
          mocked: function () {
            return settings.mockResponse || settings.mockResponseAsync || settings.response || settings.responseAsync;
          },
          input: function () {
            return $module.is('input');
          },
          loading: function () {
            return module.request && module.request.state() == 'pending';
          },
          abortedRequest: function (xhr) {
            if (xhr && xhr.readyState !== undefined && xhr.readyState === 0) {
              module.verbose('XHR request determined to be aborted');
              return true;
            } else {
              module.verbose('XHR request was not aborted');
              return false;
            }
          },
          validResponse: function (response) {
            if (settings.dataType !== 'json' && settings.dataType !== 'jsonp' || !$.isFunction(settings.successTest)) {
              module.verbose('Response is not JSON, skipping validation', settings.successTest, response);
              return true;
            }

            module.debug('Checking JSON returned success', settings.successTest, response);

            if (settings.successTest(response)) {
              module.debug('Response passed success test', response);
              return true;
            } else {
              module.debug('Response failed success test', response);
              return false;
            }
          }
        },
        was: {
          cancelled: function () {
            return module.cancelled || false;
          },
          succesful: function () {
            return module.request && module.request.state() == 'resolved';
          },
          failure: function () {
            return module.request && module.request.state() == 'rejected';
          },
          complete: function () {
            return module.request && (module.request.state() == 'resolved' || module.request.state() == 'rejected');
          }
        },
        add: {
          urlData: function (url, urlData) {
            var requiredVariables, optionalVariables;

            if (url) {
              requiredVariables = url.match(settings.regExp.required);
              optionalVariables = url.match(settings.regExp.optional);
              urlData = urlData || settings.urlData;

              if (requiredVariables) {
                module.debug('Looking for required URL variables', requiredVariables);
                $.each(requiredVariables, function (index, templatedString) {
                  var // allow legacy {$var} style
                  variable = templatedString.indexOf('$') !== -1 ? templatedString.substr(2, templatedString.length - 3) : templatedString.substr(1, templatedString.length - 2),
                      value = $.isPlainObject(urlData) && urlData[variable] !== undefined ? urlData[variable] : $module.data(variable) !== undefined ? $module.data(variable) : $context.data(variable) !== undefined ? $context.data(variable) : urlData[variable]; // remove value

                  if (value === undefined) {
                    module.error(error.requiredParameter, variable, url);
                    url = false;
                    return false;
                  } else {
                    module.verbose('Found required variable', variable, value);
                    value = settings.encodeParameters ? module.get.urlEncodedValue(value) : value;
                    url = url.replace(templatedString, value);
                  }
                });
              }

              if (optionalVariables) {
                module.debug('Looking for optional URL variables', requiredVariables);
                $.each(optionalVariables, function (index, templatedString) {
                  var // allow legacy {/$var} style
                  variable = templatedString.indexOf('$') !== -1 ? templatedString.substr(3, templatedString.length - 4) : templatedString.substr(2, templatedString.length - 3),
                      value = $.isPlainObject(urlData) && urlData[variable] !== undefined ? urlData[variable] : $module.data(variable) !== undefined ? $module.data(variable) : $context.data(variable) !== undefined ? $context.data(variable) : urlData[variable]; // optional replacement

                  if (value !== undefined) {
                    module.verbose('Optional variable Found', variable, value);
                    url = url.replace(templatedString, value);
                  } else {
                    module.verbose('Optional variable not found', variable); // remove preceding slash if set

                    if (url.indexOf('/' + templatedString) !== -1) {
                      url = url.replace('/' + templatedString, '');
                    } else {
                      url = url.replace(templatedString, '');
                    }
                  }
                });
              }
            }

            return url;
          },
          formData: function (data) {
            var canSerialize = $.fn.serializeObject !== undefined,
                formData = canSerialize ? $form.serializeObject() : $form.serialize(),
                hasOtherData;
            data = data || settings.data;
            hasOtherData = $.isPlainObject(data);

            if (hasOtherData) {
              if (canSerialize) {
                module.debug('Extending existing data with form data', data, formData);
                data = $.extend(true, {}, data, formData);
              } else {
                module.error(error.missingSerialize);
                module.debug('Cant extend data. Replacing data with form data', data, formData);
                data = formData;
              }
            } else {
              module.debug('Adding form data', formData);
              data = formData;
            }

            return data;
          }
        },
        send: {
          request: function () {
            module.set.loading();
            module.request = module.create.request();

            if (module.is.mocked()) {
              module.mockedXHR = module.create.mockedXHR();
            } else {
              module.xhr = module.create.xhr();
            }

            settings.onRequest.call(context, module.request, module.xhr);
          }
        },
        event: {
          trigger: function (event) {
            module.query();

            if (event.type == 'submit' || event.type == 'click') {
              event.preventDefault();
            }
          },
          xhr: {
            always: function () {// nothing special
            },
            done: function (response, textStatus, xhr) {
              var context = this,
                  elapsedTime = new Date().getTime() - requestStartTime,
                  timeLeft = settings.loadingDuration - elapsedTime,
                  translatedResponse = $.isFunction(settings.onResponse) ? settings.onResponse.call(context, $.extend(true, {}, response)) : false;
              timeLeft = timeLeft > 0 ? timeLeft : 0;

              if (translatedResponse) {
                module.debug('Modified API response in onResponse callback', settings.onResponse, translatedResponse, response);
                response = translatedResponse;
              }

              if (timeLeft > 0) {
                module.debug('Response completed early delaying state change by', timeLeft);
              }

              setTimeout(function () {
                if (module.is.validResponse(response)) {
                  module.request.resolveWith(context, [response, xhr]);
                } else {
                  module.request.rejectWith(context, [xhr, 'invalid']);
                }
              }, timeLeft);
            },
            fail: function (xhr, status, httpMessage) {
              var context = this,
                  elapsedTime = new Date().getTime() - requestStartTime,
                  timeLeft = settings.loadingDuration - elapsedTime;
              timeLeft = timeLeft > 0 ? timeLeft : 0;

              if (timeLeft > 0) {
                module.debug('Response completed early delaying state change by', timeLeft);
              }

              setTimeout(function () {
                if (module.is.abortedRequest(xhr)) {
                  module.request.rejectWith(context, [xhr, 'aborted', httpMessage]);
                } else {
                  module.request.rejectWith(context, [xhr, 'error', status, httpMessage]);
                }
              }, timeLeft);
            }
          },
          request: {
            done: function (response, xhr) {
              module.debug('Successful API Response', response);

              if (settings.cache === 'local' && url) {
                module.write.cachedResponse(url, response);
                module.debug('Saving server response locally', module.cache);
              }

              settings.onSuccess.call(context, response, $module, xhr);
            },
            complete: function (firstParameter, secondParameter) {
              var xhr, response; // have to guess callback parameters based on request success

              if (module.was.succesful()) {
                response = firstParameter;
                xhr = secondParameter;
              } else {
                xhr = firstParameter;
                response = module.get.responseFromXHR(xhr);
              }

              module.remove.loading();
              settings.onComplete.call(context, response, $module, xhr);
            },
            fail: function (xhr, status, httpMessage) {
              var // pull response from xhr if available
              response = module.get.responseFromXHR(xhr),
                  errorMessage = module.get.errorFromRequest(response, status, httpMessage);

              if (status == 'aborted') {
                module.debug('XHR Aborted (Most likely caused by page navigation or CORS Policy)', status, httpMessage);
                settings.onAbort.call(context, status, $module, xhr);
              } else if (status == 'invalid') {
                module.debug('JSON did not pass success test. A server-side error has most likely occurred', response);
              } else if (status == 'error') {
                if (xhr !== undefined) {
                  module.debug('XHR produced a server error', status, httpMessage); // make sure we have an error to display to console

                  if (xhr.status != 200 && httpMessage !== undefined && httpMessage !== '') {
                    module.error(error.statusMessage + httpMessage, ajaxSettings.url);
                  }

                  settings.onError.call(context, errorMessage, $module, xhr);
                }
              }

              if (settings.errorDuration && status !== 'aborted') {
                module.debug('Adding error state');
                module.set.error();

                if (module.should.removeError()) {
                  setTimeout(module.remove.error, settings.errorDuration);
                }
              }

              module.debug('API Request failed', errorMessage, xhr);
              settings.onFailure.call(context, response, $module, xhr);
            }
          }
        },
        create: {
          request: function () {
            // api request promise
            return $.Deferred().always(module.event.request.complete).done(module.event.request.done).fail(module.event.request.fail);
          },
          mockedXHR: function () {
            var // xhr does not simulate these properties of xhr but must return them
            textStatus = false,
                status = false,
                httpMessage = false,
                responder = settings.mockResponse || settings.response,
                asyncResponder = settings.mockResponseAsync || settings.responseAsync,
                asyncCallback,
                response,
                mockedXHR;
            mockedXHR = $.Deferred().always(module.event.xhr.complete).done(module.event.xhr.done).fail(module.event.xhr.fail);

            if (responder) {
              if ($.isFunction(responder)) {
                module.debug('Using specified synchronous callback', responder);
                response = responder.call(context, requestSettings);
              } else {
                module.debug('Using settings specified response', responder);
                response = responder;
              } // simulating response


              mockedXHR.resolveWith(context, [response, textStatus, {
                responseText: response
              }]);
            } else if ($.isFunction(asyncResponder)) {
              asyncCallback = function (response) {
                module.debug('Async callback returned response', response);

                if (response) {
                  mockedXHR.resolveWith(context, [response, textStatus, {
                    responseText: response
                  }]);
                } else {
                  mockedXHR.rejectWith(context, [{
                    responseText: response
                  }, status, httpMessage]);
                }
              };

              module.debug('Using specified async response callback', asyncResponder);
              asyncResponder.call(context, requestSettings, asyncCallback);
            }

            return mockedXHR;
          },
          xhr: function () {
            var xhr; // ajax request promise

            xhr = $.ajax(ajaxSettings).always(module.event.xhr.always).done(module.event.xhr.done).fail(module.event.xhr.fail);
            module.verbose('Created server request', xhr);
            return xhr;
          }
        },
        set: {
          error: function () {
            module.verbose('Adding error state to element', $context);
            $context.addClass(className.error);
          },
          loading: function () {
            module.verbose('Adding loading state to element', $context);
            $context.addClass(className.loading);
            requestStartTime = new Date().getTime();
          }
        },
        remove: {
          error: function () {
            module.verbose('Removing error state from element', $context);
            $context.removeClass(className.error);
          },
          loading: function () {
            module.verbose('Removing loading state from element', $context);
            $context.removeClass(className.loading);
          }
        },
        get: {
          responseFromXHR: function (xhr) {
            return $.isPlainObject(xhr) ? settings.dataType == 'json' || settings.dataType == 'jsonp' ? module.decode.json(xhr.responseText) : xhr.responseText : false;
          },
          errorFromRequest: function (response, status, httpMessage) {
            return $.isPlainObject(response) && response.error !== undefined ? response.error // use json error message
            : settings.error[status] !== undefined ? // use server error message
            settings.error[status] : httpMessage;
          },
          request: function () {
            return module.request || false;
          },
          xhr: function () {
            return module.xhr || false;
          },
          settings: function () {
            var runSettings;
            runSettings = settings.beforeSend.call(context, settings);

            if (runSettings) {
              if (runSettings.success !== undefined) {
                module.debug('Legacy success callback detected', runSettings);
                module.error(error.legacyParameters, runSettings.success);
                runSettings.onSuccess = runSettings.success;
              }

              if (runSettings.failure !== undefined) {
                module.debug('Legacy failure callback detected', runSettings);
                module.error(error.legacyParameters, runSettings.failure);
                runSettings.onFailure = runSettings.failure;
              }

              if (runSettings.complete !== undefined) {
                module.debug('Legacy complete callback detected', runSettings);
                module.error(error.legacyParameters, runSettings.complete);
                runSettings.onComplete = runSettings.complete;
              }
            }

            if (runSettings === undefined) {
              module.error(error.noReturnedValue);
            }

            return runSettings !== undefined ? $.extend(true, {}, runSettings) : $.extend(true, {}, settings);
          },
          urlEncodedValue: function (value) {
            var decodedValue = window.decodeURIComponent(value),
                encodedValue = window.encodeURIComponent(value),
                alreadyEncoded = decodedValue !== value;

            if (alreadyEncoded) {
              module.debug('URL value is already encoded, avoiding double encoding', value);
              return value;
            }

            module.verbose('Encoding value using encodeURIComponent', value, encodedValue);
            return encodedValue;
          },
          defaultData: function () {
            var data = {};

            if (!$.isWindow(element)) {
              if (module.is.input()) {
                data.value = $module.val();
              } else if (!module.is.form()) {} else {
                data.text = $module.text();
              }
            }

            return data;
          },
          event: function () {
            if ($.isWindow(element) || settings.on == 'now') {
              module.debug('API called without element, no events attached');
              return false;
            } else if (settings.on == 'auto') {
              if ($module.is('input')) {
                return element.oninput !== undefined ? 'input' : element.onpropertychange !== undefined ? 'propertychange' : 'keyup';
              } else if ($module.is('form')) {
                return 'submit';
              } else {
                return 'click';
              }
            } else {
              return settings.on;
            }
          },
          templatedURL: function (action) {
            action = action || $module.data(metadata.action) || settings.action || false;
            url = $module.data(metadata.url) || settings.url || false;

            if (url) {
              module.debug('Using specified url', url);
              return url;
            }

            if (action) {
              module.debug('Looking up url for action', action, settings.api);

              if (settings.api[action] === undefined && !module.is.mocked()) {
                module.error(error.missingAction, settings.action, settings.api);
                return;
              }

              url = settings.api[action];
            } else if (module.is.form()) {
              url = $module.attr('action') || $context.attr('action') || false;
              module.debug('No url or action specified, defaulting to form action', url);
            }

            return url;
          }
        },
        abort: function () {
          var xhr = module.get.xhr();

          if (xhr && xhr.state() !== 'resolved') {
            module.debug('Cancelling API request');
            xhr.abort();
          }
        },
        // reset state
        reset: function () {
          module.remove.error();
          module.remove.loading();
        },
        setting: function (name, value) {
          module.debug('Changing setting', name, value);

          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                //'Element'        : element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                module.error(error.method, query);
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.api.settings = {
    name: 'API',
    namespace: 'api',
    debug: false,
    verbose: false,
    performance: true,
    // object containing all templates endpoints
    api: {},
    // whether to cache responses
    cache: true,
    // whether new requests should abort previous requests
    interruptRequests: true,
    // event binding
    on: 'auto',
    // context for applying state classes
    stateContext: false,
    // duration for loading state
    loadingDuration: 0,
    // whether to hide errors after a period of time
    hideError: 'auto',
    // duration for error state
    errorDuration: 2000,
    // whether parameters should be encoded with encodeURIComponent
    encodeParameters: true,
    // API action to use
    action: false,
    // templated URL to use
    url: false,
    // base URL to apply to all endpoints
    base: '',
    // data that will
    urlData: {},
    // whether to add default data to url data
    defaultData: true,
    // whether to serialize closest form
    serializeForm: false,
    // how long to wait before request should occur
    throttle: 0,
    // whether to throttle first request or only repeated
    throttleFirstRequest: true,
    // standard ajax settings
    method: 'get',
    data: {},
    dataType: 'json',
    // mock response
    mockResponse: false,
    mockResponseAsync: false,
    // aliases for mock
    response: false,
    responseAsync: false,
    // callbacks before request
    beforeSend: function (settings) {
      return settings;
    },
    beforeXHR: function (xhr) {},
    onRequest: function (promise, xhr) {},
    // after request
    onResponse: false,
    // function(response) { },
    // response was successful, if JSON passed validation
    onSuccess: function (response, $module) {},
    // request finished without aborting
    onComplete: function (response, $module) {},
    // failed JSON success test
    onFailure: function (response, $module) {},
    // server error
    onError: function (errorMessage, $module) {},
    // request aborted
    onAbort: function (errorMessage, $module) {},
    successTest: false,
    // errors
    error: {
      beforeSend: 'The before send function has aborted the request',
      error: 'There was an error with your request',
      exitConditions: 'API Request Aborted. Exit conditions met',
      JSONParse: 'JSON could not be parsed during error handling',
      legacyParameters: 'You are using legacy API success callback names',
      method: 'The method you called is not defined',
      missingAction: 'API action used but no url was defined',
      missingSerialize: 'jquery-serialize-object is required to add form data to an existing data object',
      missingURL: 'No URL specified for api event',
      noReturnedValue: 'The beforeSend callback must return a settings object, beforeSend ignored.',
      noStorage: 'Caching responses locally requires session storage',
      parseError: 'There was an error parsing your request',
      requiredParameter: 'Missing a required URL parameter: ',
      statusMessage: 'Server gave an error: ',
      timeout: 'Your request timed out'
    },
    regExp: {
      required: /\{\$*[A-z0-9]+\}/g,
      optional: /\{\/\$*[A-z0-9]+\}/g
    },
    className: {
      loading: 'loading',
      error: 'error'
    },
    selector: {
      disabled: '.disabled',
      form: 'form'
    },
    metadata: {
      action: 'action',
      url: 'url'
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"colorize.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/behaviors/colorize.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Colorize
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.colorize = function (parameters) {
    var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.colorize.settings, parameters) : $.extend({}, $.fn.colorize.settings),
        // hoist arguments
    moduleArguments = arguments || false;
    $(this).each(function (instanceIndex) {
      var $module = $(this),
          mainCanvas = $('<canvas />')[0],
          imageCanvas = $('<canvas />')[0],
          overlayCanvas = $('<canvas />')[0],
          backgroundImage = new Image(),
          // defs
      mainContext,
          imageContext,
          overlayContext,
          image,
          imageName,
          width,
          height,
          // shortucts
      colors = settings.colors,
          paths = settings.paths,
          namespace = settings.namespace,
          error = settings.error,
          // boilerplate
      instance = $module.data('module-' + namespace),
          module;
      module = {
        checkPreconditions: function () {
          module.debug('Checking pre-conditions');

          if (!$.isPlainObject(colors) || $.isEmptyObject(colors)) {
            module.error(error.undefinedColors);
            return false;
          }

          return true;
        },
        async: function (callback) {
          if (settings.async) {
            setTimeout(callback, 0);
          } else {
            callback();
          }
        },
        getMetadata: function () {
          module.debug('Grabbing metadata');
          image = $module.data('image') || settings.image || undefined;
          imageName = $module.data('name') || settings.name || instanceIndex;
          width = settings.width || $module.width();
          height = settings.height || $module.height();

          if (width === 0 || height === 0) {
            module.error(error.undefinedSize);
          }
        },
        initialize: function () {
          module.debug('Initializing with colors', colors);

          if (module.checkPreconditions()) {
            module.async(function () {
              module.getMetadata();
              module.canvas.create();
              module.draw.image(function () {
                module.draw.colors();
                module.canvas.merge();
              });
              $module.data('module-' + namespace, module);
            });
          }
        },
        redraw: function () {
          module.debug('Redrawing image');
          module.async(function () {
            module.canvas.clear();
            module.draw.colors();
            module.canvas.merge();
          });
        },
        change: {
          color: function (colorName, color) {
            module.debug('Changing color', colorName);

            if (colors[colorName] === undefined) {
              module.error(error.missingColor);
              return false;
            }

            colors[colorName] = color;
            module.redraw();
          }
        },
        canvas: {
          create: function () {
            module.debug('Creating canvases');
            mainCanvas.width = width;
            mainCanvas.height = height;
            imageCanvas.width = width;
            imageCanvas.height = height;
            overlayCanvas.width = width;
            overlayCanvas.height = height;
            mainContext = mainCanvas.getContext('2d');
            imageContext = imageCanvas.getContext('2d');
            overlayContext = overlayCanvas.getContext('2d');
            $module.append(mainCanvas);
            mainContext = $module.children('canvas')[0].getContext('2d');
          },
          clear: function (context) {
            module.debug('Clearing canvas');
            overlayContext.fillStyle = '#FFFFFF';
            overlayContext.fillRect(0, 0, width, height);
          },
          merge: function () {
            if (!$.isFunction(mainContext.blendOnto)) {
              module.error(error.missingPlugin);
              return;
            }

            mainContext.putImageData(imageContext.getImageData(0, 0, width, height), 0, 0);
            overlayContext.blendOnto(mainContext, 'multiply');
          }
        },
        draw: {
          image: function (callback) {
            module.debug('Drawing image');

            callback = callback || function () {};

            if (image) {
              backgroundImage.src = image;

              backgroundImage.onload = function () {
                imageContext.drawImage(backgroundImage, 0, 0);
                callback();
              };
            } else {
              module.error(error.noImage);
              callback();
            }
          },
          colors: function () {
            module.debug('Drawing color overlays', colors);
            $.each(colors, function (colorName, color) {
              settings.onDraw(overlayContext, imageName, colorName, color);
            });
          }
        },
        debug: function (message, variableName) {
          if (settings.debug) {
            if (variableName !== undefined) {
              console.info(settings.name + ': ' + message, variableName);
            } else {
              console.info(settings.name + ': ' + message);
            }
          }
        },
        error: function (errorMessage) {
          console.warn(settings.name + ': ' + errorMessage);
        },
        invoke: function (methodName, context, methodArguments) {
          var method;
          methodArguments = methodArguments || Array.prototype.slice.call(arguments, 2);

          if (typeof methodName == 'string' && instance !== undefined) {
            methodName = methodName.split('.');
            $.each(methodName, function (index, name) {
              if ($.isPlainObject(instance[name])) {
                instance = instance[name];
                return true;
              } else if ($.isFunction(instance[name])) {
                method = instance[name];
                return true;
              }

              module.error(settings.error.method);
              return false;
            });
          }

          return $.isFunction(method) ? method.apply(context, methodArguments) : false;
        }
      };

      if (instance !== undefined && moduleArguments) {
        // simpler than invoke realizing to invoke itself (and losing scope due prototype.call()
        if (moduleArguments[0] == 'invoke') {
          moduleArguments = Array.prototype.slice.call(moduleArguments, 1);
        }

        return module.invoke(moduleArguments[0], this, Array.prototype.slice.call(moduleArguments, 1));
      } // initializing


      module.initialize();
    });
    return this;
  };

  $.fn.colorize.settings = {
    name: 'Image Colorizer',
    debug: true,
    namespace: 'colorize',
    onDraw: function (overlayContext, imageName, colorName, color) {},
    // whether to block execution while updating canvas
    async: true,
    // object containing names and default values of color regions
    colors: {},
    metadata: {
      image: 'image',
      name: 'name'
    },
    error: {
      noImage: 'No tracing image specified',
      undefinedColors: 'No default colors specified.',
      missingColor: 'Attempted to change color that does not exist',
      missingPlugin: 'Blend onto plug-in must be included',
      undefinedHeight: 'The width or height of image canvas could not be automatically determined. Please specify a height.'
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"form.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/behaviors/form.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Form Validation
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.form = function (parameters) {
    var $allModules = $(this),
        moduleSelector = $allModules.selector || '',
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        legacyParameters = arguments[1],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        returnedValue;
    $allModules.each(function () {
      var $module = $(this),
          element = this,
          formErrors = [],
          keyHeldDown = false,
          // set at run-time
      $field,
          $group,
          $message,
          $prompt,
          $submit,
          $clear,
          $reset,
          settings,
          validation,
          metadata,
          selector,
          className,
          error,
          namespace,
          moduleNamespace,
          eventNamespace,
          instance,
          module;
      module = {
        initialize: function () {
          // settings grabbed at run time
          module.get.settings();

          if (methodInvoked) {
            if (instance === undefined) {
              module.instantiate();
            }

            module.invoke(query);
          } else {
            module.verbose('Initializing form validation', $module, settings);
            module.bindEvents();
            module.set.defaults();
            module.instantiate();
          }
        },
        instantiate: function () {
          module.verbose('Storing instance of module', module);
          instance = module;
          $module.data(moduleNamespace, module);
        },
        destroy: function () {
          module.verbose('Destroying previous module', instance);
          module.removeEvents();
          $module.removeData(moduleNamespace);
        },
        refresh: function () {
          module.verbose('Refreshing selector cache');
          $field = $module.find(selector.field);
          $group = $module.find(selector.group);
          $message = $module.find(selector.message);
          $prompt = $module.find(selector.prompt);
          $submit = $module.find(selector.submit);
          $clear = $module.find(selector.clear);
          $reset = $module.find(selector.reset);
        },
        submit: function () {
          module.verbose('Submitting form', $module);
          $module.submit();
        },
        attachEvents: function (selector, action) {
          action = action || 'submit';
          $(selector).on('click' + eventNamespace, function (event) {
            module[action]();
            event.preventDefault();
          });
        },
        bindEvents: function () {
          module.verbose('Attaching form events');
          $module.on('submit' + eventNamespace, module.validate.form).on('blur' + eventNamespace, selector.field, module.event.field.blur).on('click' + eventNamespace, selector.submit, module.submit).on('click' + eventNamespace, selector.reset, module.reset).on('click' + eventNamespace, selector.clear, module.clear);

          if (settings.keyboardShortcuts) {
            $module.on('keydown' + eventNamespace, selector.field, module.event.field.keydown);
          }

          $field.each(function () {
            var $input = $(this),
                type = $input.prop('type'),
                inputEvent = module.get.changeEvent(type, $input);
            $(this).on(inputEvent + eventNamespace, module.event.field.change);
          });
        },
        clear: function () {
          $field.each(function () {
            var $field = $(this),
                $element = $field.parent(),
                $fieldGroup = $field.closest($group),
                $prompt = $fieldGroup.find(selector.prompt),
                defaultValue = $field.data(metadata.defaultValue) || '',
                isCheckbox = $element.is(selector.uiCheckbox),
                isDropdown = $element.is(selector.uiDropdown),
                isErrored = $fieldGroup.hasClass(className.error);

            if (isErrored) {
              module.verbose('Resetting error on field', $fieldGroup);
              $fieldGroup.removeClass(className.error);
              $prompt.remove();
            }

            if (isDropdown) {
              module.verbose('Resetting dropdown value', $element, defaultValue);
              $element.dropdown('clear');
            } else if (isCheckbox) {
              $field.prop('checked', false);
            } else {
              module.verbose('Resetting field value', $field, defaultValue);
              $field.val('');
            }
          });
        },
        reset: function () {
          $field.each(function () {
            var $field = $(this),
                $element = $field.parent(),
                $fieldGroup = $field.closest($group),
                $prompt = $fieldGroup.find(selector.prompt),
                defaultValue = $field.data(metadata.defaultValue),
                isCheckbox = $element.is(selector.uiCheckbox),
                isDropdown = $element.is(selector.uiDropdown),
                isErrored = $fieldGroup.hasClass(className.error);

            if (defaultValue === undefined) {
              return;
            }

            if (isErrored) {
              module.verbose('Resetting error on field', $fieldGroup);
              $fieldGroup.removeClass(className.error);
              $prompt.remove();
            }

            if (isDropdown) {
              module.verbose('Resetting dropdown value', $element, defaultValue);
              $element.dropdown('restore defaults');
            } else if (isCheckbox) {
              module.verbose('Resetting checkbox value', $element, defaultValue);
              $field.prop('checked', defaultValue);
            } else {
              module.verbose('Resetting field value', $field, defaultValue);
              $field.val(defaultValue);
            }
          });
        },
        is: {
          bracketedRule: function (rule) {
            return rule.type && rule.type.match(settings.regExp.bracket);
          },
          valid: function () {
            var allValid = true;
            module.verbose('Checking if form is valid');
            $.each(validation, function (fieldName, field) {
              if (!module.validate.field(field, fieldName)) {
                allValid = false;
              }
            });
            return allValid;
          }
        },
        removeEvents: function () {
          $module.off(eventNamespace);
          $field.off(eventNamespace);
          $submit.off(eventNamespace);
          $field.off(eventNamespace);
        },
        event: {
          field: {
            keydown: function (event) {
              var $field = $(this),
                  key = event.which,
                  keyCode = {
                enter: 13,
                escape: 27
              };

              if (key == keyCode.escape) {
                module.verbose('Escape key pressed blurring field');
                $field.blur();
              }

              if (!event.ctrlKey && key == keyCode.enter && $field.is(selector.input) && $field.not(selector.checkbox).length > 0) {
                if (!keyHeldDown) {
                  $field.one('keyup' + eventNamespace, module.event.field.keyup);
                  module.submit();
                  module.debug('Enter pressed on input submitting form');
                }

                keyHeldDown = true;
              }
            },
            keyup: function () {
              keyHeldDown = false;
            },
            blur: function (event) {
              var $field = $(this),
                  $fieldGroup = $field.closest($group),
                  validationRules = module.get.validation($field);

              if ($fieldGroup.hasClass(className.error)) {
                module.debug('Revalidating field', $field, validationRules);
                module.validate.form.call(module, event, true);
              } else if (settings.on == 'blur' || settings.on == 'change') {
                if (validationRules) {
                  module.validate.field(validationRules);
                }
              }
            },
            change: function (event) {
              var $field = $(this),
                  $fieldGroup = $field.closest($group);

              if (settings.on == 'change' || $fieldGroup.hasClass(className.error) && settings.revalidate) {
                clearTimeout(module.timer);
                module.timer = setTimeout(function () {
                  module.debug('Revalidating field', $field, module.get.validation($field));
                  module.validate.form.call(module, event, true);
                }, settings.delay);
              }
            }
          }
        },
        get: {
          ancillaryValue: function (rule) {
            if (!rule.type || !module.is.bracketedRule(rule)) {
              return false;
            }

            return rule.type.match(settings.regExp.bracket)[1] + '';
          },
          ruleName: function (rule) {
            if (module.is.bracketedRule(rule)) {
              return rule.type.replace(rule.type.match(settings.regExp.bracket)[0], '');
            }

            return rule.type;
          },
          changeEvent: function (type, $input) {
            if (type == 'checkbox' || type == 'radio' || type == 'hidden' || $input.is('select')) {
              return 'change';
            } else {
              return module.get.inputEvent();
            }
          },
          inputEvent: function () {
            return document.createElement('input').oninput !== undefined ? 'input' : document.createElement('input').onpropertychange !== undefined ? 'propertychange' : 'keyup';
          },
          prompt: function (rule, field) {
            var ruleName = module.get.ruleName(rule),
                ancillary = module.get.ancillaryValue(rule),
                prompt = rule.prompt || settings.prompt[ruleName] || settings.text.unspecifiedRule,
                requiresValue = prompt.search('{value}') !== -1,
                requiresName = prompt.search('{name}') !== -1,
                $label,
                $field,
                name;

            if (requiresName || requiresValue) {
              $field = module.get.field(field.identifier);
            }

            if (requiresValue) {
              prompt = prompt.replace('{value}', $field.val());
            }

            if (requiresName) {
              $label = $field.closest(selector.group).find('label').eq(0);
              name = $label.size() == 1 ? $label.text() : $field.prop('placeholder') || settings.text.unspecifiedField;
              prompt = prompt.replace('{name}', name);
            }

            prompt = prompt.replace('{identifier}', field.identifier);
            prompt = prompt.replace('{ruleValue}', ancillary);

            if (!rule.prompt) {
              module.verbose('Using default validation prompt for type', prompt, ruleName);
            }

            return prompt;
          },
          settings: function () {
            if ($.isPlainObject(parameters)) {
              var keys = Object.keys(parameters),
                  isLegacySettings = keys.length > 0 ? parameters[keys[0]].identifier !== undefined && parameters[keys[0]].rules !== undefined : false,
                  ruleKeys;

              if (isLegacySettings) {
                // 1.x (ducktyped)
                settings = $.extend(true, {}, $.fn.form.settings, legacyParameters);
                validation = $.extend({}, $.fn.form.settings.defaults, parameters);
                module.error(settings.error.oldSyntax, element);
                module.verbose('Extending settings from legacy parameters', validation, settings);
              } else {
                // 2.x
                if (parameters.fields) {
                  ruleKeys = Object.keys(parameters.fields);

                  if (typeof parameters.fields[ruleKeys[0]] == 'string' || $.isArray(parameters.fields[ruleKeys[0]])) {
                    $.each(parameters.fields, function (name, rules) {
                      if (typeof rules == 'string') {
                        rules = [rules];
                      }

                      parameters.fields[name] = {
                        rules: []
                      };
                      $.each(rules, function (index, rule) {
                        parameters.fields[name].rules.push({
                          type: rule
                        });
                      });
                    });
                  }
                }

                settings = $.extend(true, {}, $.fn.form.settings, parameters);
                validation = $.extend({}, $.fn.form.settings.defaults, settings.fields);
                module.verbose('Extending settings', validation, settings);
              }
            } else {
              settings = $.fn.form.settings;
              validation = $.fn.form.settings.defaults;
              module.verbose('Using default form validation', validation, settings);
            } // shorthand


            namespace = settings.namespace;
            metadata = settings.metadata;
            selector = settings.selector;
            className = settings.className;
            error = settings.error;
            moduleNamespace = 'module-' + namespace;
            eventNamespace = '.' + namespace; // grab instance

            instance = $module.data(moduleNamespace); // refresh selector cache

            module.refresh();
          },
          field: function (identifier) {
            module.verbose('Finding field with identifier', identifier);

            if ($field.filter('#' + identifier).length > 0) {
              return $field.filter('#' + identifier);
            } else if ($field.filter('[name="' + identifier + '"]').length > 0) {
              return $field.filter('[name="' + identifier + '"]');
            } else if ($field.filter('[name="' + identifier + '[]"]').length > 0) {
              return $field.filter('[name="' + identifier + '[]"]');
            } else if ($field.filter('[data-' + metadata.validate + '="' + identifier + '"]').length > 0) {
              return $field.filter('[data-' + metadata.validate + '="' + identifier + '"]');
            }

            return $('<input/>');
          },
          fields: function (fields) {
            var $fields = $();
            $.each(fields, function (index, name) {
              $fields = $fields.add(module.get.field(name));
            });
            return $fields;
          },
          validation: function ($field) {
            var fieldValidation, identifier;

            if (!validation) {
              return false;
            }

            $.each(validation, function (fieldName, field) {
              identifier = field.identifier || fieldName;

              if (module.get.field(identifier)[0] == $field[0]) {
                field.identifier = identifier;
                fieldValidation = field;
              }
            });
            return fieldValidation || false;
          },
          value: function (field) {
            var fields = [],
                results;
            fields.push(field);
            results = module.get.values.call(element, fields);
            return results[field];
          },
          values: function (fields) {
            var $fields = $.isArray(fields) ? module.get.fields(fields) : $field,
                values = {};
            $fields.each(function (index, field) {
              var $field = $(field),
                  type = $field.prop('type'),
                  name = $field.prop('name'),
                  value = $field.val(),
                  isCheckbox = $field.is(selector.checkbox),
                  isRadio = $field.is(selector.radio),
                  isMultiple = name.indexOf('[]') !== -1,
                  isChecked = isCheckbox ? $field.is(':checked') : false;

              if (name) {
                if (isMultiple) {
                  name = name.replace('[]', '');

                  if (!values[name]) {
                    values[name] = [];
                  }

                  if (isCheckbox) {
                    if (isChecked) {
                      values[name].push(value || true);
                    } else {
                      values[name].push(false);
                    }
                  } else {
                    values[name].push(value);
                  }
                } else {
                  if (isRadio) {
                    if (isChecked) {
                      values[name] = value;
                    }
                  } else if (isCheckbox) {
                    if (isChecked) {
                      values[name] = value || true;
                    } else {
                      values[name] = false;
                    }
                  } else {
                    values[name] = value;
                  }
                }
              }
            });
            return values;
          }
        },
        has: {
          field: function (identifier) {
            module.verbose('Checking for existence of a field with identifier', identifier);

            if (typeof identifier !== 'string') {
              module.error(error.identifier, identifier);
            }

            if ($field.filter('#' + identifier).length > 0) {
              return true;
            } else if ($field.filter('[name="' + identifier + '"]').length > 0) {
              return true;
            } else if ($field.filter('[data-' + metadata.validate + '="' + identifier + '"]').length > 0) {
              return true;
            }

            return false;
          }
        },
        add: {
          prompt: function (identifier, errors) {
            var $field = module.get.field(identifier),
                $fieldGroup = $field.closest($group),
                $prompt = $fieldGroup.children(selector.prompt),
                promptExists = $prompt.length !== 0;
            errors = typeof errors == 'string' ? [errors] : errors;
            module.verbose('Adding field error state', identifier);
            $fieldGroup.addClass(className.error);

            if (settings.inline) {
              if (!promptExists) {
                $prompt = settings.templates.prompt(errors);
                $prompt.appendTo($fieldGroup);
              }

              $prompt.html(errors[0]);

              if (!promptExists) {
                if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {
                  module.verbose('Displaying error with css transition', settings.transition);
                  $prompt.transition(settings.transition + ' in', settings.duration);
                } else {
                  module.verbose('Displaying error with fallback javascript animation');
                  $prompt.fadeIn(settings.duration);
                }
              } else {
                module.verbose('Inline errors are disabled, no inline error added', identifier);
              }
            }
          },
          errors: function (errors) {
            module.debug('Adding form error messages', errors);
            module.set.error();
            $message.html(settings.templates.error(errors));
          }
        },
        remove: {
          prompt: function (identifier) {
            var $field = module.get.field(identifier),
                $fieldGroup = $field.closest($group),
                $prompt = $fieldGroup.children(selector.prompt);
            $fieldGroup.removeClass(className.error);

            if (settings.inline && $prompt.is(':visible')) {
              module.verbose('Removing prompt for field', identifier);

              if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {
                $prompt.transition(settings.transition + ' out', settings.duration, function () {
                  $prompt.remove();
                });
              } else {
                $prompt.fadeOut(settings.duration, function () {
                  $prompt.remove();
                });
              }
            }
          }
        },
        set: {
          success: function () {
            $module.removeClass(className.error).addClass(className.success);
          },
          defaults: function () {
            $field.each(function () {
              var $field = $(this),
                  isCheckbox = $field.filter(selector.checkbox).length > 0,
                  value = isCheckbox ? $field.is(':checked') : $field.val();
              $field.data(metadata.defaultValue, value);
            });
          },
          error: function () {
            $module.removeClass(className.success).addClass(className.error);
          },
          value: function (field, value) {
            var fields = {};
            fields[field] = value;
            return module.set.values.call(element, fields);
          },
          values: function (fields) {
            if ($.isEmptyObject(fields)) {
              return;
            }

            $.each(fields, function (key, value) {
              var $field = module.get.field(key),
                  $element = $field.parent(),
                  isMultiple = $.isArray(value),
                  isCheckbox = $element.is(selector.uiCheckbox),
                  isDropdown = $element.is(selector.uiDropdown),
                  isRadio = $field.is(selector.radio) && isCheckbox,
                  fieldExists = $field.length > 0,
                  $multipleField;

              if (fieldExists) {
                if (isMultiple && isCheckbox) {
                  module.verbose('Selecting multiple', value, $field);
                  $element.checkbox('uncheck');
                  $.each(value, function (index, value) {
                    $multipleField = $field.filter('[value="' + value + '"]');
                    $element = $multipleField.parent();

                    if ($multipleField.length > 0) {
                      $element.checkbox('check');
                    }
                  });
                } else if (isRadio) {
                  module.verbose('Selecting radio value', value, $field);
                  $field.filter('[value="' + value + '"]').parent(selector.uiCheckbox).checkbox('check');
                } else if (isCheckbox) {
                  module.verbose('Setting checkbox value', value, $element);

                  if (value === true) {
                    $element.checkbox('check');
                  } else {
                    $element.checkbox('uncheck');
                  }
                } else if (isDropdown) {
                  module.verbose('Setting dropdown value', value, $element);
                  $element.dropdown('set selected', value);
                } else {
                  module.verbose('Setting field value', value, $field);
                  $field.val(value);
                }
              }
            });
          }
        },
        validate: {
          form: function (event, ignoreCallbacks) {
            var values = module.get.values(),
                apiRequest; // input keydown event will fire submit repeatedly by browser default

            if (keyHeldDown) {
              return false;
            } // reset errors


            formErrors = [];

            if (module.is.valid()) {
              module.debug('Form has no validation errors, submitting');
              module.set.success();

              if (ignoreCallbacks !== true) {
                return settings.onSuccess.call(element, event, values);
              }
            } else {
              module.debug('Form has errors');
              module.set.error();

              if (!settings.inline) {
                module.add.errors(formErrors);
              } // prevent ajax submit


              if ($module.data('moduleApi') !== undefined) {
                event.stopImmediatePropagation();
              }

              if (ignoreCallbacks !== true) {
                return settings.onFailure.call(element, formErrors, values);
              }
            }
          },
          // takes a validation object and returns whether field passes validation
          field: function (field, fieldName) {
            var identifier = field.identifier || fieldName,
                $field = module.get.field(identifier),
                fieldValid = true,
                fieldErrors = [];

            if (!field.identifier) {
              module.debug('Using field name as identifier', identifier);
              field.identifier = identifier;
            }

            if ($field.prop('disabled')) {
              module.debug('Field is disabled. Skipping', identifier);
              fieldValid = true;
            } else if (field.optional && $.trim($field.val()) === '') {
              module.debug('Field is optional and empty. Skipping', identifier);
              fieldValid = true;
            } else if (field.rules !== undefined) {
              $.each(field.rules, function (index, rule) {
                if (module.has.field(identifier) && !module.validate.rule(field, rule)) {
                  module.debug('Field is invalid', identifier, rule.type);
                  fieldErrors.push(module.get.prompt(rule, field));
                  fieldValid = false;
                }
              });
            }

            if (fieldValid) {
              module.remove.prompt(identifier, fieldErrors);
              settings.onValid.call($field);
            } else {
              formErrors = formErrors.concat(fieldErrors);
              module.add.prompt(identifier, fieldErrors);
              settings.onInvalid.call($field, fieldErrors);
              return false;
            }

            return true;
          },
          // takes validation rule and returns whether field passes rule
          rule: function (field, rule) {
            var $field = module.get.field(field.identifier),
                type = rule.type,
                value = $field.val(),
                isValid = true,
                ancillary = module.get.ancillaryValue(rule),
                ruleName = module.get.ruleName(rule),
                ruleFunction = settings.rules[ruleName];

            if (!$.isFunction(ruleFunction)) {
              module.error(error.noRule, ruleName);
              return;
            } // cast to string avoiding encoding special values


            value = value === undefined || value === '' || value === null ? '' : $.trim(value + '');
            return ruleFunction.call($field, value, ancillary);
          }
        },
        setting: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ($allModules.length > 1) {
              title += ' ' + '(' + $allModules.length + ')';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };
      module.initialize();
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.form.settings = {
    name: 'Form',
    namespace: 'form',
    debug: false,
    verbose: false,
    performance: true,
    fields: false,
    keyboardShortcuts: true,
    on: 'submit',
    inline: false,
    delay: 200,
    revalidate: true,
    transition: 'scale',
    duration: 200,
    onValid: function () {},
    onInvalid: function () {},
    onSuccess: function () {
      return true;
    },
    onFailure: function () {
      return false;
    },
    metadata: {
      defaultValue: 'default',
      validate: 'validate'
    },
    regExp: {
      bracket: /\[(.*)\]/i,
      decimal: /^\d*(\.)\d+/,
      email: "[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",
      escape: /[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
      flags: /^\/(.*)\/(.*)?/,
      integer: /^\-?\d+$/,
      number: /^\-?\d*(\.\d+)?$/,
      url: /(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i
    },
    text: {
      unspecifiedRule: 'Please enter a valid value',
      unspecifiedField: 'This field'
    },
    prompt: {
      empty: '{name} must have a value',
      checked: '{name} must be checked',
      email: '{name} must be a valid e-mail',
      url: '{name} must be a valid url',
      regExp: '{name} is not formatted correctly',
      integer: '{name} must be an integer',
      decimal: '{name} must be a decimal number',
      number: '{name} must be set to a number',
      is: '{name} must be "{ruleValue}"',
      isExactly: '{name} must be exactly "{ruleValue}"',
      not: '{name} cannot be set to "{ruleValue}"',
      notExactly: '{name} cannot be set to exactly "{ruleValue}"',
      contain: '{name} cannot contain "{ruleValue}"',
      containExactly: '{name} cannot contain exactly "{ruleValue}"',
      doesntContain: '{name} must contain  "{ruleValue}"',
      doesntContainExactly: '{name} must contain exactly "{ruleValue}"',
      minLength: '{name} must be at least {ruleValue} characters',
      length: '{name} must be at least {ruleValue} characters',
      exactLength: '{name} must be exactly {ruleValue} characters',
      maxLength: '{name} cannot be longer than {ruleValue} characters',
      match: '{name} must match {ruleValue} field',
      different: '{name} must have a different value than {ruleValue} field',
      creditCard: '{name} must be a valid credit card number',
      minCount: '{name} must have at least {ruleValue} choices',
      exactCount: '{name} must have exactly {ruleValue} choices',
      maxCount: '{name} must have {ruleValue} or less choices'
    },
    selector: {
      checkbox: 'input[type="checkbox"], input[type="radio"]',
      clear: '.clear',
      field: 'input, textarea, select',
      group: '.field',
      input: 'input',
      message: '.error.message',
      prompt: '.prompt.label',
      radio: 'input[type="radio"]',
      reset: '.reset:not([type="reset"])',
      submit: '.submit:not([type="submit"])',
      uiCheckbox: '.ui.checkbox',
      uiDropdown: '.ui.dropdown'
    },
    className: {
      error: 'error',
      label: 'ui prompt label',
      pressed: 'down',
      success: 'success'
    },
    error: {
      identifier: 'You must specify a string identifier for each field',
      method: 'The method you called is not defined.',
      noRule: 'There is no rule matching the one you specified',
      oldSyntax: 'Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.'
    },
    templates: {
      // template that produces error message
      error: function (errors) {
        var html = '<ul class="list">';
        $.each(errors, function (index, value) {
          html += '<li>' + value + '</li>';
        });
        html += '</ul>';
        return $(html);
      },
      // template that produces label
      prompt: function (errors) {
        return $('<div/>').addClass('ui basic red pointing prompt label').html(errors[0]);
      }
    },
    rules: {
      // is not empty or blank string
      empty: function (value) {
        return !(value === undefined || '' === value || $.isArray(value) && value.length === 0);
      },
      // checkbox checked
      checked: function () {
        return $(this).filter(':checked').length > 0;
      },
      // is most likely an email
      email: function (value) {
        var emailRegExp = new RegExp($.fn.form.settings.regExp.email, 'i');
        return emailRegExp.test(value);
      },
      // value is most likely url
      url: function (value) {
        return $.fn.form.settings.regExp.url.test(value);
      },
      // matches specified regExp
      regExp: function (value, regExp) {
        var regExpParts = regExp.match($.fn.form.settings.regExp.flags),
            flags; // regular expression specified as /baz/gi (flags)

        if (regExpParts) {
          regExp = regExpParts.length >= 2 ? regExpParts[1] : regExp;
          flags = regExpParts.length >= 3 ? regExpParts[2] : '';
        }

        return value.match(new RegExp(regExp, flags));
      },
      // is valid integer or matches range
      integer: function (value, range) {
        var intRegExp = $.fn.form.settings.regExp.integer,
            min,
            max,
            parts;

        if (!range || ['', '..'].indexOf(range) !== -1) {// do nothing
        } else if (range.indexOf('..') == -1) {
          if (intRegExp.test(range)) {
            min = max = range - 0;
          }
        } else {
          parts = range.split('..', 2);

          if (intRegExp.test(parts[0])) {
            min = parts[0] - 0;
          }

          if (intRegExp.test(parts[1])) {
            max = parts[1] - 0;
          }
        }

        return intRegExp.test(value) && (min === undefined || value >= min) && (max === undefined || value <= max);
      },
      // is valid number (with decimal)
      decimal: function (value) {
        return $.fn.form.settings.regExp.decimal.test(value);
      },
      // is valid number
      number: function (value) {
        return $.fn.form.settings.regExp.number.test(value);
      },
      // is value (case insensitive)
      is: function (value, text) {
        text = typeof text == 'string' ? text.toLowerCase() : text;
        value = typeof value == 'string' ? value.toLowerCase() : value;
        return value == text;
      },
      // is value
      isExactly: function (value, text) {
        return value == text;
      },
      // value is not another value (case insensitive)
      not: function (value, notValue) {
        value = typeof value == 'string' ? value.toLowerCase() : value;
        notValue = typeof notValue == 'string' ? notValue.toLowerCase() : notValue;
        return value != notValue;
      },
      // value is not another value (case sensitive)
      notExactly: function (value, notValue) {
        return value != notValue;
      },
      // value contains text (insensitive)
      contains: function (value, text) {
        // escape regex characters
        text = text.replace($.fn.form.settings.regExp.escape, "\\$&");
        return value.search(new RegExp(text, 'i')) !== -1;
      },
      // value contains text (case sensitive)
      containsExactly: function (value, text) {
        // escape regex characters
        text = text.replace($.fn.form.settings.regExp.escape, "\\$&");
        return value.search(new RegExp(text)) !== -1;
      },
      // value contains text (insensitive)
      doesntContain: function (value, text) {
        // escape regex characters
        text = text.replace($.fn.form.settings.regExp.escape, "\\$&");
        return value.search(new RegExp(text, 'i')) === -1;
      },
      // value contains text (case sensitive)
      doesntContainExactly: function (value, text) {
        // escape regex characters
        text = text.replace($.fn.form.settings.regExp.escape, "\\$&");
        return value.search(new RegExp(text)) === -1;
      },
      // is at least string length
      minLength: function (value, requiredLength) {
        return value !== undefined ? value.length >= requiredLength : false;
      },
      // see rls notes for 2.0.6 (this is a duplicate of minLength)
      length: function (value, requiredLength) {
        return value !== undefined ? value.length >= requiredLength : false;
      },
      // is exactly length
      exactLength: function (value, requiredLength) {
        return value !== undefined ? value.length == requiredLength : false;
      },
      // is less than length
      maxLength: function (value, maxLength) {
        return value !== undefined ? value.length <= maxLength : false;
      },
      // matches another field
      match: function (value, identifier) {
        var $form = $(this),
            matchingValue;

        if ($('[data-validate="' + identifier + '"]').length > 0) {
          matchingValue = $('[data-validate="' + identifier + '"]').val();
        } else if ($('#' + identifier).length > 0) {
          matchingValue = $('#' + identifier).val();
        } else if ($('[name="' + identifier + '"]').length > 0) {
          matchingValue = $('[name="' + identifier + '"]').val();
        } else if ($('[name="' + identifier + '[]"]').length > 0) {
          matchingValue = $('[name="' + identifier + '[]"]');
        }

        return matchingValue !== undefined ? value.toString() == matchingValue.toString() : false;
      },
      // different than another field
      different: function (value, identifier) {
        // use either id or name of field
        var $form = $(this),
            matchingValue;

        if ($('[data-validate="' + identifier + '"]').length > 0) {
          matchingValue = $('[data-validate="' + identifier + '"]').val();
        } else if ($('#' + identifier).length > 0) {
          matchingValue = $('#' + identifier).val();
        } else if ($('[name="' + identifier + '"]').length > 0) {
          matchingValue = $('[name="' + identifier + '"]').val();
        } else if ($('[name="' + identifier + '[]"]').length > 0) {
          matchingValue = $('[name="' + identifier + '[]"]');
        }

        return matchingValue !== undefined ? value.toString() !== matchingValue.toString() : false;
      },
      creditCard: function (cardNumber, cardTypes) {
        var cards = {
          visa: {
            pattern: /^4/,
            length: [16]
          },
          amex: {
            pattern: /^3[47]/,
            length: [15]
          },
          mastercard: {
            pattern: /^5[1-5]/,
            length: [16]
          },
          discover: {
            pattern: /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,
            length: [16]
          },
          unionPay: {
            pattern: /^(62|88)/,
            length: [16, 17, 18, 19]
          },
          jcb: {
            pattern: /^35(2[89]|[3-8][0-9])/,
            length: [16]
          },
          maestro: {
            pattern: /^(5018|5020|5038|6304|6759|676[1-3])/,
            length: [12, 13, 14, 15, 16, 17, 18, 19]
          },
          dinersClub: {
            pattern: /^(30[0-5]|^36)/,
            length: [14]
          },
          laser: {
            pattern: /^(6304|670[69]|6771)/,
            length: [16, 17, 18, 19]
          },
          visaElectron: {
            pattern: /^(4026|417500|4508|4844|491(3|7))/,
            length: [16]
          }
        },
            valid = {},
            validCard = false,
            requiredTypes = typeof cardTypes == 'string' ? cardTypes.split(',') : false,
            unionPay,
            validation;

        if (typeof cardNumber !== 'string' || cardNumber.length === 0) {
          return;
        } // verify card types


        if (requiredTypes) {
          $.each(requiredTypes, function (index, type) {
            // verify each card type
            validation = cards[type];

            if (validation) {
              valid = {
                length: $.inArray(cardNumber.length, validation.length) !== -1,
                pattern: cardNumber.search(validation.pattern) !== -1
              };

              if (valid.length && valid.pattern) {
                validCard = true;
              }
            }
          });

          if (!validCard) {
            return false;
          }
        } // skip luhn for UnionPay


        unionPay = {
          number: $.inArray(cardNumber.length, cards.unionPay.length) !== -1,
          pattern: cardNumber.search(cards.unionPay.pattern) !== -1
        };

        if (unionPay.number && unionPay.pattern) {
          return true;
        } // verify luhn, adapted from  <https://gist.github.com/2134376>


        var length = cardNumber.length,
            multiple = 0,
            producedValue = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]],
            sum = 0;

        while (length--) {
          sum += producedValue[multiple][parseInt(cardNumber.charAt(length), 10)];
          multiple ^= 1;
        }

        return sum % 10 === 0 && sum > 0;
      },
      minCount: function (value, minCount) {
        if (minCount == 0) {
          return true;
        }

        if (minCount == 1) {
          return value !== '';
        }

        return value.split(',').length >= minCount;
      },
      exactCount: function (value, exactCount) {
        if (exactCount == 0) {
          return value === '';
        }

        if (exactCount == 1) {
          return value !== '' && value.search(',') === -1;
        }

        return value.split(',').length == exactCount;
      },
      maxCount: function (value, maxCount) {
        if (maxCount == 0) {
          return false;
        }

        if (maxCount == 1) {
          return value.search(',') === -1;
        }

        return value.split(',').length <= maxCount;
      }
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"state.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/behaviors/state.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - State
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.state = function (parameters) {
    var $allModules = $(this),
        moduleSelector = $allModules.selector || '',
        hasTouch = 'ontouchstart' in document.documentElement,
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        returnedValue;
    $allModules.each(function () {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.state.settings, parameters) : $.extend({}, $.fn.state.settings),
          error = settings.error,
          metadata = settings.metadata,
          className = settings.className,
          namespace = settings.namespace,
          states = settings.states,
          text = settings.text,
          eventNamespace = '.' + namespace,
          moduleNamespace = namespace + '-module',
          $module = $(this),
          element = this,
          instance = $module.data(moduleNamespace),
          module;
      module = {
        initialize: function () {
          module.verbose('Initializing module'); // allow module to guess desired state based on element

          if (settings.automatic) {
            module.add.defaults();
          } // bind events with delegated events


          if (settings.context && moduleSelector !== '') {
            $(settings.context).on(moduleSelector, 'mouseenter' + eventNamespace, module.change.text).on(moduleSelector, 'mouseleave' + eventNamespace, module.reset.text).on(moduleSelector, 'click' + eventNamespace, module.toggle.state);
          } else {
            $module.on('mouseenter' + eventNamespace, module.change.text).on('mouseleave' + eventNamespace, module.reset.text).on('click' + eventNamespace, module.toggle.state);
          }

          module.instantiate();
        },
        instantiate: function () {
          module.verbose('Storing instance of module', module);
          instance = module;
          $module.data(moduleNamespace, module);
        },
        destroy: function () {
          module.verbose('Destroying previous module', instance);
          $module.off(eventNamespace).removeData(moduleNamespace);
        },
        refresh: function () {
          module.verbose('Refreshing selector cache');
          $module = $(element);
        },
        add: {
          defaults: function () {
            var userStates = parameters && $.isPlainObject(parameters.states) ? parameters.states : {};
            $.each(settings.defaults, function (type, typeStates) {
              if (module.is[type] !== undefined && module.is[type]()) {
                module.verbose('Adding default states', type, element);
                $.extend(settings.states, typeStates, userStates);
              }
            });
          }
        },
        is: {
          active: function () {
            return $module.hasClass(className.active);
          },
          loading: function () {
            return $module.hasClass(className.loading);
          },
          inactive: function () {
            return !$module.hasClass(className.active);
          },
          state: function (state) {
            if (className[state] === undefined) {
              return false;
            }

            return $module.hasClass(className[state]);
          },
          enabled: function () {
            return !$module.is(settings.filter.active);
          },
          disabled: function () {
            return $module.is(settings.filter.active);
          },
          textEnabled: function () {
            return !$module.is(settings.filter.text);
          },
          // definitions for automatic type detection
          button: function () {
            return $module.is('.button:not(a, .submit)');
          },
          input: function () {
            return $module.is('input');
          },
          progress: function () {
            return $module.is('.ui.progress');
          }
        },
        allow: function (state) {
          module.debug('Now allowing state', state);
          states[state] = true;
        },
        disallow: function (state) {
          module.debug('No longer allowing', state);
          states[state] = false;
        },
        allows: function (state) {
          return states[state] || false;
        },
        enable: function () {
          $module.removeClass(className.disabled);
        },
        disable: function () {
          $module.addClass(className.disabled);
        },
        setState: function (state) {
          if (module.allows(state)) {
            $module.addClass(className[state]);
          }
        },
        removeState: function (state) {
          if (module.allows(state)) {
            $module.removeClass(className[state]);
          }
        },
        toggle: {
          state: function () {
            var apiRequest, requestCancelled;

            if (module.allows('active') && module.is.enabled()) {
              module.refresh();

              if ($.fn.api !== undefined) {
                apiRequest = $module.api('get request');
                requestCancelled = $module.api('was cancelled');

                if (requestCancelled) {
                  module.debug('API Request cancelled by beforesend');

                  settings.activateTest = function () {
                    return false;
                  };

                  settings.deactivateTest = function () {
                    return false;
                  };
                } else if (apiRequest) {
                  module.listenTo(apiRequest);
                  return;
                }
              }

              module.change.state();
            }
          }
        },
        listenTo: function (apiRequest) {
          module.debug('API request detected, waiting for state signal', apiRequest);

          if (apiRequest) {
            if (text.loading) {
              module.update.text(text.loading);
            }

            $.when(apiRequest).then(function () {
              if (apiRequest.state() == 'resolved') {
                module.debug('API request succeeded');

                settings.activateTest = function () {
                  return true;
                };

                settings.deactivateTest = function () {
                  return true;
                };
              } else {
                module.debug('API request failed');

                settings.activateTest = function () {
                  return false;
                };

                settings.deactivateTest = function () {
                  return false;
                };
              }

              module.change.state();
            });
          }
        },
        // checks whether active/inactive state can be given
        change: {
          state: function () {
            module.debug('Determining state change direction'); // inactive to active change

            if (module.is.inactive()) {
              module.activate();
            } else {
              module.deactivate();
            }

            if (settings.sync) {
              module.sync();
            }

            settings.onChange.call(element);
          },
          text: function () {
            if (module.is.textEnabled()) {
              if (module.is.disabled()) {
                module.verbose('Changing text to disabled text', text.hover);
                module.update.text(text.disabled);
              } else if (module.is.active()) {
                if (text.hover) {
                  module.verbose('Changing text to hover text', text.hover);
                  module.update.text(text.hover);
                } else if (text.deactivate) {
                  module.verbose('Changing text to deactivating text', text.deactivate);
                  module.update.text(text.deactivate);
                }
              } else {
                if (text.hover) {
                  module.verbose('Changing text to hover text', text.hover);
                  module.update.text(text.hover);
                } else if (text.activate) {
                  module.verbose('Changing text to activating text', text.activate);
                  module.update.text(text.activate);
                }
              }
            }
          }
        },
        activate: function () {
          if (settings.activateTest.call(element)) {
            module.debug('Setting state to active');
            $module.addClass(className.active);
            module.update.text(text.active);
            settings.onActivate.call(element);
          }
        },
        deactivate: function () {
          if (settings.deactivateTest.call(element)) {
            module.debug('Setting state to inactive');
            $module.removeClass(className.active);
            module.update.text(text.inactive);
            settings.onDeactivate.call(element);
          }
        },
        sync: function () {
          module.verbose('Syncing other buttons to current state');

          if (module.is.active()) {
            $allModules.not($module).state('activate');
          } else {
            $allModules.not($module).state('deactivate');
          }
        },
        get: {
          text: function () {
            return settings.selector.text ? $module.find(settings.selector.text).text() : $module.html();
          },
          textFor: function (state) {
            return text[state] || false;
          }
        },
        flash: {
          text: function (text, duration, callback) {
            var previousText = module.get.text();
            module.debug('Flashing text message', text, duration);
            text = text || settings.text.flash;
            duration = duration || settings.flashDuration;

            callback = callback || function () {};

            module.update.text(text);
            setTimeout(function () {
              module.update.text(previousText);
              callback.call(element);
            }, duration);
          }
        },
        reset: {
          // on mouseout sets text to previous value
          text: function () {
            var activeText = text.active || $module.data(metadata.storedText),
                inactiveText = text.inactive || $module.data(metadata.storedText);

            if (module.is.textEnabled()) {
              if (module.is.active() && activeText) {
                module.verbose('Resetting active text', activeText);
                module.update.text(activeText);
              } else if (inactiveText) {
                module.verbose('Resetting inactive text', activeText);
                module.update.text(inactiveText);
              }
            }
          }
        },
        update: {
          text: function (text) {
            var currentText = module.get.text();

            if (text && text !== currentText) {
              module.debug('Updating text', text);

              if (settings.selector.text) {
                $module.data(metadata.storedText, text).find(settings.selector.text).text(text);
              } else {
                $module.data(metadata.storedText, text).html(text);
              }
            } else {
              module.debug('Text is already set, ignoring update', text);
            }
          }
        },
        setting: function (name, value) {
          module.debug('Changing setting', name, value);

          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                module.error(error.method, query);
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.state.settings = {
    // module info
    name: 'State',
    // debug output
    debug: false,
    // verbose debug output
    verbose: false,
    // namespace for events
    namespace: 'state',
    // debug data includes performance
    performance: true,
    // callback occurs on state change
    onActivate: function () {},
    onDeactivate: function () {},
    onChange: function () {},
    // state test functions
    activateTest: function () {
      return true;
    },
    deactivateTest: function () {
      return true;
    },
    // whether to automatically map default states
    automatic: true,
    // activate / deactivate changes all elements instantiated at same time
    sync: false,
    // default flash text duration, used for temporarily changing text of an element
    flashDuration: 1000,
    // selector filter
    filter: {
      text: '.loading, .disabled',
      active: '.disabled'
    },
    context: false,
    // error
    error: {
      beforeSend: 'The before send function has cancelled state change',
      method: 'The method you called is not defined.'
    },
    // metadata
    metadata: {
      promise: 'promise',
      storedText: 'stored-text'
    },
    // change class on state
    className: {
      active: 'active',
      disabled: 'disabled',
      error: 'error',
      loading: 'loading',
      success: 'success',
      warning: 'warning'
    },
    selector: {
      // selector for text node
      text: false
    },
    defaults: {
      input: {
        disabled: true,
        loading: true,
        active: true
      },
      button: {
        disabled: true,
        loading: true,
        active: true
      },
      progress: {
        active: true,
        success: true,
        warning: true,
        error: true
      }
    },
    states: {
      active: true,
      disabled: true,
      error: true,
      loading: true,
      success: true,
      warning: true
    },
    text: {
      disabled: false,
      flash: false,
      hover: false,
      active: false,
      inactive: false,
      activate: false,
      deactivate: false
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"visibility.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/behaviors/visibility.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Visibility
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.visibility = function (parameters) {
    var $allModules = $(this),
        moduleSelector = $allModules.selector || '',
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        returnedValue;
    $allModules.each(function () {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.visibility.settings, parameters) : $.extend({}, $.fn.visibility.settings),
          className = settings.className,
          namespace = settings.namespace,
          error = settings.error,
          metadata = settings.metadata,
          eventNamespace = '.' + namespace,
          moduleNamespace = 'module-' + namespace,
          $window = $(window),
          $module = $(this),
          $context = $(settings.context),
          $placeholder,
          selector = $module.selector || '',
          instance = $module.data(moduleNamespace),
          requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
        setTimeout(callback, 0);
      },
          element = this,
          disabled = false,
          observer,
          module;

      module = {
        initialize: function () {
          module.debug('Initializing', settings);
          module.setup.cache();

          if (module.should.trackChanges()) {
            if (settings.type == 'image') {
              module.setup.image();
            }

            if (settings.type == 'fixed') {
              module.setup.fixed();
            }

            if (settings.observeChanges) {
              module.observeChanges();
            }

            module.bind.events();
          }

          module.save.position();

          if (!module.is.visible()) {
            module.error(error.visible, $module);
          }

          if (settings.initialCheck) {
            module.checkVisibility();
          }

          module.instantiate();
        },
        instantiate: function () {
          module.debug('Storing instance', module);
          $module.data(moduleNamespace, module);
          instance = module;
        },
        destroy: function () {
          module.verbose('Destroying previous module');

          if (observer) {
            observer.disconnect();
          }

          $window.off('load' + eventNamespace, module.event.load).off('resize' + eventNamespace, module.event.resize);
          $context.off('scrollchange' + eventNamespace, module.event.scrollchange);
          $module.off(eventNamespace).removeData(moduleNamespace);
        },
        observeChanges: function () {
          if ('MutationObserver' in window) {
            observer = new MutationObserver(function (mutations) {
              module.verbose('DOM tree modified, updating visibility calculations');
              module.timer = setTimeout(function () {
                module.verbose('DOM tree modified, updating sticky menu');
                module.refresh();
              }, 100);
            });
            observer.observe(element, {
              childList: true,
              subtree: true
            });
            module.debug('Setting up mutation observer', observer);
          }
        },
        bind: {
          events: function () {
            module.verbose('Binding visibility events to scroll and resize');

            if (settings.refreshOnLoad) {
              $window.on('load' + eventNamespace, module.event.load);
            }

            $window.on('resize' + eventNamespace, module.event.resize); // pub/sub pattern

            $context.off('scroll' + eventNamespace).on('scroll' + eventNamespace, module.event.scroll).on('scrollchange' + eventNamespace, module.event.scrollchange);
          }
        },
        event: {
          resize: function () {
            module.debug('Window resized');

            if (settings.refreshOnResize) {
              requestAnimationFrame(module.refresh);
            }
          },
          load: function () {
            module.debug('Page finished loading');
            requestAnimationFrame(module.refresh);
          },
          // publishes scrollchange event on one scroll
          scroll: function () {
            if (settings.throttle) {
              clearTimeout(module.timer);
              module.timer = setTimeout(function () {
                $context.triggerHandler('scrollchange' + eventNamespace, [$context.scrollTop()]);
              }, settings.throttle);
            } else {
              requestAnimationFrame(function () {
                $context.triggerHandler('scrollchange' + eventNamespace, [$context.scrollTop()]);
              });
            }
          },
          // subscribes to scrollchange
          scrollchange: function (event, scrollPosition) {
            module.checkVisibility(scrollPosition);
          }
        },
        precache: function (images, callback) {
          if (!(images instanceof Array)) {
            images = [images];
          }

          var imagesLength = images.length,
              loadedCounter = 0,
              cache = [],
              cacheImage = document.createElement('img'),
              handleLoad = function () {
            loadedCounter++;

            if (loadedCounter >= images.length) {
              if ($.isFunction(callback)) {
                callback();
              }
            }
          };

          while (imagesLength--) {
            cacheImage = document.createElement('img');
            cacheImage.onload = handleLoad;
            cacheImage.onerror = handleLoad;
            cacheImage.src = images[imagesLength];
            cache.push(cacheImage);
          }
        },
        enableCallbacks: function () {
          module.debug('Allowing callbacks to occur');
          disabled = false;
        },
        disableCallbacks: function () {
          module.debug('Disabling all callbacks temporarily');
          disabled = true;
        },
        should: {
          trackChanges: function () {
            if (methodInvoked) {
              module.debug('One time query, no need to bind events');
              return false;
            }

            module.debug('Callbacks being attached');
            return true;
          }
        },
        setup: {
          cache: function () {
            module.cache = {
              occurred: {},
              screen: {},
              element: {}
            };
          },
          image: function () {
            var src = $module.data(metadata.src);

            if (src) {
              module.verbose('Lazy loading image', src);
              settings.once = true;
              settings.observeChanges = false; // show when top visible

              settings.onOnScreen = function () {
                module.debug('Image on screen', element);
                module.precache(src, function () {
                  module.set.image(src);
                });
              };
            }
          },
          fixed: function () {
            module.debug('Setting up fixed');
            settings.once = false;
            settings.observeChanges = false;
            settings.initialCheck = true;
            settings.refreshOnLoad = true;

            if (!parameters.transition) {
              settings.transition = false;
            }

            module.create.placeholder();
            module.debug('Added placeholder', $placeholder);

            settings.onTopPassed = function () {
              module.debug('Element passed, adding fixed position', $module);
              module.show.placeholder();
              module.set.fixed();

              if (settings.transition) {
                if ($.fn.transition !== undefined) {
                  $module.transition(settings.transition, settings.duration);
                }
              }
            };

            settings.onTopPassedReverse = function () {
              module.debug('Element returned to position, removing fixed', $module);
              module.hide.placeholder();
              module.remove.fixed();
            };
          }
        },
        create: {
          placeholder: function () {
            module.verbose('Creating fixed position placeholder');
            $placeholder = $module.clone(false).css('display', 'none').addClass(className.placeholder).insertAfter($module);
          }
        },
        show: {
          placeholder: function () {
            module.verbose('Showing placeholder');
            $placeholder.css('display', 'block').css('visibility', 'hidden');
          }
        },
        hide: {
          placeholder: function () {
            module.verbose('Hiding placeholder');
            $placeholder.css('display', 'none').css('visibility', '');
          }
        },
        set: {
          fixed: function () {
            module.verbose('Setting element to fixed position');
            $module.addClass(className.fixed).css({
              position: 'fixed',
              top: settings.offset + 'px',
              left: 'auto',
              zIndex: '1'
            });
          },
          image: function (src) {
            $module.attr('src', src);

            if (settings.transition) {
              if ($.fn.transition !== undefined) {
                $module.transition(settings.transition, settings.duration);
              } else {
                $module.fadeIn(settings.duration);
              }
            } else {
              $module.show();
            }
          }
        },
        is: {
          onScreen: function () {
            var calculations = module.get.elementCalculations();
            return calculations.onScreen;
          },
          offScreen: function () {
            var calculations = module.get.elementCalculations();
            return calculations.offScreen;
          },
          visible: function () {
            if (module.cache && module.cache.element) {
              return !(module.cache.element.width === 0 && module.cache.element.offset.top === 0);
            }

            return false;
          }
        },
        refresh: function () {
          module.debug('Refreshing constants (width/height)');

          if (settings.type == 'fixed') {
            module.remove.fixed();
            module.remove.occurred();
          }

          module.reset();
          module.save.position();

          if (settings.checkOnRefresh) {
            module.checkVisibility();
          }

          settings.onRefresh.call(element);
        },
        reset: function () {
          module.verbose('Reseting all cached values');

          if ($.isPlainObject(module.cache)) {
            module.cache.screen = {};
            module.cache.element = {};
          }
        },
        checkVisibility: function (scroll) {
          module.verbose('Checking visibility of element', module.cache.element);

          if (!disabled && module.is.visible()) {
            // save scroll position
            module.save.scroll(scroll); // update calculations derived from scroll

            module.save.calculations(); // percentage

            module.passed(); // reverse (must be first)

            module.passingReverse();
            module.topVisibleReverse();
            module.bottomVisibleReverse();
            module.topPassedReverse();
            module.bottomPassedReverse(); // one time

            module.onScreen();
            module.offScreen();
            module.passing();
            module.topVisible();
            module.bottomVisible();
            module.topPassed();
            module.bottomPassed(); // on update callback

            if (settings.onUpdate) {
              settings.onUpdate.call(element, module.get.elementCalculations());
            }
          }
        },
        passed: function (amount, newCallback) {
          var calculations = module.get.elementCalculations(),
              amountInPixels; // assign callback

          if (amount && newCallback) {
            settings.onPassed[amount] = newCallback;
          } else if (amount !== undefined) {
            return module.get.pixelsPassed(amount) > calculations.pixelsPassed;
          } else if (calculations.passing) {
            $.each(settings.onPassed, function (amount, callback) {
              if (calculations.bottomVisible || calculations.pixelsPassed > module.get.pixelsPassed(amount)) {
                module.execute(callback, amount);
              } else if (!settings.once) {
                module.remove.occurred(callback);
              }
            });
          }
        },
        onScreen: function (newCallback) {
          var calculations = module.get.elementCalculations(),
              callback = newCallback || settings.onOnScreen,
              callbackName = 'onScreen';

          if (newCallback) {
            module.debug('Adding callback for onScreen', newCallback);
            settings.onOnScreen = newCallback;
          }

          if (calculations.onScreen) {
            module.execute(callback, callbackName);
          } else if (!settings.once) {
            module.remove.occurred(callbackName);
          }

          if (newCallback !== undefined) {
            return calculations.onOnScreen;
          }
        },
        offScreen: function (newCallback) {
          var calculations = module.get.elementCalculations(),
              callback = newCallback || settings.onOffScreen,
              callbackName = 'offScreen';

          if (newCallback) {
            module.debug('Adding callback for offScreen', newCallback);
            settings.onOffScreen = newCallback;
          }

          if (calculations.offScreen) {
            module.execute(callback, callbackName);
          } else if (!settings.once) {
            module.remove.occurred(callbackName);
          }

          if (newCallback !== undefined) {
            return calculations.onOffScreen;
          }
        },
        passing: function (newCallback) {
          var calculations = module.get.elementCalculations(),
              callback = newCallback || settings.onPassing,
              callbackName = 'passing';

          if (newCallback) {
            module.debug('Adding callback for passing', newCallback);
            settings.onPassing = newCallback;
          }

          if (calculations.passing) {
            module.execute(callback, callbackName);
          } else if (!settings.once) {
            module.remove.occurred(callbackName);
          }

          if (newCallback !== undefined) {
            return calculations.passing;
          }
        },
        topVisible: function (newCallback) {
          var calculations = module.get.elementCalculations(),
              callback = newCallback || settings.onTopVisible,
              callbackName = 'topVisible';

          if (newCallback) {
            module.debug('Adding callback for top visible', newCallback);
            settings.onTopVisible = newCallback;
          }

          if (calculations.topVisible) {
            module.execute(callback, callbackName);
          } else if (!settings.once) {
            module.remove.occurred(callbackName);
          }

          if (newCallback === undefined) {
            return calculations.topVisible;
          }
        },
        bottomVisible: function (newCallback) {
          var calculations = module.get.elementCalculations(),
              callback = newCallback || settings.onBottomVisible,
              callbackName = 'bottomVisible';

          if (newCallback) {
            module.debug('Adding callback for bottom visible', newCallback);
            settings.onBottomVisible = newCallback;
          }

          if (calculations.bottomVisible) {
            module.execute(callback, callbackName);
          } else if (!settings.once) {
            module.remove.occurred(callbackName);
          }

          if (newCallback === undefined) {
            return calculations.bottomVisible;
          }
        },
        topPassed: function (newCallback) {
          var calculations = module.get.elementCalculations(),
              callback = newCallback || settings.onTopPassed,
              callbackName = 'topPassed';

          if (newCallback) {
            module.debug('Adding callback for top passed', newCallback);
            settings.onTopPassed = newCallback;
          }

          if (calculations.topPassed) {
            module.execute(callback, callbackName);
          } else if (!settings.once) {
            module.remove.occurred(callbackName);
          }

          if (newCallback === undefined) {
            return calculations.topPassed;
          }
        },
        bottomPassed: function (newCallback) {
          var calculations = module.get.elementCalculations(),
              callback = newCallback || settings.onBottomPassed,
              callbackName = 'bottomPassed';

          if (newCallback) {
            module.debug('Adding callback for bottom passed', newCallback);
            settings.onBottomPassed = newCallback;
          }

          if (calculations.bottomPassed) {
            module.execute(callback, callbackName);
          } else if (!settings.once) {
            module.remove.occurred(callbackName);
          }

          if (newCallback === undefined) {
            return calculations.bottomPassed;
          }
        },
        passingReverse: function (newCallback) {
          var calculations = module.get.elementCalculations(),
              callback = newCallback || settings.onPassingReverse,
              callbackName = 'passingReverse';

          if (newCallback) {
            module.debug('Adding callback for passing reverse', newCallback);
            settings.onPassingReverse = newCallback;
          }

          if (!calculations.passing) {
            if (module.get.occurred('passing')) {
              module.execute(callback, callbackName);
            }
          } else if (!settings.once) {
            module.remove.occurred(callbackName);
          }

          if (newCallback !== undefined) {
            return !calculations.passing;
          }
        },
        topVisibleReverse: function (newCallback) {
          var calculations = module.get.elementCalculations(),
              callback = newCallback || settings.onTopVisibleReverse,
              callbackName = 'topVisibleReverse';

          if (newCallback) {
            module.debug('Adding callback for top visible reverse', newCallback);
            settings.onTopVisibleReverse = newCallback;
          }

          if (!calculations.topVisible) {
            if (module.get.occurred('topVisible')) {
              module.execute(callback, callbackName);
            }
          } else if (!settings.once) {
            module.remove.occurred(callbackName);
          }

          if (newCallback === undefined) {
            return !calculations.topVisible;
          }
        },
        bottomVisibleReverse: function (newCallback) {
          var calculations = module.get.elementCalculations(),
              callback = newCallback || settings.onBottomVisibleReverse,
              callbackName = 'bottomVisibleReverse';

          if (newCallback) {
            module.debug('Adding callback for bottom visible reverse', newCallback);
            settings.onBottomVisibleReverse = newCallback;
          }

          if (!calculations.bottomVisible) {
            if (module.get.occurred('bottomVisible')) {
              module.execute(callback, callbackName);
            }
          } else if (!settings.once) {
            module.remove.occurred(callbackName);
          }

          if (newCallback === undefined) {
            return !calculations.bottomVisible;
          }
        },
        topPassedReverse: function (newCallback) {
          var calculations = module.get.elementCalculations(),
              callback = newCallback || settings.onTopPassedReverse,
              callbackName = 'topPassedReverse';

          if (newCallback) {
            module.debug('Adding callback for top passed reverse', newCallback);
            settings.onTopPassedReverse = newCallback;
          }

          if (!calculations.topPassed) {
            if (module.get.occurred('topPassed')) {
              module.execute(callback, callbackName);
            }
          } else if (!settings.once) {
            module.remove.occurred(callbackName);
          }

          if (newCallback === undefined) {
            return !calculations.onTopPassed;
          }
        },
        bottomPassedReverse: function (newCallback) {
          var calculations = module.get.elementCalculations(),
              callback = newCallback || settings.onBottomPassedReverse,
              callbackName = 'bottomPassedReverse';

          if (newCallback) {
            module.debug('Adding callback for bottom passed reverse', newCallback);
            settings.onBottomPassedReverse = newCallback;
          }

          if (!calculations.bottomPassed) {
            if (module.get.occurred('bottomPassed')) {
              module.execute(callback, callbackName);
            }
          } else if (!settings.once) {
            module.remove.occurred(callbackName);
          }

          if (newCallback === undefined) {
            return !calculations.bottomPassed;
          }
        },
        execute: function (callback, callbackName) {
          var calculations = module.get.elementCalculations(),
              screen = module.get.screenCalculations();
          callback = callback || false;

          if (callback) {
            if (settings.continuous) {
              module.debug('Callback being called continuously', callbackName, calculations);
              callback.call(element, calculations, screen);
            } else if (!module.get.occurred(callbackName)) {
              module.debug('Conditions met', callbackName, calculations);
              callback.call(element, calculations, screen);
            }
          }

          module.save.occurred(callbackName);
        },
        remove: {
          fixed: function () {
            module.debug('Removing fixed position');
            $module.removeClass(className.fixed).css({
              position: '',
              top: '',
              left: '',
              zIndex: ''
            });
          },
          occurred: function (callback) {
            if (callback) {
              var occurred = module.cache.occurred;

              if (occurred[callback] !== undefined && occurred[callback] === true) {
                module.debug('Callback can now be called again', callback);
                module.cache.occurred[callback] = false;
              }
            } else {
              module.cache.occurred = {};
            }
          }
        },
        save: {
          calculations: function () {
            module.verbose('Saving all calculations necessary to determine positioning');
            module.save.direction();
            module.save.screenCalculations();
            module.save.elementCalculations();
          },
          occurred: function (callback) {
            if (callback) {
              if (module.cache.occurred[callback] === undefined || module.cache.occurred[callback] !== true) {
                module.verbose('Saving callback occurred', callback);
                module.cache.occurred[callback] = true;
              }
            }
          },
          scroll: function (scrollPosition) {
            scrollPosition = scrollPosition + settings.offset || $context.scrollTop() + settings.offset;
            module.cache.scroll = scrollPosition;
          },
          direction: function () {
            var scroll = module.get.scroll(),
                lastScroll = module.get.lastScroll(),
                direction;

            if (scroll > lastScroll && lastScroll) {
              direction = 'down';
            } else if (scroll < lastScroll && lastScroll) {
              direction = 'up';
            } else {
              direction = 'static';
            }

            module.cache.direction = direction;
            return module.cache.direction;
          },
          elementPosition: function () {
            var element = module.cache.element,
                screen = module.get.screenSize();
            module.verbose('Saving element position'); // (quicker than $.extend)

            element.fits = element.height < screen.height;
            element.offset = $module.offset();
            element.width = $module.outerWidth();
            element.height = $module.outerHeight(); // store

            module.cache.element = element;
            return element;
          },
          elementCalculations: function () {
            var screen = module.get.screenCalculations(),
                element = module.get.elementPosition(); // offset

            if (settings.includeMargin) {
              element.margin = {};
              element.margin.top = parseInt($module.css('margin-top'), 10);
              element.margin.bottom = parseInt($module.css('margin-bottom'), 10);
              element.top = element.offset.top - element.margin.top;
              element.bottom = element.offset.top + element.height + element.margin.bottom;
            } else {
              element.top = element.offset.top;
              element.bottom = element.offset.top + element.height;
            } // visibility


            element.topVisible = screen.bottom >= element.top;
            element.topPassed = screen.top >= element.top;
            element.bottomVisible = screen.bottom >= element.bottom;
            element.bottomPassed = screen.top >= element.bottom;
            element.pixelsPassed = 0;
            element.percentagePassed = 0; // meta calculations

            element.onScreen = element.topVisible && !element.bottomPassed;
            element.passing = element.topPassed && !element.bottomPassed;
            element.offScreen = !element.onScreen; // passing calculations

            if (element.passing) {
              element.pixelsPassed = screen.top - element.top;
              element.percentagePassed = (screen.top - element.top) / element.height;
            }

            module.cache.element = element;
            module.verbose('Updated element calculations', element);
            return element;
          },
          screenCalculations: function () {
            var scroll = module.get.scroll();
            module.save.direction();
            module.cache.screen.top = scroll;
            module.cache.screen.bottom = scroll + module.cache.screen.height;
            return module.cache.screen;
          },
          screenSize: function () {
            module.verbose('Saving window position');
            module.cache.screen = {
              height: $context.height()
            };
          },
          position: function () {
            module.save.screenSize();
            module.save.elementPosition();
          }
        },
        get: {
          pixelsPassed: function (amount) {
            var element = module.get.elementCalculations();

            if (amount.search('%') > -1) {
              return element.height * (parseInt(amount, 10) / 100);
            }

            return parseInt(amount, 10);
          },
          occurred: function (callback) {
            return module.cache.occurred !== undefined ? module.cache.occurred[callback] || false : false;
          },
          direction: function () {
            if (module.cache.direction === undefined) {
              module.save.direction();
            }

            return module.cache.direction;
          },
          elementPosition: function () {
            if (module.cache.element === undefined) {
              module.save.elementPosition();
            }

            return module.cache.element;
          },
          elementCalculations: function () {
            if (module.cache.element === undefined) {
              module.save.elementCalculations();
            }

            return module.cache.element;
          },
          screenCalculations: function () {
            if (module.cache.screen === undefined) {
              module.save.screenCalculations();
            }

            return module.cache.screen;
          },
          screenSize: function () {
            if (module.cache.screen === undefined) {
              module.save.screenSize();
            }

            return module.cache.screen;
          },
          scroll: function () {
            if (module.cache.scroll === undefined) {
              module.save.scroll();
            }

            return module.cache.scroll;
          },
          lastScroll: function () {
            if (module.cache.screen === undefined) {
              module.debug('First scroll event, no last scroll could be found');
              return false;
            }

            return module.cache.screen.top;
          }
        },
        setting: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                module.error(error.method, query);
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        instance.save.scroll();
        instance.save.calculations();
        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.visibility.settings = {
    name: 'Visibility',
    namespace: 'visibility',
    debug: false,
    verbose: false,
    performance: true,
    // whether to use mutation observers to follow changes
    observeChanges: true,
    // check position immediately on init
    initialCheck: true,
    // whether to refresh calculations after all page images load
    refreshOnLoad: true,
    // whether to refresh calculations after page resize event
    refreshOnResize: true,
    // should call callbacks on refresh event (resize, etc)
    checkOnRefresh: true,
    // callback should only occur one time
    once: true,
    // callback should fire continuously whe evaluates to true
    continuous: false,
    // offset to use with scroll top
    offset: 0,
    // whether to include margin in elements position
    includeMargin: false,
    // scroll context for visibility checks
    context: window,
    // visibility check delay in ms (defaults to animationFrame)
    throttle: false,
    // special visibility type (image, fixed)
    type: false,
    // image only animation settings
    transition: 'fade in',
    duration: 1000,
    // array of callbacks for percentage
    onPassed: {},
    // standard callbacks
    onOnScreen: false,
    onOffScreen: false,
    onPassing: false,
    onTopVisible: false,
    onBottomVisible: false,
    onTopPassed: false,
    onBottomPassed: false,
    // reverse callbacks
    onPassingReverse: false,
    onTopVisibleReverse: false,
    onBottomVisibleReverse: false,
    onTopPassedReverse: false,
    onBottomPassedReverse: false,
    // utility callbacks
    onUpdate: false,
    // disabled by default for performance
    onRefresh: function () {},
    metadata: {
      src: 'src'
    },
    className: {
      fixed: 'fixed',
      placeholder: 'placeholder'
    },
    error: {
      method: 'The method you called is not defined.',
      visible: 'Element is hidden, you must call refresh after element becomes visible'
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"visit.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/behaviors/visit.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Visit
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.visit = $.fn.visit = function (parameters) {
    var $allModules = $.isFunction(this) ? $(window) : $(this),
        moduleSelector = $allModules.selector || '',
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        returnedValue;
    $allModules.each(function () {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.visit.settings, parameters) : $.extend({}, $.fn.visit.settings),
          error = settings.error,
          namespace = settings.namespace,
          eventNamespace = '.' + namespace,
          moduleNamespace = namespace + '-module',
          $module = $(this),
          $displays = $(),
          element = this,
          instance = $module.data(moduleNamespace),
          module;
      module = {
        initialize: function () {
          if (settings.count) {
            module.store(settings.key.count, settings.count);
          } else if (settings.id) {
            module.add.id(settings.id);
          } else if (settings.increment && methodInvoked !== 'increment') {
            module.increment();
          }

          module.add.display($module);
          module.instantiate();
        },
        instantiate: function () {
          module.verbose('Storing instance of visit module', module);
          instance = module;
          $module.data(moduleNamespace, module);
        },
        destroy: function () {
          module.verbose('Destroying instance');
          $module.removeData(moduleNamespace);
        },
        increment: function (id) {
          var currentValue = module.get.count(),
              newValue = +currentValue + 1;

          if (id) {
            module.add.id(id);
          } else {
            if (newValue > settings.limit && !settings.surpass) {
              newValue = settings.limit;
            }

            module.debug('Incrementing visits', newValue);
            module.store(settings.key.count, newValue);
          }
        },
        decrement: function (id) {
          var currentValue = module.get.count(),
              newValue = +currentValue - 1;

          if (id) {
            module.remove.id(id);
          } else {
            module.debug('Removing visit');
            module.store(settings.key.count, newValue);
          }
        },
        get: {
          count: function () {
            return +module.retrieve(settings.key.count) || 0;
          },
          idCount: function (ids) {
            ids = ids || module.get.ids();
            return ids.length;
          },
          ids: function (delimitedIDs) {
            var idArray = [];
            delimitedIDs = delimitedIDs || module.retrieve(settings.key.ids);

            if (typeof delimitedIDs === 'string') {
              idArray = delimitedIDs.split(settings.delimiter);
            }

            module.verbose('Found visited ID list', idArray);
            return idArray;
          },
          storageOptions: function (data) {
            var options = {};

            if (settings.expires) {
              options.expires = settings.expires;
            }

            if (settings.domain) {
              options.domain = settings.domain;
            }

            if (settings.path) {
              options.path = settings.path;
            }

            return options;
          }
        },
        has: {
          visited: function (id, ids) {
            var visited = false;
            ids = ids || module.get.ids();

            if (id !== undefined && ids) {
              $.each(ids, function (index, value) {
                if (value == id) {
                  visited = true;
                }
              });
            }

            return visited;
          }
        },
        set: {
          count: function (value) {
            module.store(settings.key.count, value);
          },
          ids: function (value) {
            module.store(settings.key.ids, value);
          }
        },
        reset: function () {
          module.store(settings.key.count, 0);
          module.store(settings.key.ids, null);
        },
        add: {
          id: function (id) {
            var currentIDs = module.retrieve(settings.key.ids),
                newIDs = currentIDs === undefined || currentIDs === '' ? id : currentIDs + settings.delimiter + id;

            if (module.has.visited(id)) {
              module.debug('Unique content already visited, not adding visit', id, currentIDs);
            } else if (id === undefined) {
              module.debug('ID is not defined');
            } else {
              module.debug('Adding visit to unique content', id);
              module.store(settings.key.ids, newIDs);
            }

            module.set.count(module.get.idCount());
          },
          display: function (selector) {
            var $element = $(selector);

            if ($element.length > 0 && !$.isWindow($element[0])) {
              module.debug('Updating visit count for element', $element);
              $displays = $displays.length > 0 ? $displays.add($element) : $element;
            }
          }
        },
        remove: {
          id: function (id) {
            var currentIDs = module.get.ids(),
                newIDs = [];

            if (id !== undefined && currentIDs !== undefined) {
              module.debug('Removing visit to unique content', id, currentIDs);
              $.each(currentIDs, function (index, value) {
                if (value !== id) {
                  newIDs.push(value);
                }
              });
              newIDs = newIDs.join(settings.delimiter);
              module.store(settings.key.ids, newIDs);
            }

            module.set.count(module.get.idCount());
          }
        },
        check: {
          limit: function (value) {
            value = value || module.get.count();

            if (settings.limit) {
              if (value >= settings.limit) {
                module.debug('Pages viewed exceeded limit, firing callback', value, settings.limit);
                settings.onLimit.call(element, value);
              }

              module.debug('Limit not reached', value, settings.limit);
              settings.onChange.call(element, value);
            }

            module.update.display(value);
          }
        },
        update: {
          display: function (value) {
            value = value || module.get.count();

            if ($displays.length > 0) {
              module.debug('Updating displayed view count', $displays);
              $displays.html(value);
            }
          }
        },
        store: function (key, value) {
          var options = module.get.storageOptions(value);

          if (settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {
            window.localStorage.setItem(key, value);
            module.debug('Value stored using local storage', key, value);
          } else if ($.cookie !== undefined) {
            $.cookie(key, value, options);
            module.debug('Value stored using cookie', key, value, options);
          } else {
            module.error(error.noCookieStorage);
            return;
          }

          if (key == settings.key.count) {
            module.check.limit(value);
          }
        },
        retrieve: function (key, value) {
          var storedValue;

          if (settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {
            storedValue = window.localStorage.getItem(key);
          } // get by cookie
          else if ($.cookie !== undefined) {
              storedValue = $.cookie(key);
            } else {
              module.error(error.noCookieStorage);
            }

          if (storedValue == 'undefined' || storedValue == 'null' || storedValue === undefined || storedValue === null) {
            storedValue = undefined;
          }

          return storedValue;
        },
        setting: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          module.debug('Changing internal', name, value);

          if (value !== undefined) {
            if ($.isPlainObject(name)) {
              $.extend(true, module, name);
            } else {
              module[name] = value;
            }
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ($allModules.length > 1) {
              title += ' ' + '(' + $allModules.length + ')';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.visit.settings = {
    name: 'Visit',
    debug: false,
    verbose: false,
    performance: true,
    namespace: 'visit',
    increment: false,
    surpass: false,
    count: false,
    limit: false,
    delimiter: '&',
    storageMethod: 'localstorage',
    key: {
      count: 'visit-count',
      ids: 'visit-ids'
    },
    expires: 30,
    domain: false,
    path: '/',
    onLimit: function () {},
    onChange: function () {},
    error: {
      method: 'The method you called is not defined',
      missingPersist: 'Using the persist setting requires the inclusion of PersistJS',
      noCookieStorage: 'The default storage cookie requires $.cookie to be included.'
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"globals":{"site.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/globals/site.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Site
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  $.site = $.fn.site = function (parameters) {
    var time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.site.settings, parameters) : $.extend({}, $.site.settings),
        namespace = settings.namespace,
        error = settings.error,
        eventNamespace = '.' + namespace,
        moduleNamespace = 'module-' + namespace,
        $document = $(document),
        $module = $document,
        element = this,
        instance = $module.data(moduleNamespace),
        module,
        returnedValue;
    module = {
      initialize: function () {
        module.instantiate();
      },
      instantiate: function () {
        module.verbose('Storing instance of site', module);
        instance = module;
        $module.data(moduleNamespace, module);
      },
      normalize: function () {
        module.fix.console();
        module.fix.requestAnimationFrame();
      },
      fix: {
        console: function () {
          module.debug('Normalizing window.console');

          if (console === undefined || console.log === undefined) {
            module.verbose('Console not available, normalizing events');
            module.disable.console();
          }

          if (typeof console.group == 'undefined' || typeof console.groupEnd == 'undefined' || typeof console.groupCollapsed == 'undefined') {
            module.verbose('Console group not available, normalizing events');

            window.console.group = function () {};

            window.console.groupEnd = function () {};

            window.console.groupCollapsed = function () {};
          }

          if (typeof console.markTimeline == 'undefined') {
            module.verbose('Mark timeline not available, normalizing events');

            window.console.markTimeline = function () {};
          }
        },
        consoleClear: function () {
          module.debug('Disabling programmatic console clearing');

          window.console.clear = function () {};
        },
        requestAnimationFrame: function () {
          module.debug('Normalizing requestAnimationFrame');

          if (window.requestAnimationFrame === undefined) {
            module.debug('RequestAnimationFrame not available, normalizing event');

            window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
              setTimeout(callback, 0);
            };
          }
        }
      },
      moduleExists: function (name) {
        return $.fn[name] !== undefined && $.fn[name].settings !== undefined;
      },
      enabled: {
        modules: function (modules) {
          var enabledModules = [];
          modules = modules || settings.modules;
          $.each(modules, function (index, name) {
            if (module.moduleExists(name)) {
              enabledModules.push(name);
            }
          });
          return enabledModules;
        }
      },
      disabled: {
        modules: function (modules) {
          var disabledModules = [];
          modules = modules || settings.modules;
          $.each(modules, function (index, name) {
            if (!module.moduleExists(name)) {
              disabledModules.push(name);
            }
          });
          return disabledModules;
        }
      },
      change: {
        setting: function (setting, value, modules, modifyExisting) {
          modules = typeof modules === 'string' ? modules === 'all' ? settings.modules : [modules] : modules || settings.modules;
          modifyExisting = modifyExisting !== undefined ? modifyExisting : true;
          $.each(modules, function (index, name) {
            var namespace = module.moduleExists(name) ? $.fn[name].settings.namespace || false : true,
                $existingModules;

            if (module.moduleExists(name)) {
              module.verbose('Changing default setting', setting, value, name);
              $.fn[name].settings[setting] = value;

              if (modifyExisting && namespace) {
                $existingModules = $(':data(module-' + namespace + ')');

                if ($existingModules.length > 0) {
                  module.verbose('Modifying existing settings', $existingModules);
                  $existingModules[name]('setting', setting, value);
                }
              }
            }
          });
        },
        settings: function (newSettings, modules, modifyExisting) {
          modules = typeof modules === 'string' ? [modules] : modules || settings.modules;
          modifyExisting = modifyExisting !== undefined ? modifyExisting : true;
          $.each(modules, function (index, name) {
            var $existingModules;

            if (module.moduleExists(name)) {
              module.verbose('Changing default setting', newSettings, name);
              $.extend(true, $.fn[name].settings, newSettings);

              if (modifyExisting && namespace) {
                $existingModules = $(':data(module-' + namespace + ')');

                if ($existingModules.length > 0) {
                  module.verbose('Modifying existing settings', $existingModules);
                  $existingModules[name]('setting', newSettings);
                }
              }
            }
          });
        }
      },
      enable: {
        console: function () {
          module.console(true);
        },
        debug: function (modules, modifyExisting) {
          modules = modules || settings.modules;
          module.debug('Enabling debug for modules', modules);
          module.change.setting('debug', true, modules, modifyExisting);
        },
        verbose: function (modules, modifyExisting) {
          modules = modules || settings.modules;
          module.debug('Enabling verbose debug for modules', modules);
          module.change.setting('verbose', true, modules, modifyExisting);
        }
      },
      disable: {
        console: function () {
          module.console(false);
        },
        debug: function (modules, modifyExisting) {
          modules = modules || settings.modules;
          module.debug('Disabling debug for modules', modules);
          module.change.setting('debug', false, modules, modifyExisting);
        },
        verbose: function (modules, modifyExisting) {
          modules = modules || settings.modules;
          module.debug('Disabling verbose debug for modules', modules);
          module.change.setting('verbose', false, modules, modifyExisting);
        }
      },
      console: function (enable) {
        if (enable) {
          if (instance.cache.console === undefined) {
            module.error(error.console);
            return;
          }

          module.debug('Restoring console function');
          window.console = instance.cache.console;
        } else {
          module.debug('Disabling console function');
          instance.cache.console = window.console;
          window.console = {
            clear: function () {},
            error: function () {},
            group: function () {},
            groupCollapsed: function () {},
            groupEnd: function () {},
            info: function () {},
            log: function () {},
            markTimeline: function () {},
            warn: function () {}
          };
        }
      },
      destroy: function () {
        module.verbose('Destroying previous site for', $module);
        $module.removeData(moduleNamespace);
      },
      cache: {},
      setting: function (name, value) {
        if ($.isPlainObject(name)) {
          $.extend(true, settings, name);
        } else if (value !== undefined) {
          settings[name] = value;
        } else {
          return settings[name];
        }
      },
      internal: function (name, value) {
        if ($.isPlainObject(name)) {
          $.extend(true, module, name);
        } else if (value !== undefined) {
          module[name] = value;
        } else {
          return module[name];
        }
      },
      debug: function () {
        if (settings.debug) {
          if (settings.performance) {
            module.performance.log(arguments);
          } else {
            module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
            module.debug.apply(console, arguments);
          }
        }
      },
      verbose: function () {
        if (settings.verbose && settings.debug) {
          if (settings.performance) {
            module.performance.log(arguments);
          } else {
            module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
            module.verbose.apply(console, arguments);
          }
        }
      },
      error: function () {
        module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
        module.error.apply(console, arguments);
      },
      performance: {
        log: function (message) {
          var currentTime, executionTime, previousTime;

          if (settings.performance) {
            currentTime = new Date().getTime();
            previousTime = time || currentTime;
            executionTime = currentTime - previousTime;
            time = currentTime;
            performance.push({
              'Element': element,
              'Name': message[0],
              'Arguments': [].slice.call(message, 1) || '',
              'Execution Time': executionTime
            });
          }

          clearTimeout(module.performance.timer);
          module.performance.timer = setTimeout(module.performance.display, 500);
        },
        display: function () {
          var title = settings.name + ':',
              totalTime = 0;
          time = false;
          clearTimeout(module.performance.timer);
          $.each(performance, function (index, data) {
            totalTime += data['Execution Time'];
          });
          title += ' ' + totalTime + 'ms';

          if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
            console.groupCollapsed(title);

            if (console.table) {
              console.table(performance);
            } else {
              $.each(performance, function (index, data) {
                console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
              });
            }

            console.groupEnd();
          }

          performance = [];
        }
      },
      invoke: function (query, passedArguments, context) {
        var object = instance,
            maxDepth,
            found,
            response;
        passedArguments = passedArguments || queryArguments;
        context = element || context;

        if (typeof query == 'string' && object !== undefined) {
          query = query.split(/[\. ]/);
          maxDepth = query.length - 1;
          $.each(query, function (depth, value) {
            var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

            if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
              object = object[camelCaseValue];
            } else if (object[camelCaseValue] !== undefined) {
              found = object[camelCaseValue];
              return false;
            } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
              object = object[value];
            } else if (object[value] !== undefined) {
              found = object[value];
              return false;
            } else {
              module.error(error.method, query);
              return false;
            }
          });
        }

        if ($.isFunction(found)) {
          response = found.apply(context, passedArguments);
        } else if (found !== undefined) {
          response = found;
        }

        if ($.isArray(returnedValue)) {
          returnedValue.push(response);
        } else if (returnedValue !== undefined) {
          returnedValue = [returnedValue, response];
        } else if (response !== undefined) {
          returnedValue = response;
        }

        return found;
      }
    };

    if (methodInvoked) {
      if (instance === undefined) {
        module.initialize();
      }

      module.invoke(query);
    } else {
      if (instance !== undefined) {
        module.destroy();
      }

      module.initialize();
    }

    return returnedValue !== undefined ? returnedValue : this;
  };

  $.site.settings = {
    name: 'Site',
    namespace: 'site',
    error: {
      console: 'Console cannot be restored, most likely it was overwritten outside of module',
      method: 'The method you called is not defined.'
    },
    debug: false,
    verbose: false,
    performance: true,
    modules: ['accordion', 'api', 'checkbox', 'dimmer', 'dropdown', 'embed', 'form', 'modal', 'nag', 'popup', 'rating', 'shape', 'sidebar', 'state', 'sticky', 'tab', 'transition', 'visit', 'visibility'],
    siteNamespace: 'site',
    namespaceStub: {
      cache: {},
      config: {},
      sections: {},
      section: {},
      utilities: {}
    }
  }; // allows for selection of elements with data attributes

  $.extend($.expr[":"], {
    data: $.expr.createPseudo ? $.expr.createPseudo(function (dataName) {
      return function (elem) {
        return !!$.data(elem, dataName);
      };
    }) : function (elem, i, match) {
      // support: jQuery < 1.8
      return !!$.data(elem, match[3]);
    }
  });
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modules":{"accordion.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/modules/accordion.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Accordion
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.accordion = function (parameters) {
    var $allModules = $(this),
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
      setTimeout(callback, 0);
    },
        returnedValue;

    $allModules.each(function () {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.accordion.settings, parameters) : $.extend({}, $.fn.accordion.settings),
          className = settings.className,
          namespace = settings.namespace,
          selector = settings.selector,
          error = settings.error,
          eventNamespace = '.' + namespace,
          moduleNamespace = 'module-' + namespace,
          moduleSelector = $allModules.selector || '',
          $module = $(this),
          $title = $module.find(selector.title),
          $content = $module.find(selector.content),
          element = this,
          instance = $module.data(moduleNamespace),
          observer,
          module;
      module = {
        initialize: function () {
          module.debug('Initializing', $module);
          module.bind.events();

          if (settings.observeChanges) {
            module.observeChanges();
          }

          module.instantiate();
        },
        instantiate: function () {
          instance = module;
          $module.data(moduleNamespace, module);
        },
        destroy: function () {
          module.debug('Destroying previous instance', $module);
          $module.off(eventNamespace).removeData(moduleNamespace);
        },
        refresh: function () {
          $title = $module.find(selector.title);
          $content = $module.find(selector.content);
        },
        observeChanges: function () {
          if ('MutationObserver' in window) {
            observer = new MutationObserver(function (mutations) {
              module.debug('DOM tree modified, updating selector cache');
              module.refresh();
            });
            observer.observe(element, {
              childList: true,
              subtree: true
            });
            module.debug('Setting up mutation observer', observer);
          }
        },
        bind: {
          events: function () {
            module.debug('Binding delegated events');
            $module.on(settings.on + eventNamespace, selector.trigger, module.event.click);
          }
        },
        event: {
          click: function () {
            module.toggle.call(this);
          }
        },
        toggle: function (query) {
          var $activeTitle = query !== undefined ? typeof query === 'number' ? $title.eq(query) : $(query).closest(selector.title) : $(this).closest(selector.title),
              $activeContent = $activeTitle.next($content),
              isAnimating = $activeContent.hasClass(className.animating),
              isActive = $activeContent.hasClass(className.active),
              isOpen = isActive && !isAnimating,
              isOpening = !isActive && isAnimating;
          module.debug('Toggling visibility of content', $activeTitle);

          if (isOpen || isOpening) {
            if (settings.collapsible) {
              module.close.call($activeTitle);
            } else {
              module.debug('Cannot close accordion content collapsing is disabled');
            }
          } else {
            module.open.call($activeTitle);
          }
        },
        open: function (query) {
          var $activeTitle = query !== undefined ? typeof query === 'number' ? $title.eq(query) : $(query).closest(selector.title) : $(this).closest(selector.title),
              $activeContent = $activeTitle.next($content),
              isAnimating = $activeContent.hasClass(className.animating),
              isActive = $activeContent.hasClass(className.active),
              isOpen = isActive || isAnimating;

          if (isOpen) {
            module.debug('Accordion already open, skipping', $activeContent);
            return;
          }

          module.debug('Opening accordion content', $activeTitle);
          settings.onOpening.call($activeContent);

          if (settings.exclusive) {
            module.closeOthers.call($activeTitle);
          }

          $activeTitle.addClass(className.active);
          $activeContent.stop(true, true).addClass(className.animating);

          if (settings.animateChildren) {
            if ($.fn.transition !== undefined && $module.transition('is supported')) {
              $activeContent.children().transition({
                animation: 'fade in',
                queue: false,
                useFailSafe: true,
                debug: settings.debug,
                verbose: settings.verbose,
                duration: settings.duration
              });
            } else {
              $activeContent.children().stop(true, true).animate({
                opacity: 1
              }, settings.duration, module.resetOpacity);
            }
          }

          $activeContent.slideDown(settings.duration, settings.easing, function () {
            $activeContent.removeClass(className.animating).addClass(className.active);
            module.reset.display.call(this);
            settings.onOpen.call(this);
            settings.onChange.call(this);
          });
        },
        close: function (query) {
          var $activeTitle = query !== undefined ? typeof query === 'number' ? $title.eq(query) : $(query).closest(selector.title) : $(this).closest(selector.title),
              $activeContent = $activeTitle.next($content),
              isAnimating = $activeContent.hasClass(className.animating),
              isActive = $activeContent.hasClass(className.active),
              isOpening = !isActive && isAnimating,
              isClosing = isActive && isAnimating;

          if ((isActive || isOpening) && !isClosing) {
            module.debug('Closing accordion content', $activeContent);
            settings.onClosing.call($activeContent);
            $activeTitle.removeClass(className.active);
            $activeContent.stop(true, true).addClass(className.animating);

            if (settings.animateChildren) {
              if ($.fn.transition !== undefined && $module.transition('is supported')) {
                $activeContent.children().transition({
                  animation: 'fade out',
                  queue: false,
                  useFailSafe: true,
                  debug: settings.debug,
                  verbose: settings.verbose,
                  duration: settings.duration
                });
              } else {
                $activeContent.children().stop(true, true).animate({
                  opacity: 0
                }, settings.duration, module.resetOpacity);
              }
            }

            $activeContent.slideUp(settings.duration, settings.easing, function () {
              $activeContent.removeClass(className.animating).removeClass(className.active);
              module.reset.display.call(this);
              settings.onClose.call(this);
              settings.onChange.call(this);
            });
          }
        },
        closeOthers: function (index) {
          var $activeTitle = index !== undefined ? $title.eq(index) : $(this).closest(selector.title),
              $parentTitles = $activeTitle.parents(selector.content).prev(selector.title),
              $activeAccordion = $activeTitle.closest(selector.accordion),
              activeSelector = selector.title + '.' + className.active + ':visible',
              activeContent = selector.content + '.' + className.active + ':visible',
              $openTitles,
              $nestedTitles,
              $openContents;

          if (settings.closeNested) {
            $openTitles = $activeAccordion.find(activeSelector).not($parentTitles);
            $openContents = $openTitles.next($content);
          } else {
            $openTitles = $activeAccordion.find(activeSelector).not($parentTitles);
            $nestedTitles = $activeAccordion.find(activeContent).find(activeSelector).not($parentTitles);
            $openTitles = $openTitles.not($nestedTitles);
            $openContents = $openTitles.next($content);
          }

          if ($openTitles.length > 0) {
            module.debug('Exclusive enabled, closing other content', $openTitles);
            $openTitles.removeClass(className.active);
            $openContents.removeClass(className.animating).stop(true, true);

            if (settings.animateChildren) {
              if ($.fn.transition !== undefined && $module.transition('is supported')) {
                $openContents.children().transition({
                  animation: 'fade out',
                  useFailSafe: true,
                  debug: settings.debug,
                  verbose: settings.verbose,
                  duration: settings.duration
                });
              } else {
                $openContents.children().stop(true, true).animate({
                  opacity: 0
                }, settings.duration, module.resetOpacity);
              }
            }

            $openContents.slideUp(settings.duration, settings.easing, function () {
              $(this).removeClass(className.active);
              module.reset.display.call(this);
            });
          }
        },
        reset: {
          display: function () {
            module.verbose('Removing inline display from element', this);
            $(this).css('display', '');

            if ($(this).attr('style') === '') {
              $(this).attr('style', '').removeAttr('style');
            }
          },
          opacity: function () {
            module.verbose('Removing inline opacity from element', this);
            $(this).css('opacity', '');

            if ($(this).attr('style') === '') {
              $(this).attr('style', '').removeAttr('style');
            }
          }
        },
        setting: function (name, value) {
          module.debug('Changing setting', name, value);

          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          module.debug('Changing internal', name, value);

          if (value !== undefined) {
            if ($.isPlainObject(name)) {
              $.extend(true, module, name);
            } else {
              module[name] = value;
            }
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                module.error(error.method, query);
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.accordion.settings = {
    name: 'Accordion',
    namespace: 'accordion',
    debug: false,
    verbose: false,
    performance: true,
    on: 'click',
    // event on title that opens accordion
    observeChanges: true,
    // whether accordion should automatically refresh on DOM insertion
    exclusive: true,
    // whether a single accordion content panel should be open at once
    collapsible: true,
    // whether accordion content can be closed
    closeNested: false,
    // whether nested content should be closed when a panel is closed
    animateChildren: true,
    // whether children opacity should be animated
    duration: 350,
    // duration of animation
    easing: 'easeOutQuad',
    // easing equation for animation
    onOpening: function () {},
    // callback before open animation
    onOpen: function () {},
    // callback after open animation
    onClosing: function () {},
    // callback before closing animation
    onClose: function () {},
    // callback after closing animation
    onChange: function () {},
    // callback after closing or opening animation
    error: {
      method: 'The method you called is not defined'
    },
    className: {
      active: 'active',
      animating: 'animating'
    },
    selector: {
      accordion: '.accordion',
      title: '.title',
      trigger: '.title',
      content: '.content'
    }
  }; // Adds easing

  $.extend($.easing, {
    easeOutQuad: function (x, t, b, c, d) {
      return -c * (t /= d) * (t - 2) + b;
    }
  });
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"checkbox.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/modules/checkbox.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Checkbox
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.checkbox = function (parameters) {
    var $allModules = $(this),
        moduleSelector = $allModules.selector || '',
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        returnedValue;
    $allModules.each(function () {
      var settings = $.extend(true, {}, $.fn.checkbox.settings, parameters),
          className = settings.className,
          namespace = settings.namespace,
          selector = settings.selector,
          error = settings.error,
          eventNamespace = '.' + namespace,
          moduleNamespace = 'module-' + namespace,
          $module = $(this),
          $label = $(this).children(selector.label),
          $input = $(this).children(selector.input),
          input = $input[0],
          initialLoad = false,
          shortcutPressed = false,
          instance = $module.data(moduleNamespace),
          observer,
          element = this,
          module;
      module = {
        initialize: function () {
          module.verbose('Initializing checkbox', settings);
          module.create.label();
          module.bind.events();
          module.set.tabbable();
          module.hide.input();
          module.observeChanges();
          module.instantiate();
          module.setup();
        },
        instantiate: function () {
          module.verbose('Storing instance of module', module);
          instance = module;
          $module.data(moduleNamespace, module);
        },
        destroy: function () {
          module.verbose('Destroying module');
          module.unbind.events();
          module.show.input();
          $module.removeData(moduleNamespace);
        },
        fix: {
          reference: function () {
            if ($module.is(selector.input)) {
              module.debug('Behavior called on <input> adjusting invoked element');
              $module = $module.closest(selector.checkbox);
              module.refresh();
            }
          }
        },
        setup: function () {
          module.set.initialLoad();

          if (module.is.indeterminate()) {
            module.debug('Initial value is indeterminate');
            module.indeterminate();
          } else if (module.is.checked()) {
            module.debug('Initial value is checked');
            module.check();
          } else {
            module.debug('Initial value is unchecked');
            module.uncheck();
          }

          module.remove.initialLoad();
        },
        refresh: function () {
          $label = $module.children(selector.label);
          $input = $module.children(selector.input);
          input = $input[0];
        },
        hide: {
          input: function () {
            module.verbose('Modfying <input> z-index to be unselectable');
            $input.addClass(className.hidden);
          }
        },
        show: {
          input: function () {
            module.verbose('Modfying <input> z-index to be selectable');
            $input.removeClass(className.hidden);
          }
        },
        observeChanges: function () {
          if ('MutationObserver' in window) {
            observer = new MutationObserver(function (mutations) {
              module.debug('DOM tree modified, updating selector cache');
              module.refresh();
            });
            observer.observe(element, {
              childList: true,
              subtree: true
            });
            module.debug('Setting up mutation observer', observer);
          }
        },
        attachEvents: function (selector, event) {
          var $element = $(selector);
          event = $.isFunction(module[event]) ? module[event] : module.toggle;

          if ($element.length > 0) {
            module.debug('Attaching checkbox events to element', selector, event);
            $element.on('click' + eventNamespace, event);
          } else {
            module.error(error.notFound);
          }
        },
        event: {
          click: function (event) {
            var $target = $(event.target);

            if ($target.is(selector.input)) {
              module.verbose('Using default check action on initialized checkbox');
              return;
            }

            if ($target.is(selector.link)) {
              module.debug('Clicking link inside checkbox, skipping toggle');
              return;
            }

            module.toggle();
            $input.focus();
            event.preventDefault();
          },
          keydown: function (event) {
            var key = event.which,
                keyCode = {
              enter: 13,
              space: 32,
              escape: 27
            };

            if (key == keyCode.escape) {
              module.verbose('Escape key pressed blurring field');
              $input.blur();
              shortcutPressed = true;
            } else if (!event.ctrlKey && (key == keyCode.space || key == keyCode.enter)) {
              module.verbose('Enter/space key pressed, toggling checkbox');
              module.toggle();
              shortcutPressed = true;
            } else {
              shortcutPressed = false;
            }
          },
          keyup: function (event) {
            if (shortcutPressed) {
              event.preventDefault();
            }
          }
        },
        check: function () {
          if (!module.should.allowCheck()) {
            return;
          }

          module.debug('Checking checkbox', $input);
          module.set.checked();

          if (!module.should.ignoreCallbacks()) {
            settings.onChecked.call(input);
            settings.onChange.call(input);
          }
        },
        uncheck: function () {
          if (!module.should.allowUncheck()) {
            return;
          }

          module.debug('Unchecking checkbox');
          module.set.unchecked();

          if (!module.should.ignoreCallbacks()) {
            settings.onUnchecked.call(input);
            settings.onChange.call(input);
          }
        },
        indeterminate: function () {
          if (module.should.allowIndeterminate()) {
            module.debug('Checkbox is already indeterminate');
            return;
          }

          module.debug('Making checkbox indeterminate');
          module.set.indeterminate();

          if (!module.should.ignoreCallbacks()) {
            settings.onIndeterminate.call(input);
            settings.onChange.call(input);
          }
        },
        determinate: function () {
          if (module.should.allowDeterminate()) {
            module.debug('Checkbox is already determinate');
            return;
          }

          module.debug('Making checkbox determinate');
          module.set.determinate();

          if (!module.should.ignoreCallbacks()) {
            settings.onDeterminate.call(input);
            settings.onChange.call(input);
          }
        },
        enable: function () {
          if (module.is.enabled()) {
            module.debug('Checkbox is already enabled');
            return;
          }

          module.debug('Enabling checkbox');
          module.set.enabled();
          settings.onEnabled.call(input);
        },
        disable: function () {
          if (module.is.disabled()) {
            module.debug('Checkbox is already disabled');
            return;
          }

          module.debug('Disabling checkbox');
          module.set.disabled();
          settings.onDisabled.call(input);
        },
        get: {
          radios: function () {
            var name = module.get.name();
            return $('input[name="' + name + '"]').closest(selector.checkbox);
          },
          otherRadios: function () {
            return module.get.radios().not($module);
          },
          name: function () {
            return $input.attr('name');
          }
        },
        is: {
          initialLoad: function () {
            return initialLoad;
          },
          radio: function () {
            return $input.hasClass(className.radio) || $input.attr('type') == 'radio';
          },
          indeterminate: function () {
            return $input.prop('indeterminate') !== undefined && $input.prop('indeterminate');
          },
          checked: function () {
            return $input.prop('checked') !== undefined && $input.prop('checked');
          },
          disabled: function () {
            return $input.prop('disabled') !== undefined && $input.prop('disabled');
          },
          enabled: function () {
            return !module.is.disabled();
          },
          determinate: function () {
            return !module.is.indeterminate();
          },
          unchecked: function () {
            return !module.is.checked();
          }
        },
        should: {
          allowCheck: function () {
            if (module.is.determinate() && module.is.checked() && !module.should.forceCallbacks()) {
              module.debug('Should not allow check, checkbox is already checked');
              return false;
            }

            if (settings.beforeChecked.apply(input) === false) {
              module.debug('Should not allow check, beforeChecked cancelled');
              return false;
            }

            return true;
          },
          allowUncheck: function () {
            if (module.is.determinate() && module.is.unchecked() && !module.should.forceCallbacks()) {
              module.debug('Should not allow uncheck, checkbox is already unchecked');
              return false;
            }

            if (settings.beforeUnchecked.apply(input) === false) {
              module.debug('Should not allow uncheck, beforeUnchecked cancelled');
              return false;
            }

            return true;
          },
          allowIndeterminate: function () {
            if (module.is.indeterminate() && !module.should.forceCallbacks()) {
              module.debug('Should not allow indeterminate, checkbox is already indeterminate');
              return false;
            }

            if (settings.beforeIndeterminate.apply(input) === false) {
              module.debug('Should not allow indeterminate, beforeIndeterminate cancelled');
              return false;
            }

            return true;
          },
          allowDeterminate: function () {
            if (module.is.determinate() && !module.should.forceCallbacks()) {
              module.debug('Should not allow determinate, checkbox is already determinate');
              return false;
            }

            if (settings.beforeDeterminate.apply(input) === false) {
              module.debug('Should not allow determinate, beforeDeterminate cancelled');
              return false;
            }

            return true;
          },
          forceCallbacks: function () {
            return module.is.initialLoad() && settings.fireOnInit;
          },
          ignoreCallbacks: function () {
            return initialLoad && !settings.fireOnInit;
          }
        },
        can: {
          change: function () {
            return !($module.hasClass(className.disabled) || $module.hasClass(className.readOnly) || $input.prop('disabled') || $input.prop('readonly'));
          },
          uncheck: function () {
            return typeof settings.uncheckable === 'boolean' ? settings.uncheckable : !module.is.radio();
          }
        },
        set: {
          initialLoad: function () {
            initialLoad = true;
          },
          checked: function () {
            module.verbose('Setting class to checked');
            $module.removeClass(className.indeterminate).addClass(className.checked);

            if (module.is.radio()) {
              module.uncheckOthers();
            }

            if (!module.is.indeterminate() && module.is.checked()) {
              module.debug('Input is already checked, skipping input property change');
              return;
            }

            module.verbose('Setting state to checked', input);
            $input.prop('indeterminate', false).prop('checked', true);
            module.trigger.change();
          },
          unchecked: function () {
            module.verbose('Removing checked class');
            $module.removeClass(className.indeterminate).removeClass(className.checked);

            if (!module.is.indeterminate() && module.is.unchecked()) {
              module.debug('Input is already unchecked');
              return;
            }

            module.debug('Setting state to unchecked');
            $input.prop('indeterminate', false).prop('checked', false);
            module.trigger.change();
          },
          indeterminate: function () {
            module.verbose('Setting class to indeterminate');
            $module.addClass(className.indeterminate);

            if (module.is.indeterminate()) {
              module.debug('Input is already indeterminate, skipping input property change');
              return;
            }

            module.debug('Setting state to indeterminate');
            $input.prop('indeterminate', true);
            module.trigger.change();
          },
          determinate: function () {
            module.verbose('Removing indeterminate class');
            $module.removeClass(className.indeterminate);

            if (module.is.determinate()) {
              module.debug('Input is already determinate, skipping input property change');
              return;
            }

            module.debug('Setting state to determinate');
            $input.prop('indeterminate', false);
          },
          disabled: function () {
            module.verbose('Setting class to disabled');
            $module.addClass(className.disabled);

            if (module.is.disabled()) {
              module.debug('Input is already disabled, skipping input property change');
              return;
            }

            module.debug('Setting state to disabled');
            $input.prop('disabled', 'disabled');
            module.trigger.change();
          },
          enabled: function () {
            module.verbose('Removing disabled class');
            $module.removeClass(className.disabled);

            if (module.is.enabled()) {
              module.debug('Input is already enabled, skipping input property change');
              return;
            }

            module.debug('Setting state to enabled');
            $input.prop('disabled', false);
            module.trigger.change();
          },
          tabbable: function () {
            module.verbose('Adding tabindex to checkbox');

            if ($input.attr('tabindex') === undefined) {
              $input.attr('tabindex', 0);
            }
          }
        },
        remove: {
          initialLoad: function () {
            initialLoad = false;
          }
        },
        trigger: {
          change: function () {
            var events = document.createEvent('HTMLEvents'),
                inputElement = $input[0];

            if (inputElement) {
              module.verbose('Triggering native change event');
              events.initEvent('change', true, false);
              inputElement.dispatchEvent(events);
            }
          }
        },
        create: {
          label: function () {
            if ($input.prevAll(selector.label).length > 0) {
              $input.prev(selector.label).detach().insertAfter($input);
              module.debug('Moving existing label', $label);
            } else if (!module.has.label()) {
              $label = $('<label>').insertAfter($input);
              module.debug('Creating label', $label);
            }
          }
        },
        has: {
          label: function () {
            return $label.length > 0;
          }
        },
        bind: {
          events: function () {
            module.verbose('Attaching checkbox events');
            $module.on('click' + eventNamespace, module.event.click).on('keydown' + eventNamespace, selector.input, module.event.keydown).on('keyup' + eventNamespace, selector.input, module.event.keyup);
          }
        },
        unbind: {
          events: function () {
            module.debug('Removing events');
            $module.off(eventNamespace);
          }
        },
        uncheckOthers: function () {
          var $radios = module.get.otherRadios();
          module.debug('Unchecking other radios', $radios);
          $radios.removeClass(className.checked);
        },
        toggle: function () {
          if (!module.can.change()) {
            if (!module.is.radio()) {
              module.debug('Checkbox is read-only or disabled, ignoring toggle');
            }

            return;
          }

          if (module.is.indeterminate() || module.is.unchecked()) {
            module.debug('Currently unchecked');
            module.check();
          } else if (module.is.checked() && module.can.uncheck()) {
            module.debug('Currently checked');
            module.uncheck();
          }
        },
        setting: function (name, value) {
          module.debug('Changing setting', name, value);

          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                module.error(error.method, query);
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.checkbox.settings = {
    name: 'Checkbox',
    namespace: 'checkbox',
    debug: false,
    verbose: true,
    performance: true,
    // delegated event context
    uncheckable: 'auto',
    fireOnInit: false,
    onChange: function () {},
    beforeChecked: function () {},
    beforeUnchecked: function () {},
    beforeDeterminate: function () {},
    beforeIndeterminate: function () {},
    onChecked: function () {},
    onUnchecked: function () {},
    onDeterminate: function () {},
    onIndeterminate: function () {},
    onEnable: function () {},
    onDisable: function () {},
    className: {
      checked: 'checked',
      indeterminate: 'indeterminate',
      disabled: 'disabled',
      hidden: 'hidden',
      radio: 'radio',
      readOnly: 'read-only'
    },
    error: {
      method: 'The method you called is not defined'
    },
    selector: {
      checkbox: '.ui.checkbox',
      label: 'label, .box',
      input: 'input[type="checkbox"], input[type="radio"]',
      link: 'a[href]'
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"dimmer.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/modules/dimmer.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));

/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Dimmer
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.dimmer = function (parameters) {
    var $allModules = $(this),
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        returnedValue;
    $allModules.each(function () {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.dimmer.settings, parameters) : $.extend({}, $.fn.dimmer.settings),
          selector = settings.selector,
          namespace = settings.namespace,
          className = settings.className,
          error = settings.error,
          eventNamespace = '.' + namespace,
          moduleNamespace = 'module-' + namespace,
          moduleSelector = $allModules.selector || '',
          clickEvent = 'ontouchstart' in document.documentElement ? 'touchstart' : 'click',
          $module = $(this),
          $dimmer,
          $dimmable,
          element = this,
          instance = $module.data(moduleNamespace),
          module;
      module = {
        preinitialize: function () {
          if (module.is.dimmer()) {
            $dimmable = $module.parent();
            $dimmer = $module;
          } else {
            $dimmable = $module;

            if (module.has.dimmer()) {
              if (settings.dimmerName) {
                $dimmer = $dimmable.find(selector.dimmer).filter('.' + settings.dimmerName);
              } else {
                $dimmer = $dimmable.find(selector.dimmer);
              }
            } else {
              $dimmer = module.create();
            }
          }
        },
        initialize: function () {
          module.debug('Initializing dimmer', settings);
          module.bind.events();
          module.set.dimmable();
          module.instantiate();
        },
        instantiate: function () {
          module.verbose('Storing instance of module', module);
          instance = module;
          $module.data(moduleNamespace, instance);
        },
        destroy: function () {
          module.verbose('Destroying previous module', $dimmer);
          module.unbind.events();
          module.remove.variation();
          $dimmable.off(eventNamespace);
        },
        bind: {
          events: function () {
            if (settings.on == 'hover') {
              $dimmable.on('mouseenter' + eventNamespace, module.show).on('mouseleave' + eventNamespace, module.hide);
            } else if (settings.on == 'click') {
              $dimmable.on(clickEvent + eventNamespace, module.toggle);
            }

            if (module.is.page()) {
              module.debug('Setting as a page dimmer', $dimmable);
              module.set.pageDimmer();
            }

            if (module.is.closable()) {
              module.verbose('Adding dimmer close event', $dimmer);
              $dimmable.on(clickEvent + eventNamespace, selector.dimmer, module.event.click);
            }
          }
        },
        unbind: {
          events: function () {
            $module.removeData(moduleNamespace);
          }
        },
        event: {
          click: function (event) {
            module.verbose('Determining if event occured on dimmer', event);

            if ($dimmer.find(event.target).length === 0 || $(event.target).is(selector.content)) {
              module.hide();
              event.stopImmediatePropagation();
            }
          }
        },
        addContent: function (element) {
          var $content = $(element);
          module.debug('Add content to dimmer', $content);

          if ($content.parent()[0] !== $dimmer[0]) {
            $content.detach().appendTo($dimmer);
          }
        },
        create: function () {
          var $element = $(settings.template.dimmer());

          if (settings.variation) {
            module.debug('Creating dimmer with variation', settings.variation);
            $element.addClass(settings.variation);
          }

          if (settings.dimmerName) {
            module.debug('Creating named dimmer', settings.dimmerName);
            $element.addClass(settings.dimmerName);
          }

          $element.appendTo($dimmable);
          return $element;
        },
        show: function (callback) {
          callback = $.isFunction(callback) ? callback : function () {};
          module.debug('Showing dimmer', $dimmer, settings);

          if ((!module.is.dimmed() || module.is.animating()) && module.is.enabled()) {
            module.animate.show(callback);
            settings.onShow.call(element);
            settings.onChange.call(element);
          } else {
            module.debug('Dimmer is already shown or disabled');
          }
        },
        hide: function (callback) {
          callback = $.isFunction(callback) ? callback : function () {};

          if (module.is.dimmed() || module.is.animating()) {
            module.debug('Hiding dimmer', $dimmer);
            module.animate.hide(callback);
            settings.onHide.call(element);
            settings.onChange.call(element);
          } else {
            module.debug('Dimmer is not visible');
          }
        },
        toggle: function () {
          module.verbose('Toggling dimmer visibility', $dimmer);

          if (!module.is.dimmed()) {
            module.show();
          } else {
            module.hide();
          }
        },
        animate: {
          show: function (callback) {
            callback = $.isFunction(callback) ? callback : function () {};

            if (settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {
              if (settings.opacity !== 'auto') {
                module.set.opacity();
              }

              $dimmer.transition({
                animation: settings.transition + ' in',
                queue: false,
                duration: module.get.duration(),
                useFailSafe: true,
                onStart: function () {
                  module.set.dimmed();
                },
                onComplete: function () {
                  module.set.active();
                  callback();
                }
              });
            } else {
              module.verbose('Showing dimmer animation with javascript');
              module.set.dimmed();

              if (settings.opacity == 'auto') {
                settings.opacity = 0.8;
              }

              $dimmer.stop().css({
                opacity: 0,
                width: '100%',
                height: '100%'
              }).fadeTo(module.get.duration(), settings.opacity, function () {
                $dimmer.removeAttr('style');
                module.set.active();
                callback();
              });
            }
          },
          hide: function (callback) {
            callback = $.isFunction(callback) ? callback : function () {};

            if (settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {
              module.verbose('Hiding dimmer with css');
              $dimmer.transition({
                animation: settings.transition + ' out',
                queue: false,
                duration: module.get.duration(),
                useFailSafe: true,
                onStart: function () {
                  module.remove.dimmed();
                },
                onComplete: function () {
                  module.remove.active();
                  callback();
                }
              });
            } else {
              module.verbose('Hiding dimmer with javascript');
              module.remove.dimmed();
              $dimmer.stop().fadeOut(module.get.duration(), function () {
                module.remove.active();
                $dimmer.removeAttr('style');
                callback();
              });
            }
          }
        },
        get: {
          dimmer: function () {
            return $dimmer;
          },
          duration: function () {
            if ((0, _typeof2.default)(settings.duration) == 'object') {
              if (module.is.active()) {
                return settings.duration.hide;
              } else {
                return settings.duration.show;
              }
            }

            return settings.duration;
          }
        },
        has: {
          dimmer: function () {
            if (settings.dimmerName) {
              return $module.find(selector.dimmer).filter('.' + settings.dimmerName).length > 0;
            } else {
              return $module.find(selector.dimmer).length > 0;
            }
          }
        },
        is: {
          active: function () {
            return $dimmer.hasClass(className.active);
          },
          animating: function () {
            return $dimmer.is(':animated') || $dimmer.hasClass(className.animating);
          },
          closable: function () {
            if (settings.closable == 'auto') {
              if (settings.on == 'hover') {
                return false;
              }

              return true;
            }

            return settings.closable;
          },
          dimmer: function () {
            return $module.hasClass(className.dimmer);
          },
          dimmable: function () {
            return $module.hasClass(className.dimmable);
          },
          dimmed: function () {
            return $dimmable.hasClass(className.dimmed);
          },
          disabled: function () {
            return $dimmable.hasClass(className.disabled);
          },
          enabled: function () {
            return !module.is.disabled();
          },
          page: function () {
            return $dimmable.is('body');
          },
          pageDimmer: function () {
            return $dimmer.hasClass(className.pageDimmer);
          }
        },
        can: {
          show: function () {
            return !$dimmer.hasClass(className.disabled);
          }
        },
        set: {
          opacity: function (opacity) {
            var color = $dimmer.css('background-color'),
                colorArray = color.split(','),
                isRGBA = colorArray && colorArray.length == 4;
            opacity = settings.opacity === 0 ? 0 : settings.opacity || opacity;

            if (isRGBA) {
              colorArray[3] = opacity + ')';
              color = colorArray.join(',');
            } else {
              color = 'rgba(0, 0, 0, ' + opacity + ')';
            }

            module.debug('Setting opacity to', opacity);
            $dimmer.css('background-color', color);
          },
          active: function () {
            $dimmer.addClass(className.active);
          },
          dimmable: function () {
            $dimmable.addClass(className.dimmable);
          },
          dimmed: function () {
            $dimmable.addClass(className.dimmed);
          },
          pageDimmer: function () {
            $dimmer.addClass(className.pageDimmer);
          },
          disabled: function () {
            $dimmer.addClass(className.disabled);
          },
          variation: function (variation) {
            variation = variation || settings.variation;

            if (variation) {
              $dimmer.addClass(variation);
            }
          }
        },
        remove: {
          active: function () {
            $dimmer.removeClass(className.active);
          },
          dimmed: function () {
            $dimmable.removeClass(className.dimmed);
          },
          disabled: function () {
            $dimmer.removeClass(className.disabled);
          },
          variation: function (variation) {
            variation = variation || settings.variation;

            if (variation) {
              $dimmer.removeClass(variation);
            }
          }
        },
        setting: function (name, value) {
          module.debug('Changing setting', name, value);

          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ($allModules.length > 1) {
              title += ' ' + '(' + $allModules.length + ')';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                module.error(error.method, query);
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };
      module.preinitialize();

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.dimmer.settings = {
    name: 'Dimmer',
    namespace: 'dimmer',
    debug: false,
    verbose: false,
    performance: true,
    // name to distinguish between multiple dimmers in context
    dimmerName: false,
    // whether to add a variation type
    variation: false,
    // whether to bind close events
    closable: 'auto',
    // whether to use css animations
    useCSS: true,
    // css animation to use
    transition: 'fade',
    // event to bind to
    on: false,
    // overriding opacity value
    opacity: 'auto',
    // transition durations
    duration: {
      show: 500,
      hide: 500
    },
    onChange: function () {},
    onShow: function () {},
    onHide: function () {},
    error: {
      method: 'The method you called is not defined.'
    },
    className: {
      active: 'active',
      animating: 'animating',
      dimmable: 'dimmable',
      dimmed: 'dimmed',
      dimmer: 'dimmer',
      disabled: 'disabled',
      hide: 'hide',
      pageDimmer: 'page',
      show: 'show'
    },
    selector: {
      dimmer: '> .ui.dimmer',
      content: '.ui.dimmer > .content, .ui.dimmer > .content > .center'
    },
    template: {
      dimmer: function () {
        return $('<div />').attr('class', 'ui dimmer');
      }
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"dropdown.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/modules/dropdown.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Dropdown
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.dropdown = function (parameters) {
    var $allModules = $(this),
        $document = $(document),
        moduleSelector = $allModules.selector || '',
        hasTouch = 'ontouchstart' in document.documentElement,
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        returnedValue;
    $allModules.each(function (elementIndex) {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.dropdown.settings, parameters) : $.extend({}, $.fn.dropdown.settings),
          className = settings.className,
          message = settings.message,
          fields = settings.fields,
          keys = settings.keys,
          metadata = settings.metadata,
          namespace = settings.namespace,
          regExp = settings.regExp,
          selector = settings.selector,
          error = settings.error,
          templates = settings.templates,
          eventNamespace = '.' + namespace,
          moduleNamespace = 'module-' + namespace,
          $module = $(this),
          $context = $(settings.context),
          $text = $module.find(selector.text),
          $search = $module.find(selector.search),
          $input = $module.find(selector.input),
          $icon = $module.find(selector.icon),
          $combo = $module.prev().find(selector.text).length > 0 ? $module.prev().find(selector.text) : $module.prev(),
          $menu = $module.children(selector.menu),
          $item = $menu.find(selector.item),
          activated = false,
          itemActivated = false,
          internalChange = false,
          element = this,
          instance = $module.data(moduleNamespace),
          initialLoad,
          pageLostFocus,
          elementNamespace,
          id,
          selectObserver,
          menuObserver,
          module;
      module = {
        initialize: function () {
          module.debug('Initializing dropdown', settings);

          if (module.is.alreadySetup()) {
            module.setup.reference();
          } else {
            module.setup.layout();
            module.refreshData();
            module.save.defaults();
            module.restore.selected();
            module.create.id();
            module.bind.events();
            module.observeChanges();
            module.instantiate();
          }
        },
        instantiate: function () {
          module.verbose('Storing instance of dropdown', module);
          instance = module;
          $module.data(moduleNamespace, module);
        },
        destroy: function () {
          module.verbose('Destroying previous dropdown', $module);
          module.remove.tabbable();
          $module.off(eventNamespace).removeData(moduleNamespace);
          $menu.off(eventNamespace);
          $document.off(elementNamespace);

          if (selectObserver) {
            selectObserver.disconnect();
          }

          if (menuObserver) {
            menuObserver.disconnect();
          }
        },
        observeChanges: function () {
          if ('MutationObserver' in window) {
            selectObserver = new MutationObserver(function (mutations) {
              module.debug('<select> modified, recreating menu');
              module.setup.select();
            });
            menuObserver = new MutationObserver(function (mutations) {
              module.debug('Menu modified, updating selector cache');
              module.refresh();
            });

            if (module.has.input()) {
              selectObserver.observe($input[0], {
                childList: true,
                subtree: true
              });
            }

            if (module.has.menu()) {
              menuObserver.observe($menu[0], {
                childList: true,
                subtree: true
              });
            }

            module.debug('Setting up mutation observer', selectObserver, menuObserver);
          }
        },
        create: {
          id: function () {
            id = (Math.random().toString(16) + '000000000').substr(2, 8);
            elementNamespace = '.' + id;
            module.verbose('Creating unique id for element', id);
          },
          userChoice: function (values) {
            var $userChoices, $userChoice, isUserValue, html;
            values = values || module.get.userValues();

            if (!values) {
              return false;
            }

            values = $.isArray(values) ? values : [values];
            $.each(values, function (index, value) {
              if (module.get.item(value) === false) {
                html = settings.templates.addition(module.add.variables(message.addResult, value));
                $userChoice = $('<div />').html(html).attr('data-' + metadata.value, value).attr('data-' + metadata.text, value).addClass(className.addition).addClass(className.item);
                $userChoices = $userChoices === undefined ? $userChoice : $userChoices.add($userChoice);
                module.verbose('Creating user choices for value', value, $userChoice);
              }
            });
            return $userChoices;
          },
          userLabels: function (value) {
            var userValues = module.get.userValues();

            if (userValues) {
              module.debug('Adding user labels', userValues);
              $.each(userValues, function (index, value) {
                module.verbose('Adding custom user value');
                module.add.label(value, value);
              });
            }
          },
          menu: function () {
            $menu = $('<div />').addClass(className.menu).appendTo($module);
          }
        },
        search: function (query) {
          query = query !== undefined ? query : module.get.query();
          module.verbose('Searching for query', query);
          module.filter(query);
        },
        select: {
          firstUnfiltered: function () {
            module.verbose('Selecting first non-filtered element');
            module.remove.selectedItem();
            $item.not(selector.unselectable).eq(0).addClass(className.selected);
          },
          nextAvailable: function ($selected) {
            $selected = $selected.eq(0);
            var $nextAvailable = $selected.nextAll(selector.item).not(selector.unselectable).eq(0),
                $prevAvailable = $selected.prevAll(selector.item).not(selector.unselectable).eq(0),
                hasNext = $nextAvailable.length > 0;

            if (hasNext) {
              module.verbose('Moving selection to', $nextAvailable);
              $nextAvailable.addClass(className.selected);
            } else {
              module.verbose('Moving selection to', $prevAvailable);
              $prevAvailable.addClass(className.selected);
            }
          }
        },
        setup: {
          api: function () {
            var apiSettings = {
              debug: settings.debug,
              on: false
            };
            module.verbose('First request, initializing API');
            $module.api(apiSettings);
          },
          layout: function () {
            if ($module.is('select')) {
              module.setup.select();
              module.setup.returnedObject();
            }

            if (!module.has.menu()) {
              module.create.menu();
            }

            if (module.is.search() && !module.has.search()) {
              module.verbose('Adding search input');
              $search = $('<input />').addClass(className.search).prop('autocomplete', 'off').insertBefore($text);
            }

            if (settings.allowTab) {
              module.set.tabbable();
            }
          },
          select: function () {
            var selectValues = module.get.selectValues();
            module.debug('Dropdown initialized on a select', selectValues);

            if ($module.is('select')) {
              $input = $module;
            } // see if select is placed correctly already


            if ($input.parent(selector.dropdown).length > 0) {
              module.debug('UI dropdown already exists. Creating dropdown menu only');
              $module = $input.closest(selector.dropdown);

              if (!module.has.menu()) {
                module.create.menu();
              }

              $menu = $module.children(selector.menu);
              module.setup.menu(selectValues);
            } else {
              module.debug('Creating entire dropdown from select');
              $module = $('<div />').attr('class', $input.attr('class')).addClass(className.selection).addClass(className.dropdown).html(templates.dropdown(selectValues)).insertBefore($input);

              if ($input.hasClass(className.multiple) && $input.prop('multiple') === false) {
                module.error(error.missingMultiple);
                $input.prop('multiple', true);
              }

              if ($input.is('[multiple]')) {
                module.set.multiple();
              }

              if ($input.prop('disabled')) {
                module.debug('Disabling dropdown');
                $module.addClass(className.disabled);
              }

              $input.removeAttr('class').detach().prependTo($module);
            }

            module.refresh();
          },
          menu: function (values) {
            $menu.html(templates.menu(values, fields));
            $item = $menu.find(selector.item);
          },
          reference: function () {
            module.debug('Dropdown behavior was called on select, replacing with closest dropdown'); // replace module reference

            $module = $module.parent(selector.dropdown);
            module.refresh();
            module.setup.returnedObject(); // invoke method in context of current instance

            if (methodInvoked) {
              instance = module;
              module.invoke(query);
            }
          },
          returnedObject: function () {
            var $firstModules = $allModules.slice(0, elementIndex),
                $lastModules = $allModules.slice(elementIndex + 1); // adjust all modules to use correct reference

            $allModules = $firstModules.add($module).add($lastModules);
          }
        },
        refresh: function () {
          module.refreshSelectors();
          module.refreshData();
        },
        refreshSelectors: function () {
          module.verbose('Refreshing selector cache');
          $text = $module.find(selector.text);
          $search = $module.find(selector.search);
          $input = $module.find(selector.input);
          $icon = $module.find(selector.icon);
          $combo = $module.prev().find(selector.text).length > 0 ? $module.prev().find(selector.text) : $module.prev();
          $menu = $module.children(selector.menu);
          $item = $menu.find(selector.item);
        },
        refreshData: function () {
          module.verbose('Refreshing cached metadata');
          $item.removeData(metadata.text).removeData(metadata.value);
          $module.removeData(metadata.defaultText).removeData(metadata.defaultValue).removeData(metadata.placeholderText);
        },
        toggle: function () {
          module.verbose('Toggling menu visibility');

          if (!module.is.active()) {
            module.show();
          } else {
            module.hide();
          }
        },
        show: function (callback) {
          callback = $.isFunction(callback) ? callback : function () {};

          if (module.can.show() && !module.is.active()) {
            module.debug('Showing dropdown');

            if (module.is.multiple() && !module.has.search() && module.is.allFiltered()) {
              return true;
            }

            if (module.has.message() && !(module.has.maxSelections() || module.has.allResultsFiltered())) {
              module.remove.message();
            }

            if (settings.onShow.call(element) !== false) {
              module.animate.show(function () {
                if (module.can.click()) {
                  module.bind.intent();
                }

                module.set.visible();
                callback.call(element);
              });
            }
          }
        },
        hide: function (callback) {
          callback = $.isFunction(callback) ? callback : function () {};

          if (module.is.active()) {
            module.debug('Hiding dropdown');

            if (settings.onHide.call(element) !== false) {
              module.animate.hide(function () {
                module.remove.visible();
                callback.call(element);
              });
            }
          }
        },
        hideOthers: function () {
          module.verbose('Finding other dropdowns to hide');
          $allModules.not($module).has(selector.menu + '.' + className.visible).dropdown('hide');
        },
        hideMenu: function () {
          module.verbose('Hiding menu  instantaneously');
          module.remove.active();
          module.remove.visible();
          $menu.transition('hide');
        },
        hideSubMenus: function () {
          var $subMenus = $menu.children(selector.item).find(selector.menu);
          module.verbose('Hiding sub menus', $subMenus);
          $subMenus.transition('hide');
        },
        bind: {
          events: function () {
            if (hasTouch) {
              module.bind.touchEvents();
            }

            module.bind.keyboardEvents();
            module.bind.inputEvents();
            module.bind.mouseEvents();
          },
          touchEvents: function () {
            module.debug('Touch device detected binding additional touch events');

            if (module.is.searchSelection()) {// do nothing special yet
            } else if (module.is.single()) {
              $module.on('touchstart' + eventNamespace, module.event.test.toggle);
            }

            $menu.on('touchstart' + eventNamespace, selector.item, module.event.item.mouseenter);
          },
          keyboardEvents: function () {
            module.verbose('Binding keyboard events');
            $module.on('keydown' + eventNamespace, module.event.keydown);

            if (module.has.search()) {
              $module.on(module.get.inputEvent() + eventNamespace, selector.search, module.event.input);
            }

            if (module.is.multiple()) {
              $document.on('keydown' + elementNamespace, module.event.document.keydown);
            }
          },
          inputEvents: function () {
            module.verbose('Binding input change events');
            $module.on('change' + eventNamespace, selector.input, module.event.change);
          },
          mouseEvents: function () {
            module.verbose('Binding mouse events');

            if (module.is.multiple()) {
              $module.on('click' + eventNamespace, selector.label, module.event.label.click).on('click' + eventNamespace, selector.remove, module.event.remove.click);
            }

            if (module.is.searchSelection()) {
              $module.on('mousedown' + eventNamespace, selector.menu, module.event.menu.mousedown).on('mouseup' + eventNamespace, selector.menu, module.event.menu.mouseup).on('click' + eventNamespace, selector.icon, module.event.icon.click).on('click' + eventNamespace, selector.search, module.show).on('focus' + eventNamespace, selector.search, module.event.search.focus).on('blur' + eventNamespace, selector.search, module.event.search.blur).on('click' + eventNamespace, selector.text, module.event.text.focus);

              if (module.is.multiple()) {
                $module.on('click' + eventNamespace, module.event.click);
              }
            } else {
              if (settings.on == 'click') {
                $module.on('click' + eventNamespace, selector.icon, module.event.icon.click).on('click' + eventNamespace, module.event.test.toggle);
              } else if (settings.on == 'hover') {
                $module.on('mouseenter' + eventNamespace, module.delay.show).on('mouseleave' + eventNamespace, module.delay.hide);
              } else {
                $module.on(settings.on + eventNamespace, module.toggle);
              }

              $module.on('mousedown' + eventNamespace, module.event.mousedown).on('mouseup' + eventNamespace, module.event.mouseup).on('focus' + eventNamespace, module.event.focus).on('blur' + eventNamespace, module.event.blur);
            }

            $menu.on('mouseenter' + eventNamespace, selector.item, module.event.item.mouseenter).on('mouseleave' + eventNamespace, selector.item, module.event.item.mouseleave).on('click' + eventNamespace, selector.item, module.event.item.click);
          },
          intent: function () {
            module.verbose('Binding hide intent event to document');

            if (hasTouch) {
              $document.on('touchstart' + elementNamespace, module.event.test.touch).on('touchmove' + elementNamespace, module.event.test.touch);
            }

            $document.on('click' + elementNamespace, module.event.test.hide);
          }
        },
        unbind: {
          intent: function () {
            module.verbose('Removing hide intent event from document');

            if (hasTouch) {
              $document.off('touchstart' + elementNamespace).off('touchmove' + elementNamespace);
            }

            $document.off('click' + elementNamespace);
          }
        },
        filter: function (query) {
          var searchTerm = query !== undefined ? query : module.get.query(),
              afterFiltered = function () {
            if (module.is.multiple()) {
              module.filterActive();
            }

            module.select.firstUnfiltered();

            if (module.has.allResultsFiltered()) {
              if (settings.onNoResults.call(element, searchTerm)) {
                if (!settings.allowAdditions) {
                  module.verbose('All items filtered, showing message', searchTerm);
                  module.add.message(message.noResults);
                }
              } else {
                module.verbose('All items filtered, hiding dropdown', searchTerm);
                module.hideMenu();
              }
            } else {
              module.remove.message();
            }

            if (settings.allowAdditions) {
              module.add.userSuggestion(query);
            }

            if (module.is.searchSelection() && module.can.show() && module.is.focusedOnSearch()) {
              module.show();
            }
          };

          if (settings.useLabels && module.has.maxSelections()) {
            return;
          }

          if (settings.apiSettings) {
            if (module.can.useAPI()) {
              module.queryRemote(searchTerm, function () {
                afterFiltered();
              });
            } else {
              module.error(error.noAPI);
            }
          } else {
            module.filterItems(searchTerm);
            afterFiltered();
          }
        },
        queryRemote: function (query, callback) {
          var apiSettings = {
            errorDuration: false,
            throttle: settings.throttle,
            urlData: {
              query: query
            },
            onError: function () {
              module.add.message(message.serverError);
              callback();
            },
            onFailure: function () {
              module.add.message(message.serverError);
              callback();
            },
            onSuccess: function (response) {
              module.remove.message();
              module.setup.menu({
                values: response[fields.remoteValues]
              });
              callback();
            }
          };

          if (!$module.api('get request')) {
            module.setup.api();
          }

          apiSettings = $.extend(true, {}, apiSettings, settings.apiSettings);
          $module.api('setting', apiSettings).api('query');
        },
        filterItems: function (query) {
          var searchTerm = query !== undefined ? query : module.get.query(),
              results = null,
              escapedTerm = module.escape.regExp(searchTerm),
              beginsWithRegExp = new RegExp('^' + escapedTerm, 'igm'); // avoid loop if we're matching nothing

          if (module.has.query()) {
            results = [];
            module.verbose('Searching for matching values', searchTerm);
            $item.each(function () {
              var $choice = $(this),
                  text,
                  value;

              if (settings.match == 'both' || settings.match == 'text') {
                text = String(module.get.choiceText($choice, false));

                if (text.search(beginsWithRegExp) !== -1) {
                  results.push(this);
                  return true;
                } else if (settings.fullTextSearch && module.fuzzySearch(searchTerm, text)) {
                  results.push(this);
                  return true;
                }
              }

              if (settings.match == 'both' || settings.match == 'value') {
                value = String(module.get.choiceValue($choice, text));

                if (value.search(beginsWithRegExp) !== -1) {
                  results.push(this);
                  return true;
                } else if (settings.fullTextSearch && module.fuzzySearch(searchTerm, value)) {
                  results.push(this);
                  return true;
                }
              }
            });
          }

          module.debug('Showing only matched items', searchTerm);
          module.remove.filteredItem();

          if (results) {
            $item.not(results).addClass(className.filtered);
          }
        },
        fuzzySearch: function (query, term) {
          var termLength = term.length,
              queryLength = query.length;
          query = query.toLowerCase();
          term = term.toLowerCase();

          if (queryLength > termLength) {
            return false;
          }

          if (queryLength === termLength) {
            return query === term;
          }

          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {
            var queryCharacter = query.charCodeAt(characterIndex);

            while (nextCharacterIndex < termLength) {
              if (term.charCodeAt(nextCharacterIndex++) === queryCharacter) {
                continue search;
              }
            }

            return false;
          }

          return true;
        },
        filterActive: function () {
          if (settings.useLabels) {
            $item.filter('.' + className.active).addClass(className.filtered);
          }
        },
        focusSearch: function () {
          if (module.is.search() && !module.is.focusedOnSearch()) {
            $search[0].focus();
          }
        },
        forceSelection: function () {
          var $currentlySelected = $item.not(className.filtered).filter('.' + className.selected).eq(0),
              $activeItem = $item.not(className.filtered).filter('.' + className.active).eq(0),
              $selectedItem = $currentlySelected.length > 0 ? $currentlySelected : $activeItem,
              hasSelected = $selectedItem.size() > 0;

          if (module.has.query()) {
            if (hasSelected) {
              module.debug('Forcing partial selection to selected item', $selectedItem);
              module.event.item.click.call($selectedItem);
              return;
            } else {
              module.remove.searchTerm();
            }
          }

          module.hide();
        },
        event: {
          change: function () {
            if (!internalChange) {
              module.debug('Input changed, updating selection');
              module.set.selected();
            }
          },
          focus: function () {
            if (settings.showOnFocus && !activated && module.is.hidden() && !pageLostFocus) {
              module.show();
            }
          },
          click: function (event) {
            var $target = $(event.target); // focus search

            if ($target.is($module) && !module.is.focusedOnSearch()) {
              module.focusSearch();
            }
          },
          blur: function (event) {
            pageLostFocus = document.activeElement === this;

            if (!activated && !pageLostFocus) {
              module.remove.activeLabel();
              module.hide();
            }
          },
          // prevents focus callback from occurring on mousedown
          mousedown: function () {
            activated = true;
          },
          mouseup: function () {
            activated = false;
          },
          search: {
            focus: function () {
              activated = true;

              if (module.is.multiple()) {
                module.remove.activeLabel();
              }

              if (settings.showOnFocus) {
                module.search();
                module.show();
              }
            },
            blur: function (event) {
              pageLostFocus = document.activeElement === this;

              if (!itemActivated && !pageLostFocus) {
                if (module.is.multiple()) {
                  module.remove.activeLabel();
                  module.hide();
                } else if (settings.forceSelection) {
                  module.forceSelection();
                } else {
                  module.hide();
                }
              } else if (pageLostFocus) {
                if (settings.forceSelection) {
                  module.forceSelection();
                }
              }
            }
          },
          icon: {
            click: function (event) {
              module.toggle();
              event.stopPropagation();
            }
          },
          text: {
            focus: function (event) {
              activated = true;
              module.focusSearch();
            }
          },
          input: function (event) {
            if (module.is.multiple() || module.is.searchSelection()) {
              module.set.filtered();
            }

            clearTimeout(module.timer);
            module.timer = setTimeout(module.search, settings.delay.search);
          },
          label: {
            click: function (event) {
              var $label = $(this),
                  $labels = $module.find(selector.label),
                  $activeLabels = $labels.filter('.' + className.active),
                  $nextActive = $label.nextAll('.' + className.active),
                  $prevActive = $label.prevAll('.' + className.active),
                  $range = $nextActive.length > 0 ? $label.nextUntil($nextActive).add($activeLabels).add($label) : $label.prevUntil($prevActive).add($activeLabels).add($label);

              if (event.shiftKey) {
                $activeLabels.removeClass(className.active);
                $range.addClass(className.active);
              } else if (event.ctrlKey) {
                $label.toggleClass(className.active);
              } else {
                $activeLabels.removeClass(className.active);
                $label.addClass(className.active);
              }

              settings.onLabelSelect.apply(this, $labels.filter('.' + className.active));
            }
          },
          remove: {
            click: function () {
              var $label = $(this).parent();

              if ($label.hasClass(className.active)) {
                // remove all selected labels
                module.remove.activeLabels();
              } else {
                // remove this label only
                module.remove.activeLabels($label);
              }
            }
          },
          test: {
            toggle: function (event) {
              var toggleBehavior = module.is.multiple() ? module.show : module.toggle;

              if (module.determine.eventOnElement(event, toggleBehavior)) {
                event.preventDefault();
              }
            },
            touch: function (event) {
              module.determine.eventOnElement(event, function () {
                if (event.type == 'touchstart') {
                  module.timer = setTimeout(function () {
                    module.hide();
                  }, settings.delay.touch);
                } else if (event.type == 'touchmove') {
                  clearTimeout(module.timer);
                }
              });
              event.stopPropagation();
            },
            hide: function (event) {
              module.determine.eventInModule(event, module.hide);
            }
          },
          menu: {
            mousedown: function () {
              itemActivated = true;
            },
            mouseup: function () {
              itemActivated = false;
            }
          },
          item: {
            mouseenter: function (event) {
              var $subMenu = $(this).children(selector.menu),
                  $otherMenus = $(this).siblings(selector.item).children(selector.menu);

              if ($subMenu.length > 0) {
                clearTimeout(module.itemTimer);
                module.itemTimer = setTimeout(function () {
                  module.verbose('Showing sub-menu', $subMenu);
                  $.each($otherMenus, function () {
                    module.animate.hide(false, $(this));
                  });
                  module.animate.show(false, $subMenu);
                }, settings.delay.show);
                event.preventDefault();
              }
            },
            mouseleave: function (event) {
              var $subMenu = $(this).children(selector.menu);

              if ($subMenu.length > 0) {
                clearTimeout(module.itemTimer);
                module.itemTimer = setTimeout(function () {
                  module.verbose('Hiding sub-menu', $subMenu);
                  module.animate.hide(false, $subMenu);
                }, settings.delay.hide);
              }
            },
            touchend: function () {},
            click: function (event) {
              var $choice = $(this),
                  $target = event ? $(event.target) : $(''),
                  $subMenu = $choice.find(selector.menu),
                  text = module.get.choiceText($choice),
                  value = module.get.choiceValue($choice, text),
                  hasSubMenu = $subMenu.length > 0,
                  isBubbledEvent = $subMenu.find($target).length > 0;

              if (!isBubbledEvent && (!hasSubMenu || settings.allowCategorySelection)) {
                if (!settings.useLabels) {
                  module.remove.filteredItem();
                  module.remove.searchTerm();
                  module.set.scrollPosition($choice);
                }

                module.determine.selectAction.call(this, text, value);
              }
            }
          },
          document: {
            // label selection should occur even when element has no focus
            keydown: function (event) {
              var pressedKey = event.which,
                  isShortcutKey = module.is.inObject(pressedKey, keys);

              if (isShortcutKey) {
                var $label = $module.find(selector.label),
                    $activeLabel = $label.filter('.' + className.active),
                    activeValue = $activeLabel.data(metadata.value),
                    labelIndex = $label.index($activeLabel),
                    labelCount = $label.length,
                    hasActiveLabel = $activeLabel.length > 0,
                    hasMultipleActive = $activeLabel.length > 1,
                    isFirstLabel = labelIndex === 0,
                    isLastLabel = labelIndex + 1 == labelCount,
                    isSearch = module.is.searchSelection(),
                    isFocusedOnSearch = module.is.focusedOnSearch(),
                    isFocused = module.is.focused(),
                    caretAtStart = isFocusedOnSearch && module.get.caretPosition() === 0,
                    $nextLabel;

                if (isSearch && !hasActiveLabel && !isFocusedOnSearch) {
                  return;
                }

                if (pressedKey == keys.leftArrow) {
                  // activate previous label
                  if ((isFocused || caretAtStart) && !hasActiveLabel) {
                    module.verbose('Selecting previous label');
                    $label.last().addClass(className.active);
                  } else if (hasActiveLabel) {
                    if (!event.shiftKey) {
                      module.verbose('Selecting previous label');
                      $label.removeClass(className.active);
                    } else {
                      module.verbose('Adding previous label to selection');
                    }

                    if (isFirstLabel && !hasMultipleActive) {
                      $activeLabel.addClass(className.active);
                    } else {
                      $activeLabel.prev(selector.siblingLabel).addClass(className.active).end();
                    }

                    event.preventDefault();
                  }
                } else if (pressedKey == keys.rightArrow) {
                  // activate first label
                  if (isFocused && !hasActiveLabel) {
                    $label.first().addClass(className.active);
                  } // activate next label


                  if (hasActiveLabel) {
                    if (!event.shiftKey) {
                      module.verbose('Selecting next label');
                      $label.removeClass(className.active);
                    } else {
                      module.verbose('Adding next label to selection');
                    }

                    if (isLastLabel) {
                      if (isSearch) {
                        if (!isFocusedOnSearch) {
                          module.focusSearch();
                        } else {
                          $label.removeClass(className.active);
                        }
                      } else if (hasMultipleActive) {
                        $activeLabel.next(selector.siblingLabel).addClass(className.active);
                      } else {
                        $activeLabel.addClass(className.active);
                      }
                    } else {
                      $activeLabel.next(selector.siblingLabel).addClass(className.active);
                    }

                    event.preventDefault();
                  }
                } else if (pressedKey == keys.deleteKey || pressedKey == keys.backspace) {
                  if (hasActiveLabel) {
                    module.verbose('Removing active labels');

                    if (isLastLabel) {
                      if (isSearch && !isFocusedOnSearch) {
                        module.focusSearch();
                      }
                    }

                    $activeLabel.last().next(selector.siblingLabel).addClass(className.active);
                    module.remove.activeLabels($activeLabel);
                    event.preventDefault();
                  } else if (caretAtStart && !hasActiveLabel && pressedKey == keys.backspace) {
                    module.verbose('Removing last label on input backspace');
                    $activeLabel = $label.last().addClass(className.active);
                    module.remove.activeLabels($activeLabel);
                  }
                } else {
                  $activeLabel.removeClass(className.active);
                }
              }
            }
          },
          keydown: function (event) {
            var pressedKey = event.which,
                isShortcutKey = module.is.inObject(pressedKey, keys);

            if (isShortcutKey) {
              var $currentlySelected = $item.not(selector.unselectable).filter('.' + className.selected).eq(0),
                  $activeItem = $menu.children('.' + className.active).eq(0),
                  $selectedItem = $currentlySelected.length > 0 ? $currentlySelected : $activeItem,
                  $visibleItems = $selectedItem.length > 0 ? $selectedItem.siblings(':not(.' + className.filtered + ')').andSelf() : $menu.children(':not(.' + className.filtered + ')'),
                  $subMenu = $selectedItem.children(selector.menu),
                  $parentMenu = $selectedItem.closest(selector.menu),
                  inVisibleMenu = $parentMenu.hasClass(className.visible) || $parentMenu.hasClass(className.animating) || $parentMenu.parent(selector.menu).length > 0,
                  hasSubMenu = $subMenu.length > 0,
                  hasSelectedItem = $selectedItem.length > 0,
                  selectedIsSelectable = $selectedItem.not(selector.unselectable).length > 0,
                  delimiterPressed = pressedKey == keys.delimiter && settings.allowAdditions && module.is.multiple(),
                  $nextItem,
                  isSubMenuItem,
                  newIndex; // visible menu keyboard shortcuts

              if (module.is.visible()) {
                // enter (select or open sub-menu)
                if (pressedKey == keys.enter || delimiterPressed) {
                  if (pressedKey == keys.enter && hasSelectedItem && hasSubMenu && !settings.allowCategorySelection) {
                    module.verbose('Pressed enter on unselectable category, opening sub menu');
                    pressedKey = keys.rightArrow;
                  } else if (selectedIsSelectable) {
                    module.verbose('Selecting item from keyboard shortcut', $selectedItem);
                    module.event.item.click.call($selectedItem, event);

                    if (module.is.searchSelection()) {
                      module.remove.searchTerm();
                    }
                  }

                  event.preventDefault();
                } // left arrow (hide sub-menu)


                if (pressedKey == keys.leftArrow) {
                  isSubMenuItem = $parentMenu[0] !== $menu[0];

                  if (isSubMenuItem) {
                    module.verbose('Left key pressed, closing sub-menu');
                    module.animate.hide(false, $parentMenu);
                    $selectedItem.removeClass(className.selected);
                    $parentMenu.closest(selector.item).addClass(className.selected);
                    event.preventDefault();
                  }
                } // right arrow (show sub-menu)


                if (pressedKey == keys.rightArrow) {
                  if (hasSubMenu) {
                    module.verbose('Right key pressed, opening sub-menu');
                    module.animate.show(false, $subMenu);
                    $selectedItem.removeClass(className.selected);
                    $subMenu.find(selector.item).eq(0).addClass(className.selected);
                    event.preventDefault();
                  }
                } // up arrow (traverse menu up)


                if (pressedKey == keys.upArrow) {
                  $nextItem = hasSelectedItem && inVisibleMenu ? $selectedItem.prevAll(selector.item + ':not(' + selector.unselectable + ')').eq(0) : $item.eq(0);

                  if ($visibleItems.index($nextItem) < 0) {
                    module.verbose('Up key pressed but reached top of current menu');
                    event.preventDefault();
                    return;
                  } else {
                    module.verbose('Up key pressed, changing active item');
                    $selectedItem.removeClass(className.selected);
                    $nextItem.addClass(className.selected);
                    module.set.scrollPosition($nextItem);
                  }

                  event.preventDefault();
                } // down arrow (traverse menu down)


                if (pressedKey == keys.downArrow) {
                  $nextItem = hasSelectedItem && inVisibleMenu ? $nextItem = $selectedItem.nextAll(selector.item + ':not(' + selector.unselectable + ')').eq(0) : $item.eq(0);

                  if ($nextItem.length === 0) {
                    module.verbose('Down key pressed but reached bottom of current menu');
                    event.preventDefault();
                    return;
                  } else {
                    module.verbose('Down key pressed, changing active item');
                    $item.removeClass(className.selected);
                    $nextItem.addClass(className.selected);
                    module.set.scrollPosition($nextItem);
                  }

                  event.preventDefault();
                } // page down (show next page)


                if (pressedKey == keys.pageUp) {
                  module.scrollPage('up');
                  event.preventDefault();
                }

                if (pressedKey == keys.pageDown) {
                  module.scrollPage('down');
                  event.preventDefault();
                } // escape (close menu)


                if (pressedKey == keys.escape) {
                  module.verbose('Escape key pressed, closing dropdown');
                  module.hide();
                }
              } else {
                // delimiter key
                if (delimiterPressed) {
                  event.preventDefault();
                } // down arrow (open menu)


                if (pressedKey == keys.downArrow) {
                  module.verbose('Down key pressed, showing dropdown');
                  module.show();
                  event.preventDefault();
                }
              }
            } else {
              if (module.is.selection() && !module.is.search()) {
                module.set.selectedLetter(String.fromCharCode(pressedKey));
              }
            }
          }
        },
        trigger: {
          change: function () {
            var events = document.createEvent('HTMLEvents'),
                inputElement = $input[0];

            if (inputElement) {
              module.verbose('Triggering native change event');
              events.initEvent('change', true, false);
              inputElement.dispatchEvent(events);
            }
          }
        },
        determine: {
          selectAction: function (text, value) {
            module.verbose('Determining action', settings.action);

            if ($.isFunction(module.action[settings.action])) {
              module.verbose('Triggering preset action', settings.action, text, value);
              module.action[settings.action].call(this, text, value);
            } else if ($.isFunction(settings.action)) {
              module.verbose('Triggering user action', settings.action, text, value);
              settings.action.call(this, text, value);
            } else {
              module.error(error.action, settings.action);
            }
          },
          eventInModule: function (event, callback) {
            var $target = $(event.target),
                inDocument = $target.closest(document.documentElement).length > 0,
                inModule = $target.closest($module).length > 0;
            callback = $.isFunction(callback) ? callback : function () {};

            if (inDocument && !inModule) {
              module.verbose('Triggering event', callback);
              callback();
              return true;
            } else {
              module.verbose('Event occurred in dropdown, canceling callback');
              return false;
            }
          },
          eventOnElement: function (event, callback) {
            var $target = $(event.target),
                $label = $target.closest(selector.siblingLabel),
                notOnLabel = $module.find($label).length === 0,
                notInMenu = $target.closest($menu).length === 0;
            callback = $.isFunction(callback) ? callback : function () {};

            if (notOnLabel && notInMenu) {
              module.verbose('Triggering event', callback);
              callback();
              return true;
            } else {
              module.verbose('Event occurred in dropdown menu, canceling callback');
              return false;
            }
          }
        },
        action: {
          nothing: function () {},
          activate: function (text, value) {
            value = value !== undefined ? value : text;

            if (module.can.activate($(this))) {
              module.set.selected(value, $(this));

              if (module.is.multiple() && !module.is.allFiltered()) {
                return;
              } else {
                module.hideAndClear();
              }
            }
          },
          select: function (text, value) {
            // mimics action.activate but does not select text
            module.action.activate.call(this);
          },
          combo: function (text, value) {
            value = value !== undefined ? value : text;
            module.set.selected(value, $(this));
            module.hideAndClear();
          },
          hide: function (text, value) {
            module.set.value(value);
            module.hideAndClear();
          }
        },
        get: {
          id: function () {
            return id;
          },
          defaultText: function () {
            return $module.data(metadata.defaultText);
          },
          defaultValue: function () {
            return $module.data(metadata.defaultValue);
          },
          placeholderText: function () {
            return $module.data(metadata.placeholderText) || '';
          },
          text: function () {
            return $text.text();
          },
          query: function () {
            return $.trim($search.val());
          },
          searchWidth: function (characterCount) {
            return characterCount * settings.glyphWidth + 'em';
          },
          selectionCount: function () {
            var values = module.get.values(),
                count;
            count = module.is.multiple() ? $.isArray(values) ? values.length : 0 : module.get.value() !== '' ? 1 : 0;
            return count;
          },
          transition: function ($subMenu) {
            return settings.transition == 'auto' ? module.is.upward($subMenu) ? 'slide up' : 'slide down' : settings.transition;
          },
          userValues: function () {
            var values = module.get.values();

            if (!values) {
              return false;
            }

            values = $.isArray(values) ? values : [values];
            return $.grep(values, function (value) {
              return module.get.item(value) === false;
            });
          },
          uniqueArray: function (array) {
            return $.grep(array, function (value, index) {
              return $.inArray(value, array) === index;
            });
          },
          caretPosition: function () {
            var input = $search.get(0),
                range,
                rangeLength;

            if ('selectionStart' in input) {
              return input.selectionStart;
            } else if (document.selection) {
              input.focus();
              range = document.selection.createRange();
              rangeLength = range.text.length;
              range.moveStart('character', -input.value.length);
              return range.text.length - rangeLength;
            }
          },
          value: function () {
            var value = $input.length > 0 ? $input.val() : $module.data(metadata.value); // prevents placeholder element from being selected when multiple

            if ($.isArray(value) && value.length === 1 && value[0] === '') {
              return '';
            }

            return value;
          },
          values: function () {
            var value = module.get.value();

            if (value === '') {
              return '';
            }

            return !module.has.selectInput() && module.is.multiple() ? typeof value == 'string' ? // delimited string
            value.split(settings.delimiter) : '' : value;
          },
          remoteValues: function () {
            var values = module.get.values(),
                remoteValues = false;

            if (values) {
              if (typeof values == 'string') {
                values = [values];
              }

              remoteValues = {};
              $.each(values, function (index, value) {
                var name = module.read.remoteData(value);
                module.verbose('Restoring value from session data', name, value);
                remoteValues[value] = name ? name : value;
              });
            }

            return remoteValues;
          },
          choiceText: function ($choice, preserveHTML) {
            preserveHTML = preserveHTML !== undefined ? preserveHTML : settings.preserveHTML;

            if ($choice) {
              if ($choice.find(selector.menu).length > 0) {
                module.verbose('Retreiving text of element with sub-menu');
                $choice = $choice.clone();
                $choice.find(selector.menu).remove();
                $choice.find(selector.menuIcon).remove();
              }

              return $choice.data(metadata.text) !== undefined ? $choice.data(metadata.text) : preserveHTML ? $.trim($choice.html()) : $.trim($choice.text());
            }
          },
          choiceValue: function ($choice, choiceText) {
            choiceText = choiceText || module.get.choiceText($choice);

            if (!$choice) {
              return false;
            }

            return $choice.data(metadata.value) !== undefined ? String($choice.data(metadata.value)) : typeof choiceText === 'string' ? $.trim(choiceText.toLowerCase()) : String(choiceText);
          },
          inputEvent: function () {
            var input = $search[0];

            if (input) {
              return input.oninput !== undefined ? 'input' : input.onpropertychange !== undefined ? 'propertychange' : 'keyup';
            }

            return false;
          },
          selectValues: function () {
            var select = {};
            select.values = [];
            $module.find('option').each(function () {
              var $option = $(this),
                  name = $option.html(),
                  disabled = $option.attr('disabled'),
                  value = $option.attr('value') !== undefined ? $option.attr('value') : name;

              if (settings.placeholder === 'auto' && value === '') {
                select.placeholder = name;
              } else {
                select.values.push({
                  name: name,
                  value: value,
                  disabled: disabled
                });
              }
            });

            if (settings.placeholder && settings.placeholder !== 'auto') {
              module.debug('Setting placeholder value to', settings.placeholder);
              select.placeholder = settings.placeholder;
            }

            if (settings.sortSelect) {
              select.values.sort(function (a, b) {
                return a.name > b.name ? 1 : -1;
              });
              module.debug('Retrieved and sorted values from select', select);
            } else {
              module.debug('Retreived values from select', select);
            }

            return select;
          },
          activeItem: function () {
            return $item.filter('.' + className.active);
          },
          selectedItem: function () {
            var $selectedItem = $item.not(selector.unselectable).filter('.' + className.selected);
            return $selectedItem.length > 0 ? $selectedItem : $item.eq(0);
          },
          itemWithAdditions: function (value) {
            var $items = module.get.item(value),
                $userItems = module.create.userChoice(value),
                hasUserItems = $userItems && $userItems.length > 0;

            if (hasUserItems) {
              $items = $items.length > 0 ? $items.add($userItems) : $userItems;
            }

            return $items;
          },
          item: function (value, strict) {
            var $selectedItem = false,
                shouldSearch,
                isMultiple;
            value = value !== undefined ? value : module.get.values() !== undefined ? module.get.values() : module.get.text();
            shouldSearch = isMultiple ? value.length > 0 : value !== undefined && value !== null;
            isMultiple = module.is.multiple() && $.isArray(value);
            strict = value === '' || value === 0 ? true : strict || false;

            if (shouldSearch) {
              $item.each(function () {
                var $choice = $(this),
                    optionText = module.get.choiceText($choice),
                    optionValue = module.get.choiceValue($choice, optionText); // safe early exit

                if (optionValue === null || optionValue === undefined) {
                  return;
                }

                if (isMultiple) {
                  if ($.inArray(String(optionValue), value) !== -1 || $.inArray(optionText, value) !== -1) {
                    $selectedItem = $selectedItem ? $selectedItem.add($choice) : $choice;
                  }
                } else if (strict) {
                  module.verbose('Ambiguous dropdown value using strict type check', $choice, value);

                  if (optionValue === value || optionText === value) {
                    $selectedItem = $choice;
                    return true;
                  }
                } else {
                  if (String(optionValue) == String(value) || optionText == value) {
                    module.verbose('Found select item by value', optionValue, value);
                    $selectedItem = $choice;
                    return true;
                  }
                }
              });
            }

            return $selectedItem;
          }
        },
        check: {
          maxSelections: function (selectionCount) {
            if (settings.maxSelections) {
              selectionCount = selectionCount !== undefined ? selectionCount : module.get.selectionCount();

              if (selectionCount >= settings.maxSelections) {
                module.debug('Maximum selection count reached');

                if (settings.useLabels) {
                  $item.addClass(className.filtered);
                  module.add.message(message.maxSelections);
                }

                return true;
              } else {
                module.verbose('No longer at maximum selection count');
                module.remove.message();
                module.remove.filteredItem();

                if (module.is.searchSelection()) {
                  module.filterItems();
                }

                return false;
              }
            }

            return true;
          }
        },
        restore: {
          defaults: function () {
            module.clear();
            module.restore.defaultText();
            module.restore.defaultValue();
          },
          defaultText: function () {
            var defaultText = module.get.defaultText(),
                placeholderText = module.get.placeholderText;

            if (defaultText === placeholderText) {
              module.debug('Restoring default placeholder text', defaultText);
              module.set.placeholderText(defaultText);
            } else {
              module.debug('Restoring default text', defaultText);
              module.set.text(defaultText);
            }
          },
          defaultValue: function () {
            var defaultValue = module.get.defaultValue();

            if (defaultValue !== undefined) {
              module.debug('Restoring default value', defaultValue);

              if (defaultValue !== '') {
                module.set.value(defaultValue);
                module.set.selected();
              } else {
                module.remove.activeItem();
                module.remove.selectedItem();
              }
            }
          },
          labels: function () {
            if (settings.allowAdditions) {
              if (!settings.useLabels) {
                module.error(error.labels);
                settings.useLabels = true;
              }

              module.debug('Restoring selected values');
              module.create.userLabels();
            }

            module.check.maxSelections();
          },
          selected: function () {
            module.restore.values();

            if (module.is.multiple()) {
              module.debug('Restoring previously selected values and labels');
              module.restore.labels();
            } else {
              module.debug('Restoring previously selected values');
            }
          },
          values: function () {
            // prevents callbacks from occuring on initial load
            module.set.initialLoad();

            if (settings.apiSettings) {
              if (settings.saveRemoteData) {
                module.restore.remoteValues();
              } else {
                module.clearValue();
              }
            } else {
              module.set.selected();
            }

            module.remove.initialLoad();
          },
          remoteValues: function () {
            var values = module.get.remoteValues();
            module.debug('Recreating selected from session data', values);

            if (values) {
              if (module.is.single()) {
                $.each(values, function (value, name) {
                  module.set.text(name);
                });
              } else {
                $.each(values, function (value, name) {
                  module.add.label(value, name);
                });
              }
            }
          }
        },
        read: {
          remoteData: function (value) {
            var name;

            if (window.Storage === undefined) {
              module.error(error.noStorage);
              return;
            }

            name = sessionStorage.getItem(value);
            return name !== undefined ? name : false;
          }
        },
        save: {
          defaults: function () {
            module.save.defaultText();
            module.save.placeholderText();
            module.save.defaultValue();
          },
          defaultValue: function () {
            var value = module.get.value();
            module.verbose('Saving default value as', value);
            $module.data(metadata.defaultValue, value);
          },
          defaultText: function () {
            var text = module.get.text();
            module.verbose('Saving default text as', text);
            $module.data(metadata.defaultText, text);
          },
          placeholderText: function () {
            var text;

            if (settings.placeholder !== false && $text.hasClass(className.placeholder)) {
              text = module.get.text();
              module.verbose('Saving placeholder text as', text);
              $module.data(metadata.placeholderText, text);
            }
          },
          remoteData: function (name, value) {
            if (window.Storage === undefined) {
              module.error(error.noStorage);
              return;
            }

            module.verbose('Saving remote data to session storage', value, name);
            sessionStorage.setItem(value, name);
          }
        },
        clear: function () {
          if (module.is.multiple()) {
            module.remove.labels();
          } else {
            module.remove.activeItem();
            module.remove.selectedItem();
          }

          module.set.placeholderText();
          module.clearValue();
        },
        clearValue: function () {
          module.set.value('');
        },
        scrollPage: function (direction, $selectedItem) {
          var $currentItem = $selectedItem || module.get.selectedItem(),
              $menu = $currentItem.closest(selector.menu),
              menuHeight = $menu.outerHeight(),
              currentScroll = $menu.scrollTop(),
              itemHeight = $item.eq(0).outerHeight(),
              itemsPerPage = Math.floor(menuHeight / itemHeight),
              maxScroll = $menu.prop('scrollHeight'),
              newScroll = direction == 'up' ? currentScroll - itemHeight * itemsPerPage : currentScroll + itemHeight * itemsPerPage,
              $selectableItem = $item.not(selector.unselectable),
              isWithinRange,
              $nextSelectedItem,
              elementIndex;
          elementIndex = direction == 'up' ? $selectableItem.index($currentItem) - itemsPerPage : $selectableItem.index($currentItem) + itemsPerPage;
          isWithinRange = direction == 'up' ? elementIndex >= 0 : elementIndex < $selectableItem.length;
          $nextSelectedItem = isWithinRange ? $selectableItem.eq(elementIndex) : direction == 'up' ? $selectableItem.first() : $selectableItem.last();

          if ($nextSelectedItem.length > 0) {
            module.debug('Scrolling page', direction, $nextSelectedItem);
            $currentItem.removeClass(className.selected);
            $nextSelectedItem.addClass(className.selected);
            $menu.scrollTop(newScroll);
          }
        },
        set: {
          filtered: function () {
            var isMultiple = module.is.multiple(),
                isSearch = module.is.searchSelection(),
                isSearchMultiple = isMultiple && isSearch,
                searchValue = isSearch ? module.get.query() : '',
                hasSearchValue = typeof searchValue === 'string' && searchValue.length > 0,
                searchWidth = module.get.searchWidth(searchValue.length),
                valueIsSet = searchValue !== '';

            if (isMultiple && hasSearchValue) {
              module.verbose('Adjusting input width', searchWidth, settings.glyphWidth);
              $search.css('width', searchWidth);
            }

            if (hasSearchValue || isSearchMultiple && valueIsSet) {
              module.verbose('Hiding placeholder text');
              $text.addClass(className.filtered);
            } else if (!isMultiple || isSearchMultiple && !valueIsSet) {
              module.verbose('Showing placeholder text');
              $text.removeClass(className.filtered);
            }
          },
          loading: function () {
            $module.addClass(className.loading);
          },
          placeholderText: function (text) {
            text = text || module.get.placeholderText();
            module.debug('Setting placeholder text', text);
            module.set.text(text);
            $text.addClass(className.placeholder);
          },
          tabbable: function () {
            if (module.has.search()) {
              module.debug('Added tabindex to searchable dropdown');
              $search.val('').attr('tabindex', 0);
              $menu.attr('tabindex', -1);
            } else {
              module.debug('Added tabindex to dropdown');

              if ($module.attr('tabindex') === undefined) {
                $module.attr('tabindex', 0);
                $menu.attr('tabindex', -1);
              }
            }
          },
          initialLoad: function () {
            module.verbose('Setting initial load');
            initialLoad = true;
          },
          activeItem: function ($item) {
            if (settings.allowAdditions && $item.filter(selector.addition).length > 0) {
              $item.addClass(className.filtered);
            } else {
              $item.addClass(className.active);
            }
          },
          scrollPosition: function ($item, forceScroll) {
            var edgeTolerance = 5,
                $menu,
                hasActive,
                offset,
                itemHeight,
                itemOffset,
                menuOffset,
                menuScroll,
                menuHeight,
                abovePage,
                belowPage;
            $item = $item || module.get.selectedItem();
            $menu = $item.closest(selector.menu);
            hasActive = $item && $item.length > 0;
            forceScroll = forceScroll !== undefined ? forceScroll : false;

            if ($item && $menu.length > 0 && hasActive) {
              itemOffset = $item.position().top;
              $menu.addClass(className.loading);
              menuScroll = $menu.scrollTop();
              menuOffset = $menu.offset().top;
              itemOffset = $item.offset().top;
              offset = menuScroll - menuOffset + itemOffset;

              if (!forceScroll) {
                menuHeight = $menu.height();
                belowPage = menuScroll + menuHeight < offset + edgeTolerance;
                abovePage = offset - edgeTolerance < menuScroll;
              }

              module.debug('Scrolling to active item', offset);

              if (forceScroll || abovePage || belowPage) {
                $menu.scrollTop(offset);
              }

              $menu.removeClass(className.loading);
            }
          },
          text: function (text) {
            if (settings.action !== 'select') {
              if (settings.action == 'combo') {
                module.debug('Changing combo button text', text, $combo);

                if (settings.preserveHTML) {
                  $combo.html(text);
                } else {
                  $combo.text(text);
                }
              } else {
                if (text !== module.get.placeholderText()) {
                  $text.removeClass(className.placeholder);
                }

                module.debug('Changing text', text, $text);
                $text.removeClass(className.filtered);

                if (settings.preserveHTML) {
                  $text.html(text);
                } else {
                  $text.text(text);
                }
              }
            }
          },
          selectedLetter: function (letter) {
            var $selectedItem = $item.filter('.' + className.selected),
                alreadySelectedLetter = $selectedItem.length > 0 && module.has.firstLetter($selectedItem, letter),
                $nextValue = false,
                $nextItem; // check next of same letter

            if (alreadySelectedLetter) {
              $nextItem = $selectedItem.nextAll($item).eq(0);

              if (module.has.firstLetter($nextItem, letter)) {
                $nextValue = $nextItem;
              }
            } // check all values


            if (!$nextValue) {
              $item.each(function () {
                if (module.has.firstLetter($(this), letter)) {
                  $nextValue = $(this);
                  return false;
                }
              });
            } // set next value


            if ($nextValue) {
              module.verbose('Scrolling to next value with letter', letter);
              module.set.scrollPosition($nextValue);
              $selectedItem.removeClass(className.selected);
              $nextValue.addClass(className.selected);
            }
          },
          direction: function ($menu) {
            if (settings.direction == 'auto') {
              if (module.is.onScreen($menu)) {
                module.remove.upward($menu);
              } else {
                module.set.upward($menu);
              }
            } else if (settings.direction == 'upward') {
              module.set.upward($menu);
            }
          },
          upward: function ($menu) {
            var $element = $menu || $module;
            $element.addClass(className.upward);
          },
          value: function (value, text, $selected) {
            var hasInput = $input.length > 0,
                isAddition = !module.has.value(value),
                currentValue = module.get.values(),
                stringValue = value !== undefined ? String(value) : value,
                newValue;

            if (hasInput) {
              if (stringValue == currentValue) {
                module.verbose('Skipping value update already same value', value, currentValue);

                if (!module.is.initialLoad()) {
                  return;
                }
              }

              if (module.is.single() && module.has.selectInput() && module.can.extendSelect()) {
                module.debug('Adding user option', value);
                module.add.optionValue(value);
              }

              module.debug('Updating input value', value, currentValue);
              internalChange = true;
              $input.val(value);

              if (settings.fireOnInit === false && module.is.initialLoad()) {
                module.debug('Input native change event ignored on initial load');
              } else {
                module.trigger.change();
              }

              internalChange = false;
            } else {
              module.verbose('Storing value in metadata', value, $input);

              if (value !== currentValue) {
                $module.data(metadata.value, stringValue);
              }
            }

            if (settings.fireOnInit === false && module.is.initialLoad()) {
              module.verbose('No callback on initial load', settings.onChange);
            } else {
              settings.onChange.call(element, value, text, $selected);
            }
          },
          active: function () {
            $module.addClass(className.active);
          },
          multiple: function () {
            $module.addClass(className.multiple);
          },
          visible: function () {
            $module.addClass(className.visible);
          },
          exactly: function (value, $selectedItem) {
            module.debug('Setting selected to exact values');
            module.clear();
            module.set.selected(value, $selectedItem);
          },
          selected: function (value, $selectedItem) {
            var isMultiple = module.is.multiple(),
                $userSelectedItem;
            $selectedItem = settings.allowAdditions ? $selectedItem || module.get.itemWithAdditions(value) : $selectedItem || module.get.item(value);

            if (!$selectedItem) {
              return;
            }

            module.debug('Setting selected menu item to', $selectedItem);

            if (module.is.single()) {
              module.remove.activeItem();
              module.remove.selectedItem();
            } else if (settings.useLabels) {
              module.remove.selectedItem();
            } // select each item


            $selectedItem.each(function () {
              var $selected = $(this),
                  selectedText = module.get.choiceText($selected),
                  selectedValue = module.get.choiceValue($selected, selectedText),
                  isFiltered = $selected.hasClass(className.filtered),
                  isActive = $selected.hasClass(className.active),
                  isUserValue = $selected.hasClass(className.addition),
                  shouldAnimate = isMultiple && $selectedItem.length == 1;

              if (isMultiple) {
                if (!isActive || isUserValue) {
                  if (settings.apiSettings && settings.saveRemoteData) {
                    module.save.remoteData(selectedText, selectedValue);
                  }

                  if (settings.useLabels) {
                    module.add.value(selectedValue, selectedText, $selected);
                    module.add.label(selectedValue, selectedText, shouldAnimate);
                    module.set.activeItem($selected);
                    module.filterActive();
                    module.select.nextAvailable($selectedItem);
                  } else {
                    module.add.value(selectedValue, selectedText, $selected);
                    module.set.text(module.add.variables(message.count));
                    module.set.activeItem($selected);
                  }
                } else if (!isFiltered) {
                  module.debug('Selected active value, removing label');
                  module.remove.selected(selectedValue);
                }
              } else {
                if (settings.apiSettings && settings.saveRemoteData) {
                  module.save.remoteData(selectedText, selectedValue);
                }

                module.set.text(selectedText);
                module.set.value(selectedValue, selectedText, $selected);
                $selected.addClass(className.active).addClass(className.selected);
              }
            });
          }
        },
        add: {
          label: function (value, text, shouldAnimate) {
            var $next = module.is.searchSelection() ? $search : $text,
                $label;
            $label = $('<a />').addClass(className.label).attr('data-value', value).html(templates.label(value, text));
            $label = settings.onLabelCreate.call($label, value, text);

            if (module.has.label(value)) {
              module.debug('Label already exists, skipping', value);
              return;
            }

            if (settings.label.variation) {
              $label.addClass(settings.label.variation);
            }

            if (shouldAnimate === true) {
              module.debug('Animating in label', $label);
              $label.addClass(className.hidden).insertBefore($next).transition(settings.label.transition, settings.label.duration);
            } else {
              module.debug('Adding selection label', $label);
              $label.insertBefore($next);
            }
          },
          message: function (message) {
            var $message = $menu.children(selector.message),
                html = settings.templates.message(module.add.variables(message));

            if ($message.length > 0) {
              $message.html(html);
            } else {
              $message = $('<div/>').html(html).addClass(className.message).appendTo($menu);
            }
          },
          optionValue: function (value) {
            var $option = $input.find('option[value="' + value + '"]'),
                hasOption = $option.length > 0;

            if (hasOption) {
              return;
            } // temporarily disconnect observer


            if (selectObserver) {
              selectObserver.disconnect();
              module.verbose('Temporarily disconnecting mutation observer', value);
            }

            if (module.is.single()) {
              module.verbose('Removing previous user addition');
              $input.find('option.' + className.addition).remove();
            }

            $('<option/>').prop('value', value).addClass(className.addition).html(value).appendTo($input);
            module.verbose('Adding user addition as an <option>', value);

            if (selectObserver) {
              selectObserver.observe($input[0], {
                childList: true,
                subtree: true
              });
            }
          },
          userSuggestion: function (value) {
            var $addition = $menu.children(selector.addition),
                $existingItem = module.get.item(value),
                alreadyHasValue = $existingItem && $existingItem.not(selector.addition).length,
                hasUserSuggestion = $addition.length > 0,
                html;

            if (settings.useLabels && module.has.maxSelections()) {
              return;
            }

            if (value === '' || alreadyHasValue) {
              $addition.remove();
              return;
            }

            $item.removeClass(className.selected);

            if (hasUserSuggestion) {
              html = settings.templates.addition(module.add.variables(message.addResult, value));
              $addition.html(html).attr('data-' + metadata.value, value).attr('data-' + metadata.text, value).removeClass(className.filtered).addClass(className.selected);
              module.verbose('Replacing user suggestion with new value', $addition);
            } else {
              $addition = module.create.userChoice(value);
              $addition.prependTo($menu).addClass(className.selected);
              module.verbose('Adding item choice to menu corresponding with user choice addition', $addition);
            }
          },
          variables: function (message, term) {
            var hasCount = message.search('{count}') !== -1,
                hasMaxCount = message.search('{maxCount}') !== -1,
                hasTerm = message.search('{term}') !== -1,
                values,
                count,
                query;
            module.verbose('Adding templated variables to message', message);

            if (hasCount) {
              count = module.get.selectionCount();
              message = message.replace('{count}', count);
            }

            if (hasMaxCount) {
              count = module.get.selectionCount();
              message = message.replace('{maxCount}', settings.maxSelections);
            }

            if (hasTerm) {
              query = term || module.get.query();
              message = message.replace('{term}', query);
            }

            return message;
          },
          value: function (addedValue, addedText, $selectedItem) {
            var currentValue = module.get.values(),
                newValue;

            if (addedValue === '') {
              module.debug('Cannot select blank values from multiselect');
              return;
            } // extend current array


            if ($.isArray(currentValue)) {
              newValue = currentValue.concat([addedValue]);
              newValue = module.get.uniqueArray(newValue);
            } else {
              newValue = [addedValue];
            } // add values


            if (module.has.selectInput()) {
              if (module.can.extendSelect()) {
                module.debug('Adding value to select', addedValue, newValue, $input);
                module.add.optionValue(addedValue);
              }
            } else {
              newValue = newValue.join(settings.delimiter);
              module.debug('Setting hidden input to delimited value', newValue, $input);
            }

            if (settings.fireOnInit === false && module.is.initialLoad()) {
              module.verbose('Skipping onadd callback on initial load', settings.onAdd);
            } else {
              settings.onAdd.call(element, addedValue, addedText, $selectedItem);
            }

            module.set.value(newValue, addedValue, addedText, $selectedItem);
            module.check.maxSelections();
          }
        },
        remove: {
          active: function () {
            $module.removeClass(className.active);
          },
          activeLabel: function () {
            $module.find(selector.label).removeClass(className.active);
          },
          loading: function () {
            $module.removeClass(className.loading);
          },
          initialLoad: function () {
            initialLoad = false;
          },
          upward: function ($menu) {
            var $element = $menu || $module;
            $element.removeClass(className.upward);
          },
          visible: function () {
            $module.removeClass(className.visible);
          },
          activeItem: function () {
            $item.removeClass(className.active);
          },
          filteredItem: function () {
            if (settings.useLabels && module.has.maxSelections()) {
              return;
            }

            if (settings.useLabels && module.is.multiple()) {
              $item.not('.' + className.active).removeClass(className.filtered);
            } else {
              $item.removeClass(className.filtered);
            }
          },
          optionValue: function (value) {
            var $option = $input.find('option[value="' + value + '"]'),
                hasOption = $option.length > 0;

            if (!hasOption || !$option.hasClass(className.addition)) {
              return;
            } // temporarily disconnect observer


            if (selectObserver) {
              selectObserver.disconnect();
              module.verbose('Temporarily disconnecting mutation observer', value);
            }

            $option.remove();
            module.verbose('Removing user addition as an <option>', value);

            if (selectObserver) {
              selectObserver.observe($input[0], {
                childList: true,
                subtree: true
              });
            }
          },
          message: function () {
            $menu.children(selector.message).remove();
          },
          searchTerm: function () {
            module.verbose('Cleared search term');
            $search.val('');
            module.set.filtered();
          },
          selected: function (value, $selectedItem) {
            $selectedItem = settings.allowAdditions ? $selectedItem || module.get.itemWithAdditions(value) : $selectedItem || module.get.item(value);

            if (!$selectedItem) {
              return false;
            }

            $selectedItem.each(function () {
              var $selected = $(this),
                  selectedText = module.get.choiceText($selected),
                  selectedValue = module.get.choiceValue($selected, selectedText);

              if (module.is.multiple()) {
                if (settings.useLabels) {
                  module.remove.value(selectedValue, selectedText, $selected);
                  module.remove.label(selectedValue);
                } else {
                  module.remove.value(selectedValue, selectedText, $selected);

                  if (module.get.selectionCount() === 0) {
                    module.set.placeholderText();
                  } else {
                    module.set.text(module.add.variables(message.count));
                  }
                }
              } else {
                module.remove.value(selectedValue, selectedText, $selected);
              }

              $selected.removeClass(className.filtered).removeClass(className.active);

              if (settings.useLabels) {
                $selected.removeClass(className.selected);
              }
            });
          },
          selectedItem: function () {
            $item.removeClass(className.selected);
          },
          value: function (removedValue, removedText, $removedItem) {
            var values = module.get.values(),
                newValue;

            if (module.has.selectInput()) {
              module.verbose('Input is <select> removing selected option', removedValue);
              newValue = module.remove.arrayValue(removedValue, values);
              module.remove.optionValue(removedValue);
            } else {
              module.verbose('Removing from delimited values', removedValue);
              newValue = module.remove.arrayValue(removedValue, values);
              newValue = newValue.join(settings.delimiter);
            }

            if (settings.fireOnInit === false && module.is.initialLoad()) {
              module.verbose('No callback on initial load', settings.onRemove);
            } else {
              settings.onRemove.call(element, removedValue, removedText, $removedItem);
            }

            module.set.value(newValue, removedText, $removedItem);
            module.check.maxSelections();
          },
          arrayValue: function (removedValue, values) {
            if (!$.isArray(values)) {
              values = [values];
            }

            values = $.grep(values, function (value) {
              return removedValue != value;
            });
            module.verbose('Removed value from delimited string', removedValue, values);
            return values;
          },
          label: function (value, shouldAnimate) {
            var $labels = $module.find(selector.label),
                $removedLabel = $labels.filter('[data-value="' + value + '"]');
            module.verbose('Removing label', $removedLabel);
            $removedLabel.remove();
          },
          activeLabels: function ($activeLabels) {
            $activeLabels = $activeLabels || $module.find(selector.label).filter('.' + className.active);
            module.verbose('Removing active label selections', $activeLabels);
            module.remove.labels($activeLabels);
          },
          labels: function ($labels) {
            $labels = $labels || $module.find(selector.label);
            module.verbose('Removing labels', $labels);
            $labels.each(function () {
              var $label = $(this),
                  value = $label.data(metadata.value),
                  stringValue = value !== undefined ? String(value) : value,
                  isUserValue = module.is.userValue(stringValue);

              if (settings.onLabelRemove.call($label, value) === false) {
                module.debug('Label remove callback cancelled removal');
                return;
              }

              if (isUserValue) {
                module.remove.value(stringValue);
                module.remove.label(stringValue);
              } else {
                // selected will also remove label
                module.remove.selected(stringValue);
              }
            });
          },
          tabbable: function () {
            if (module.has.search()) {
              module.debug('Searchable dropdown initialized');
              $search.removeAttr('tabindex');
              $menu.removeAttr('tabindex');
            } else {
              module.debug('Simple selection dropdown initialized');
              $module.removeAttr('tabindex');
              $menu.removeAttr('tabindex');
            }
          }
        },
        has: {
          search: function () {
            return $search.length > 0;
          },
          selectInput: function () {
            return $input.is('select');
          },
          firstLetter: function ($item, letter) {
            var text, firstLetter;

            if (!$item || $item.length === 0 || typeof letter !== 'string') {
              return false;
            }

            text = module.get.choiceText($item, false);
            letter = letter.toLowerCase();
            firstLetter = String(text).charAt(0).toLowerCase();
            return letter == firstLetter;
          },
          input: function () {
            return $input.length > 0;
          },
          items: function () {
            return $item.length > 0;
          },
          menu: function () {
            return $menu.length > 0;
          },
          message: function () {
            return $menu.children(selector.message).length !== 0;
          },
          label: function (value) {
            var $labels = $module.find(selector.label);
            return $labels.filter('[data-value="' + value + '"]').length > 0;
          },
          maxSelections: function () {
            return settings.maxSelections && module.get.selectionCount() >= settings.maxSelections;
          },
          allResultsFiltered: function () {
            return $item.filter(selector.unselectable).length === $item.length;
          },
          query: function () {
            return module.get.query() !== '';
          },
          value: function (value) {
            var values = module.get.values(),
                hasValue = $.isArray(values) ? values && $.inArray(value, values) !== -1 : values == value;
            return hasValue ? true : false;
          }
        },
        is: {
          active: function () {
            return $module.hasClass(className.active);
          },
          alreadySetup: function () {
            return $module.is('select') && $module.parent(selector.dropdown).length > 0 && $module.prev().length === 0;
          },
          animating: function ($subMenu) {
            return $subMenu ? $subMenu.transition && $subMenu.transition('is animating') : $menu.transition && $menu.transition('is animating');
          },
          disabled: function () {
            return $module.hasClass(className.disabled);
          },
          focused: function () {
            return document.activeElement === $module[0];
          },
          focusedOnSearch: function () {
            return document.activeElement === $search[0];
          },
          allFiltered: function () {
            return (module.is.multiple() || module.has.search()) && !module.has.message() && module.has.allResultsFiltered();
          },
          hidden: function ($subMenu) {
            return !module.is.visible($subMenu);
          },
          initialLoad: function () {
            return initialLoad;
          },
          onScreen: function ($subMenu) {
            var $currentMenu = $subMenu || $menu,
                canOpenDownward = true,
                onScreen = {},
                calculations;
            $currentMenu.addClass(className.loading);
            calculations = {
              context: {
                scrollTop: $context.scrollTop(),
                height: $context.outerHeight()
              },
              menu: {
                offset: $currentMenu.offset(),
                height: $currentMenu.outerHeight()
              }
            };
            onScreen = {
              above: calculations.context.scrollTop <= calculations.menu.offset.top - calculations.menu.height,
              below: calculations.context.scrollTop + calculations.context.height >= calculations.menu.offset.top + calculations.menu.height
            };

            if (onScreen.below) {
              module.verbose('Dropdown can fit in context downward', onScreen);
              canOpenDownward = true;
            } else if (!onScreen.below && !onScreen.above) {
              module.verbose('Dropdown cannot fit in either direction, favoring downward', onScreen);
              canOpenDownward = true;
            } else {
              module.verbose('Dropdown cannot fit below, opening upward', onScreen);
              canOpenDownward = false;
            }

            $currentMenu.removeClass(className.loading);
            return canOpenDownward;
          },
          inObject: function (needle, object) {
            var found = false;
            $.each(object, function (index, property) {
              if (property == needle) {
                found = true;
                return true;
              }
            });
            return found;
          },
          multiple: function () {
            return $module.hasClass(className.multiple);
          },
          single: function () {
            return !module.is.multiple();
          },
          selectMutation: function (mutations) {
            var selectChanged = false;
            $.each(mutations, function (index, mutation) {
              if (mutation.target && $(mutation.target).is('select')) {
                selectChanged = true;
                return true;
              }
            });
            return selectChanged;
          },
          search: function () {
            return $module.hasClass(className.search);
          },
          searchSelection: function () {
            return module.has.search() && $search.parent(selector.dropdown).length === 1;
          },
          selection: function () {
            return $module.hasClass(className.selection);
          },
          userValue: function (value) {
            return $.inArray(value, module.get.userValues()) !== -1;
          },
          upward: function ($menu) {
            var $element = $menu || $module;
            return $element.hasClass(className.upward);
          },
          visible: function ($subMenu) {
            return $subMenu ? $subMenu.hasClass(className.visible) : $menu.hasClass(className.visible);
          }
        },
        can: {
          activate: function ($item) {
            if (settings.useLabels) {
              return true;
            }

            if (!module.has.maxSelections()) {
              return true;
            }

            if (module.has.maxSelections() && $item.hasClass(className.active)) {
              return true;
            }

            return false;
          },
          click: function () {
            return hasTouch || settings.on == 'click';
          },
          extendSelect: function () {
            return settings.allowAdditions || settings.apiSettings;
          },
          show: function () {
            return !module.is.disabled() && (module.has.items() || module.has.message());
          },
          useAPI: function () {
            return $.fn.api !== undefined;
          }
        },
        animate: {
          show: function (callback, $subMenu) {
            var $currentMenu = $subMenu || $menu,
                start = $subMenu ? function () {} : function () {
              module.hideSubMenus();
              module.hideOthers();
              module.set.active();
            },
                transition;
            callback = $.isFunction(callback) ? callback : function () {};
            module.verbose('Doing menu show animation', $currentMenu);
            module.set.direction($subMenu);
            transition = module.get.transition($subMenu);

            if (module.is.selection()) {
              module.set.scrollPosition(module.get.selectedItem(), true);
            }

            if (module.is.hidden($currentMenu) || module.is.animating($currentMenu)) {
              if (transition == 'none') {
                start();
                $currentMenu.transition('show');
                callback.call(element);
              } else if ($.fn.transition !== undefined && $module.transition('is supported')) {
                $currentMenu.transition({
                  animation: transition + ' in',
                  debug: settings.debug,
                  verbose: settings.verbose,
                  duration: settings.duration,
                  queue: true,
                  onStart: start,
                  onComplete: function () {
                    callback.call(element);
                  }
                });
              } else {
                module.error(error.noTransition, transition);
              }
            }
          },
          hide: function (callback, $subMenu) {
            var $currentMenu = $subMenu || $menu,
                duration = $subMenu ? settings.duration * 0.9 : settings.duration,
                start = $subMenu ? function () {} : function () {
              if (module.can.click()) {
                module.unbind.intent();
              }

              module.remove.active();
            },
                transition = module.get.transition($subMenu);
            callback = $.isFunction(callback) ? callback : function () {};

            if (module.is.visible($currentMenu) || module.is.animating($currentMenu)) {
              module.verbose('Doing menu hide animation', $currentMenu);

              if (transition == 'none') {
                start();
                $currentMenu.transition('hide');
                callback.call(element);
              } else if ($.fn.transition !== undefined && $module.transition('is supported')) {
                $currentMenu.transition({
                  animation: transition + ' out',
                  duration: settings.duration,
                  debug: settings.debug,
                  verbose: settings.verbose,
                  queue: true,
                  onStart: start,
                  onComplete: function () {
                    if (settings.direction == 'auto') {
                      module.remove.upward($subMenu);
                    }

                    callback.call(element);
                  }
                });
              } else {
                module.error(error.transition);
              }
            }
          }
        },
        hideAndClear: function () {
          module.remove.searchTerm();

          if (module.has.maxSelections()) {
            return;
          }

          if (module.has.search()) {
            module.hide(function () {
              module.remove.filteredItem();
            });
          } else {
            module.hide();
          }
        },
        delay: {
          show: function () {
            module.verbose('Delaying show event to ensure user intent');
            clearTimeout(module.timer);
            module.timer = setTimeout(module.show, settings.delay.show);
          },
          hide: function () {
            module.verbose('Delaying hide event to ensure user intent');
            clearTimeout(module.timer);
            module.timer = setTimeout(module.hide, settings.delay.hide);
          }
        },
        escape: {
          regExp: function (text) {
            text = String(text);
            return text.replace(regExp.escape, '\\$&');
          }
        },
        setting: function (name, value) {
          module.debug('Changing setting', name, value);

          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                module.error(error.method, query);
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : $allModules;
  };

  $.fn.dropdown.settings = {
    debug: false,
    verbose: false,
    performance: true,
    on: 'click',
    // what event should show menu action on item selection
    action: 'activate',
    // action on item selection (nothing, activate, select, combo, hide, function(){})
    apiSettings: false,
    saveRemoteData: true,
    // Whether remote name/value pairs should be stored in sessionStorage to allow remote data to be restored on page refresh
    throttle: 200,
    // How long to wait after last user input to search remotely
    context: window,
    // Context to use when determining if on screen
    direction: 'auto',
    // Whether dropdown should always open in one direction
    keepOnScreen: true,
    // Whether dropdown should check whether it is on screen before showing
    match: 'both',
    // what to match against with search selection (both, text, or label)
    fullTextSearch: false,
    // search anywhere in value
    placeholder: 'auto',
    // whether to convert blank <select> values to placeholder text
    preserveHTML: true,
    // preserve html when selecting value
    sortSelect: false,
    // sort selection on init
    forceSelection: true,
    // force a choice on blur with search selection
    allowAdditions: false,
    // whether multiple select should allow user added values
    maxSelections: false,
    // When set to a number limits the number of selections to this count
    useLabels: true,
    // whether multiple select should filter currently active selections from choices
    delimiter: ',',
    // when multiselect uses normal <input> the values will be delimited with this character
    showOnFocus: true,
    // show menu on focus
    allowTab: true,
    // add tabindex to element
    allowCategorySelection: false,
    // allow elements with sub-menus to be selected
    fireOnInit: false,
    // Whether callbacks should fire when initializing dropdown values
    transition: 'auto',
    // auto transition will slide down or up based on direction
    duration: 200,
    // duration of transition
    glyphWidth: 1.0714,
    // widest glyph width in em (W is 1.0714 em) used to calculate multiselect input width
    // label settings on multi-select
    label: {
      transition: 'scale',
      duration: 200,
      variation: false
    },
    // delay before event
    delay: {
      hide: 300,
      show: 200,
      search: 20,
      touch: 50
    },

    /* Callbacks */
    onChange: function (value, text, $selected) {},
    onAdd: function (value, text, $selected) {},
    onRemove: function (value, text, $selected) {},
    onLabelSelect: function ($selectedLabels) {},
    onLabelCreate: function (value, text) {
      return $(this);
    },
    onLabelRemove: function (value) {
      return true;
    },
    onNoResults: function (searchTerm) {
      return true;
    },
    onShow: function () {},
    onHide: function () {},

    /* Component */
    name: 'Dropdown',
    namespace: 'dropdown',
    message: {
      addResult: 'Add <b>{term}</b>',
      count: '{count} selected',
      maxSelections: 'Max {maxCount} selections',
      noResults: 'No results found.',
      serverError: 'There was an error contacting the server'
    },
    error: {
      action: 'You called a dropdown action that was not defined',
      alreadySetup: 'Once a select has been initialized behaviors must be called on the created ui dropdown',
      labels: 'Allowing user additions currently requires the use of labels.',
      missingMultiple: '<select> requires multiple property to be set to correctly preserve multiple values',
      method: 'The method you called is not defined.',
      noAPI: 'The API module is required to load resources remotely',
      noStorage: 'Saving remote data requires session storage',
      noTransition: 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>'
    },
    regExp: {
      escape: /[-[\]{}()*+?.,\\^$|#\s]/g
    },
    metadata: {
      defaultText: 'defaultText',
      defaultValue: 'defaultValue',
      placeholderText: 'placeholder',
      text: 'text',
      value: 'value'
    },
    // property names for remote query
    fields: {
      remoteValues: 'results',
      // grouping for api results
      values: 'values',
      // grouping for all dropdown values
      name: 'name',
      // displayed dropdown text
      value: 'value' // actual dropdown value

    },
    keys: {
      backspace: 8,
      delimiter: 188,
      // comma
      deleteKey: 46,
      enter: 13,
      escape: 27,
      pageUp: 33,
      pageDown: 34,
      leftArrow: 37,
      upArrow: 38,
      rightArrow: 39,
      downArrow: 40
    },
    selector: {
      addition: '.addition',
      dropdown: '.ui.dropdown',
      icon: '> .dropdown.icon',
      input: '> input[type="hidden"], > select',
      item: '.item',
      label: '> .label',
      remove: '> .label > .delete.icon',
      siblingLabel: '.label',
      menu: '.menu',
      message: '.message',
      menuIcon: '.dropdown.icon',
      search: 'input.search, .menu > .search > input',
      text: '> .text:not(.icon)',
      unselectable: '.disabled, .filtered'
    },
    className: {
      active: 'active',
      addition: 'addition',
      animating: 'animating',
      disabled: 'disabled',
      dropdown: 'ui dropdown',
      filtered: 'filtered',
      hidden: 'hidden transition',
      item: 'item',
      label: 'ui label',
      loading: 'loading',
      menu: 'menu',
      message: 'message',
      multiple: 'multiple',
      placeholder: 'default',
      search: 'search',
      selected: 'selected',
      selection: 'selection',
      upward: 'upward',
      visible: 'visible'
    }
  };
  /* Templates */

  $.fn.dropdown.settings.templates = {
    // generates dropdown from select values
    dropdown: function (select) {
      var placeholder = select.placeholder || false,
          values = select.values || {},
          html = '';
      html += '<i class="dropdown icon"></i>';

      if (select.placeholder) {
        html += '<div class="default text">' + placeholder + '</div>';
      } else {
        html += '<div class="text"></div>';
      }

      html += '<div class="menu">';
      $.each(select.values, function (index, option) {
        html += option.disabled ? '<div class="disabled item" data-value="' + option.value + '">' + option.name + '</div>' : '<div class="item" data-value="' + option.value + '">' + option.name + '</div>';
      });
      html += '</div>';
      return html;
    },
    // generates just menu from select
    menu: function (response, fields) {
      var values = response[fields.values] || {},
          html = '';
      $.each(values, function (index, option) {
        html += '<div class="item" data-value="' + option[fields.value] + '">' + option[fields.name] + '</div>';
      });
      return html;
    },
    // generates label for multiselect
    label: function (value, text) {
      return text + '<i class="delete icon"></i>';
    },
    // generates messages like "No results"
    message: function (message) {
      return message;
    },
    // generates user addition to selection menu
    addition: function (choice) {
      return choice;
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"embed.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/modules/embed.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Video
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.embed = function (parameters) {
    var $allModules = $(this),
        moduleSelector = $allModules.selector || '',
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        returnedValue;
    $allModules.each(function () {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.embed.settings, parameters) : $.extend({}, $.fn.embed.settings),
          selector = settings.selector,
          className = settings.className,
          sources = settings.sources,
          error = settings.error,
          metadata = settings.metadata,
          namespace = settings.namespace,
          templates = settings.templates,
          eventNamespace = '.' + namespace,
          moduleNamespace = 'module-' + namespace,
          $window = $(window),
          $module = $(this),
          $placeholder = $module.find(selector.placeholder),
          $icon = $module.find(selector.icon),
          $embed = $module.find(selector.embed),
          element = this,
          instance = $module.data(moduleNamespace),
          module;
      module = {
        initialize: function () {
          module.debug('Initializing embed');
          module.determine.autoplay();
          module.create();
          module.bind.events();
          module.instantiate();
        },
        instantiate: function () {
          module.verbose('Storing instance of module', module);
          instance = module;
          $module.data(moduleNamespace, module);
        },
        destroy: function () {
          module.verbose('Destroying previous instance of embed');
          module.reset();
          $module.removeData(moduleNamespace).off(eventNamespace);
        },
        refresh: function () {
          module.verbose('Refreshing selector cache');
          $placeholder = $module.find(selector.placeholder);
          $icon = $module.find(selector.icon);
          $embed = $module.find(selector.embed);
        },
        bind: {
          events: function () {
            if (module.has.placeholder()) {
              module.debug('Adding placeholder events');
              $module.on('click' + eventNamespace, selector.placeholder, module.createAndShow).on('click' + eventNamespace, selector.icon, module.createAndShow);
            }
          }
        },
        create: function () {
          var placeholder = module.get.placeholder();

          if (placeholder) {
            module.createPlaceholder();
          } else {
            module.createAndShow();
          }
        },
        createPlaceholder: function (placeholder) {
          var icon = module.get.icon(),
              url = module.get.url(),
              embed = module.generate.embed(url);
          placeholder = placeholder || module.get.placeholder();
          $module.html(templates.placeholder(placeholder, icon));
          module.debug('Creating placeholder for embed', placeholder, icon);
        },
        createEmbed: function (url) {
          module.refresh();
          url = url || module.get.url();
          $embed = $('<div/>').addClass(className.embed).html(module.generate.embed(url)).appendTo($module);
          settings.onCreate.call(element, url);
          module.debug('Creating embed object', $embed);
        },
        createAndShow: function () {
          module.createEmbed();
          module.show();
        },
        // sets new embed
        change: function (source, id, url) {
          module.debug('Changing video to ', source, id, url);
          $module.data(metadata.source, source).data(metadata.id, id).data(metadata.url, url);
          module.create();
        },
        // clears embed
        reset: function () {
          module.debug('Clearing embed and showing placeholder');
          module.remove.active();
          module.remove.embed();
          module.showPlaceholder();
          settings.onReset.call(element);
        },
        // shows current embed
        show: function () {
          module.debug('Showing embed');
          module.set.active();
          settings.onDisplay.call(element);
        },
        hide: function () {
          module.debug('Hiding embed');
          module.showPlaceholder();
        },
        showPlaceholder: function () {
          module.debug('Showing placeholder image');
          module.remove.active();
          settings.onPlaceholderDisplay.call(element);
        },
        get: {
          id: function () {
            return settings.id || $module.data(metadata.id);
          },
          placeholder: function () {
            return settings.placeholder || $module.data(metadata.placeholder);
          },
          icon: function () {
            return settings.icon ? settings.icon : $module.data(metadata.icon) !== undefined ? $module.data(metadata.icon) : module.determine.icon();
          },
          source: function (url) {
            return settings.source ? settings.source : $module.data(metadata.source) !== undefined ? $module.data(metadata.source) : module.determine.source();
          },
          type: function () {
            var source = module.get.source();
            return sources[source] !== undefined ? sources[source].type : false;
          },
          url: function () {
            return settings.url ? settings.url : $module.data(metadata.url) !== undefined ? $module.data(metadata.url) : module.determine.url();
          }
        },
        determine: {
          autoplay: function () {
            if (module.should.autoplay()) {
              settings.autoplay = true;
            }
          },
          source: function (url) {
            var matchedSource = false;
            url = url || module.get.url();

            if (url) {
              $.each(sources, function (name, source) {
                if (url.search(source.domain) !== -1) {
                  matchedSource = name;
                  return false;
                }
              });
            }

            return matchedSource;
          },
          icon: function () {
            var source = module.get.source();
            return sources[source] !== undefined ? sources[source].icon : false;
          },
          url: function () {
            var id = settings.id || $module.data(metadata.id),
                source = settings.source || $module.data(metadata.source),
                url;
            url = sources[source] !== undefined ? sources[source].url.replace('{id}', id) : false;

            if (url) {
              $module.data(metadata.url, url);
            }

            return url;
          }
        },
        set: {
          active: function () {
            $module.addClass(className.active);
          }
        },
        remove: {
          active: function () {
            $module.removeClass(className.active);
          },
          embed: function () {
            $embed.empty();
          }
        },
        encode: {
          parameters: function (parameters) {
            var urlString = [],
                index;

            for (index in meteorBabelHelpers.sanitizeForInObject(parameters)) {
              urlString.push(encodeURIComponent(index) + '=' + encodeURIComponent(parameters[index]));
            }

            return urlString.join('&amp;');
          }
        },
        generate: {
          embed: function (url) {
            module.debug('Generating embed html');
            var source = module.get.source(),
                html,
                parameters;
            url = module.get.url(url);

            if (url) {
              parameters = module.generate.parameters(source);
              html = templates.iframe(url, parameters);
            } else {
              module.error(error.noURL, $module);
            }

            return html;
          },
          parameters: function (source, extraParameters) {
            var parameters = sources[source] && sources[source].parameters !== undefined ? sources[source].parameters(settings) : {};
            extraParameters = extraParameters || settings.parameters;

            if (extraParameters) {
              parameters = $.extend({}, parameters, extraParameters);
            }

            parameters = settings.onEmbed(parameters);
            return module.encode.parameters(parameters);
          }
        },
        has: {
          placeholder: function () {
            return settings.placeholder || $module.data(metadata.placeholder);
          }
        },
        should: {
          autoplay: function () {
            return settings.autoplay === 'auto' ? settings.placeholder || $module.data(metadata.placeholder) !== undefined : settings.autoplay;
          }
        },
        is: {
          video: function () {
            return module.get.type() == 'video';
          }
        },
        setting: function (name, value) {
          module.debug('Changing setting', name, value);

          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ($allModules.length > 1) {
              title += ' ' + '(' + $allModules.length + ')';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                module.error(error.method, query);
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.embed.settings = {
    name: 'Embed',
    namespace: 'embed',
    debug: false,
    verbose: false,
    performance: true,
    icon: false,
    source: false,
    url: false,
    id: false,
    // standard video settings
    autoplay: 'auto',
    color: '#444444',
    hd: true,
    brandedUI: false,
    // additional parameters to include with the embed
    parameters: false,
    onDisplay: function () {},
    onPlaceholderDisplay: function () {},
    onReset: function () {},
    onCreate: function (url) {},
    onEmbed: function (parameters) {
      return parameters;
    },
    metadata: {
      id: 'id',
      icon: 'icon',
      placeholder: 'placeholder',
      source: 'source',
      url: 'url'
    },
    error: {
      noURL: 'No URL specified',
      method: 'The method you called is not defined'
    },
    className: {
      active: 'active',
      embed: 'embed'
    },
    selector: {
      embed: '.embed',
      placeholder: '.placeholder',
      icon: '.icon'
    },
    sources: {
      youtube: {
        name: 'youtube',
        type: 'video',
        icon: 'video play',
        domain: 'youtube.com',
        url: '//www.youtube.com/embed/{id}',
        parameters: function (settings) {
          return {
            autohide: !settings.brandedUI,
            autoplay: settings.autoplay,
            color: settings.colors || undefined,
            hq: settings.hd,
            jsapi: settings.api,
            modestbranding: !settings.brandedUI
          };
        }
      },
      vimeo: {
        name: 'vimeo',
        type: 'video',
        icon: 'video play',
        domain: 'vimeo.com',
        url: '//player.vimeo.com/video/{id}',
        parameters: function (settings) {
          return {
            api: settings.api,
            autoplay: settings.autoplay,
            byline: settings.brandedUI,
            color: settings.colors || undefined,
            portrait: settings.brandedUI,
            title: settings.brandedUI
          };
        }
      }
    },
    templates: {
      iframe: function (url, parameters) {
        return '' + '<iframe src="' + url + '?' + parameters + '"' + ' width="100%" height="100%"' + ' frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';
      },
      placeholder: function (image, icon) {
        var html = '';

        if (icon) {
          html += '<i class="' + icon + ' icon"></i>';
        }

        if (image) {
          html += '<img class="placeholder" src="' + image + '">';
        }

        return html;
      }
    },
    // NOT YET IMPLEMENTED
    api: true,
    onPause: function () {},
    onPlay: function () {},
    onStop: function () {}
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"modal.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/modules/modal.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Modal
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.modal = function (parameters) {
    var $allModules = $(this),
        $window = $(window),
        $document = $(document),
        $body = $('body'),
        moduleSelector = $allModules.selector || '',
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
      setTimeout(callback, 0);
    },
        returnedValue;

    $allModules.each(function () {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.modal.settings, parameters) : $.extend({}, $.fn.modal.settings),
          selector = settings.selector,
          className = settings.className,
          namespace = settings.namespace,
          error = settings.error,
          eventNamespace = '.' + namespace,
          moduleNamespace = 'module-' + namespace,
          $module = $(this),
          $context = $(settings.context),
          $close = $module.find(selector.close),
          $allModals,
          $otherModals,
          $focusedElement,
          $dimmable,
          $dimmer,
          element = this,
          instance = $module.data(moduleNamespace),
          elementNamespace,
          id,
          observer,
          module;
      module = {
        initialize: function () {
          module.verbose('Initializing dimmer', $context);
          module.create.id();
          module.create.dimmer();
          module.refreshModals();
          module.bind.events();

          if (settings.observeChanges) {
            module.observeChanges();
          }

          module.instantiate();
        },
        instantiate: function () {
          module.verbose('Storing instance of modal');
          instance = module;
          $module.data(moduleNamespace, instance);
        },
        create: {
          dimmer: function () {
            var defaultSettings = {
              debug: settings.debug,
              dimmerName: 'modals',
              duration: {
                show: settings.duration,
                hide: settings.duration
              }
            },
                dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings);

            if (settings.inverted) {
              dimmerSettings.variation = dimmerSettings.variation !== undefined ? dimmerSettings.variation + ' inverted' : 'inverted';
            }

            if ($.fn.dimmer === undefined) {
              module.error(error.dimmer);
              return;
            }

            module.debug('Creating dimmer with settings', dimmerSettings);
            $dimmable = $context.dimmer(dimmerSettings);

            if (settings.detachable) {
              module.verbose('Modal is detachable, moving content into dimmer');
              $dimmable.dimmer('add content', $module);
            } else {
              module.set.undetached();
            }

            if (settings.blurring) {
              $dimmable.addClass(className.blurring);
            }

            $dimmer = $dimmable.dimmer('get dimmer');
          },
          id: function () {
            id = (Math.random().toString(16) + '000000000').substr(2, 8);
            elementNamespace = '.' + id;
            module.verbose('Creating unique id for element', id);
          }
        },
        destroy: function () {
          module.verbose('Destroying previous modal');
          $module.removeData(moduleNamespace).off(eventNamespace);
          $window.off(elementNamespace);
          $close.off(eventNamespace);
          $context.dimmer('destroy');
        },
        observeChanges: function () {
          if ('MutationObserver' in window) {
            observer = new MutationObserver(function (mutations) {
              module.debug('DOM tree modified, refreshing');
              module.refresh();
            });
            observer.observe(element, {
              childList: true,
              subtree: true
            });
            module.debug('Setting up mutation observer', observer);
          }
        },
        refresh: function () {
          module.remove.scrolling();
          module.cacheSizes();
          module.set.screenHeight();
          module.set.type();
          module.set.position();
        },
        refreshModals: function () {
          $otherModals = $module.siblings(selector.modal);
          $allModals = $otherModals.add($module);
        },
        attachEvents: function (selector, event) {
          var $toggle = $(selector);
          event = $.isFunction(module[event]) ? module[event] : module.toggle;

          if ($toggle.length > 0) {
            module.debug('Attaching modal events to element', selector, event);
            $toggle.off(eventNamespace).on('click' + eventNamespace, event);
          } else {
            module.error(error.notFound, selector);
          }
        },
        bind: {
          events: function () {
            module.verbose('Attaching events');
            $module.on('click' + eventNamespace, selector.close, module.event.close).on('click' + eventNamespace, selector.approve, module.event.approve).on('click' + eventNamespace, selector.deny, module.event.deny);
            $window.on('resize' + elementNamespace, module.event.resize);
          }
        },
        get: {
          id: function () {
            return (Math.random().toString(16) + '000000000').substr(2, 8);
          }
        },
        event: {
          approve: function () {
            if (settings.onApprove.call(element, $(this)) === false) {
              module.verbose('Approve callback returned false cancelling hide');
              return;
            }

            module.hide();
          },
          deny: function () {
            if (settings.onDeny.call(element, $(this)) === false) {
              module.verbose('Deny callback returned false cancelling hide');
              return;
            }

            module.hide();
          },
          close: function () {
            module.hide();
          },
          click: function (event) {
            var $target = $(event.target),
                isInModal = $target.closest(selector.modal).length > 0,
                isInDOM = $.contains(document.documentElement, event.target);

            if (!isInModal && isInDOM) {
              module.debug('Dimmer clicked, hiding all modals');

              if (module.is.active()) {
                module.remove.clickaway();

                if (settings.allowMultiple) {
                  module.hide();
                } else {
                  module.hideAll();
                }
              }
            }
          },
          debounce: function (method, delay) {
            clearTimeout(module.timer);
            module.timer = setTimeout(method, delay);
          },
          keyboard: function (event) {
            var keyCode = event.which,
                escapeKey = 27;

            if (keyCode == escapeKey) {
              if (settings.closable) {
                module.debug('Escape key pressed hiding modal');
                module.hide();
              } else {
                module.debug('Escape key pressed, but closable is set to false');
              }

              event.preventDefault();
            }
          },
          resize: function () {
            if ($dimmable.dimmer('is active')) {
              requestAnimationFrame(module.refresh);
            }
          }
        },
        toggle: function () {
          if (module.is.active() || module.is.animating()) {
            module.hide();
          } else {
            module.show();
          }
        },
        show: function (callback) {
          callback = $.isFunction(callback) ? callback : function () {};
          module.refreshModals();
          module.showModal(callback);
        },
        hide: function (callback) {
          callback = $.isFunction(callback) ? callback : function () {};
          module.refreshModals();
          module.hideModal(callback);
        },
        showModal: function (callback) {
          callback = $.isFunction(callback) ? callback : function () {};

          if (module.is.animating() || !module.is.active()) {
            module.showDimmer();
            module.cacheSizes();
            module.set.position();
            module.set.screenHeight();
            module.set.type();
            module.set.clickaway();

            if (!settings.allowMultiple && module.others.active()) {
              module.hideOthers(module.showModal);
            } else {
              settings.onShow.call(element);

              if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {
                module.debug('Showing modal with css animations');
                $module.transition({
                  debug: settings.debug,
                  animation: settings.transition + ' in',
                  queue: settings.queue,
                  duration: settings.duration,
                  useFailSafe: true,
                  onComplete: function () {
                    settings.onVisible.apply(element);
                    module.add.keyboardShortcuts();
                    module.save.focus();
                    module.set.active();

                    if (settings.autofocus) {
                      module.set.autofocus();
                    }

                    callback();
                  }
                });
              } else {
                module.error(error.noTransition);
              }
            }
          } else {
            module.debug('Modal is already visible');
          }
        },
        hideModal: function (callback, keepDimmed) {
          callback = $.isFunction(callback) ? callback : function () {};
          module.debug('Hiding modal');

          if (settings.onHide.call(element, $(this)) === false) {
            module.verbose('Hide callback returned false cancelling hide');
            return;
          }

          if (module.is.animating() || module.is.active()) {
            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {
              module.remove.active();
              $module.transition({
                debug: settings.debug,
                animation: settings.transition + ' out',
                queue: settings.queue,
                duration: settings.duration,
                useFailSafe: true,
                onStart: function () {
                  if (!module.others.active() && !keepDimmed) {
                    module.hideDimmer();
                  }

                  module.remove.keyboardShortcuts();
                },
                onComplete: function () {
                  settings.onHidden.call(element);
                  module.restore.focus();
                  callback();
                }
              });
            } else {
              module.error(error.noTransition);
            }
          }
        },
        showDimmer: function () {
          if ($dimmable.dimmer('is animating') || !$dimmable.dimmer('is active')) {
            module.debug('Showing dimmer');
            $dimmable.dimmer('show');
          } else {
            module.debug('Dimmer already visible');
          }
        },
        hideDimmer: function () {
          if ($dimmable.dimmer('is animating') || $dimmable.dimmer('is active')) {
            $dimmable.dimmer('hide', function () {
              module.remove.clickaway();
              module.remove.screenHeight();
            });
          } else {
            module.debug('Dimmer is not visible cannot hide');
            return;
          }
        },
        hideAll: function (callback) {
          var $visibleModals = $allModals.filter('.' + className.active + ', .' + className.animating);
          callback = $.isFunction(callback) ? callback : function () {};

          if ($visibleModals.length > 0) {
            module.debug('Hiding all visible modals');
            module.hideDimmer();
            $visibleModals.modal('hide modal', callback);
          }
        },
        hideOthers: function (callback) {
          var $visibleModals = $otherModals.filter('.' + className.active + ', .' + className.animating);
          callback = $.isFunction(callback) ? callback : function () {};

          if ($visibleModals.length > 0) {
            module.debug('Hiding other modals', $otherModals);
            $visibleModals.modal('hide modal', callback, true);
          }
        },
        others: {
          active: function () {
            return $otherModals.filter('.' + className.active).length > 0;
          },
          animating: function () {
            return $otherModals.filter('.' + className.animating).length > 0;
          }
        },
        add: {
          keyboardShortcuts: function () {
            module.verbose('Adding keyboard shortcuts');
            $document.on('keyup' + eventNamespace, module.event.keyboard);
          }
        },
        save: {
          focus: function () {
            $focusedElement = $(document.activeElement).blur();
          }
        },
        restore: {
          focus: function () {
            if ($focusedElement && $focusedElement.length > 0) {
              $focusedElement.focus();
            }
          }
        },
        remove: {
          active: function () {
            $module.removeClass(className.active);
          },
          clickaway: function () {
            if (settings.closable) {
              $dimmer.off('click' + elementNamespace);
            }
          },
          bodyStyle: function () {
            if ($body.attr('style') === '') {
              module.verbose('Removing style attribute');
              $body.removeAttr('style');
            }
          },
          screenHeight: function () {
            module.debug('Removing page height');
            $body.css('height', '');
          },
          keyboardShortcuts: function () {
            module.verbose('Removing keyboard shortcuts');
            $document.off('keyup' + eventNamespace);
          },
          scrolling: function () {
            $dimmable.removeClass(className.scrolling);
            $module.removeClass(className.scrolling);
          }
        },
        cacheSizes: function () {
          var modalHeight = $module.outerHeight();

          if (module.cache === undefined || modalHeight !== 0) {
            module.cache = {
              pageHeight: $(document).outerHeight(),
              height: modalHeight + settings.offset,
              contextHeight: settings.context == 'body' ? $(window).height() : $dimmable.height()
            };
          }

          module.debug('Caching modal and container sizes', module.cache);
        },
        can: {
          fit: function () {
            return module.cache.height + settings.padding * 2 < module.cache.contextHeight;
          }
        },
        is: {
          active: function () {
            return $module.hasClass(className.active);
          },
          animating: function () {
            return $module.transition('is supported') ? $module.transition('is animating') : $module.is(':visible');
          },
          scrolling: function () {
            return $dimmable.hasClass(className.scrolling);
          },
          modernBrowser: function () {
            // appName for IE11 reports 'Netscape' can no longer use
            return !(window.ActiveXObject || "ActiveXObject" in window);
          }
        },
        set: {
          autofocus: function () {
            var $inputs = $module.find(':input').filter(':visible'),
                $autofocus = $inputs.filter('[autofocus]'),
                $input = $autofocus.length > 0 ? $autofocus.first() : $inputs.first();

            if ($input.length > 0) {
              $input.focus();
            }
          },
          clickaway: function () {
            if (settings.closable) {
              $dimmer.on('click' + elementNamespace, module.event.click);
            }
          },
          screenHeight: function () {
            if (module.can.fit()) {
              $body.css('height', '');
            } else {
              module.debug('Modal is taller than page content, resizing page height');
              $body.css('height', module.cache.height + settings.padding * 2);
            }
          },
          active: function () {
            $module.addClass(className.active);
          },
          scrolling: function () {
            $dimmable.addClass(className.scrolling);
            $module.addClass(className.scrolling);
          },
          type: function () {
            if (module.can.fit()) {
              module.verbose('Modal fits on screen');

              if (!module.others.active() && !module.others.animating()) {
                module.remove.scrolling();
              }
            } else {
              module.verbose('Modal cannot fit on screen setting to scrolling');
              module.set.scrolling();
            }
          },
          position: function () {
            module.verbose('Centering modal on page', module.cache);

            if (module.can.fit()) {
              $module.css({
                top: '',
                marginTop: -(module.cache.height / 2)
              });
            } else {
              $module.css({
                marginTop: '',
                top: $document.scrollTop()
              });
            }
          },
          undetached: function () {
            $dimmable.addClass(className.undetached);
          }
        },
        setting: function (name, value) {
          module.debug('Changing setting', name, value);

          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.modal.settings = {
    name: 'Modal',
    namespace: 'modal',
    debug: false,
    verbose: false,
    performance: true,
    observeChanges: false,
    allowMultiple: false,
    detachable: true,
    closable: true,
    autofocus: true,
    inverted: false,
    blurring: false,
    dimmerSettings: {
      closable: false,
      useCSS: true
    },
    context: 'body',
    queue: false,
    duration: 500,
    offset: 0,
    transition: 'scale',
    // padding with edge of page
    padding: 50,
    // called before show animation
    onShow: function () {},
    // called after show animation
    onVisible: function () {},
    // called before hide animation
    onHide: function () {
      return true;
    },
    // called after hide animation
    onHidden: function () {},
    // called after approve selector match
    onApprove: function () {
      return true;
    },
    // called after deny selector match
    onDeny: function () {
      return true;
    },
    selector: {
      close: '> .close',
      approve: '.actions .positive, .actions .approve, .actions .ok',
      deny: '.actions .negative, .actions .deny, .actions .cancel',
      modal: '.ui.modal'
    },
    error: {
      dimmer: 'UI Dimmer, a required component is not included in this page',
      method: 'The method you called is not defined.',
      notFound: 'The element you specified could not be found'
    },
    className: {
      active: 'active',
      animating: 'animating',
      blurring: 'blurring',
      scrolling: 'scrolling',
      undetached: 'undetached'
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"nag.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/modules/nag.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Nag
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.nag = function (parameters) {
    var $allModules = $(this),
        moduleSelector = $allModules.selector || '',
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        returnedValue;
    $allModules.each(function () {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.nag.settings, parameters) : $.extend({}, $.fn.nag.settings),
          className = settings.className,
          selector = settings.selector,
          error = settings.error,
          namespace = settings.namespace,
          eventNamespace = '.' + namespace,
          moduleNamespace = namespace + '-module',
          $module = $(this),
          $close = $module.find(selector.close),
          $context = settings.context ? $(settings.context) : $('body'),
          element = this,
          instance = $module.data(moduleNamespace),
          moduleOffset,
          moduleHeight,
          contextWidth,
          contextHeight,
          contextOffset,
          yOffset,
          yPosition,
          timer,
          module,
          requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
        setTimeout(callback, 0);
      };

      module = {
        initialize: function () {
          module.verbose('Initializing element');
          $module.on('click' + eventNamespace, selector.close, module.dismiss).data(moduleNamespace, module);

          if (settings.detachable && $module.parent()[0] !== $context[0]) {
            $module.detach().prependTo($context);
          }

          if (settings.displayTime > 0) {
            setTimeout(module.hide, settings.displayTime);
          }

          module.show();
        },
        destroy: function () {
          module.verbose('Destroying instance');
          $module.removeData(moduleNamespace).off(eventNamespace);
        },
        show: function () {
          if (module.should.show() && !$module.is(':visible')) {
            module.debug('Showing nag', settings.animation.show);

            if (settings.animation.show == 'fade') {
              $module.fadeIn(settings.duration, settings.easing);
            } else {
              $module.slideDown(settings.duration, settings.easing);
            }
          }
        },
        hide: function () {
          module.debug('Showing nag', settings.animation.hide);

          if (settings.animation.show == 'fade') {
            $module.fadeIn(settings.duration, settings.easing);
          } else {
            $module.slideUp(settings.duration, settings.easing);
          }
        },
        onHide: function () {
          module.debug('Removing nag', settings.animation.hide);
          $module.remove();

          if (settings.onHide) {
            settings.onHide();
          }
        },
        dismiss: function (event) {
          if (settings.storageMethod) {
            module.storage.set(settings.key, settings.value);
          }

          module.hide();
          event.stopImmediatePropagation();
          event.preventDefault();
        },
        should: {
          show: function () {
            if (settings.persist) {
              module.debug('Persistent nag is set, can show nag');
              return true;
            }

            if (module.storage.get(settings.key) != settings.value.toString()) {
              module.debug('Stored value is not set, can show nag', module.storage.get(settings.key));
              return true;
            }

            module.debug('Stored value is set, cannot show nag', module.storage.get(settings.key));
            return false;
          }
        },
        get: {
          storageOptions: function () {
            var options = {};

            if (settings.expires) {
              options.expires = settings.expires;
            }

            if (settings.domain) {
              options.domain = settings.domain;
            }

            if (settings.path) {
              options.path = settings.path;
            }

            return options;
          }
        },
        clear: function () {
          module.storage.remove(settings.key);
        },
        storage: {
          set: function (key, value) {
            var options = module.get.storageOptions();

            if (settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {
              window.localStorage.setItem(key, value);
              module.debug('Value stored using local storage', key, value);
            } else if (settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {
              window.sessionStorage.setItem(key, value);
              module.debug('Value stored using session storage', key, value);
            } else if ($.cookie !== undefined) {
              $.cookie(key, value, options);
              module.debug('Value stored using cookie', key, value, options);
            } else {
              module.error(error.noCookieStorage);
              return;
            }
          },
          get: function (key, value) {
            var storedValue;

            if (settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {
              storedValue = window.localStorage.getItem(key);
            } else if (settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {
              storedValue = window.sessionStorage.getItem(key);
            } // get by cookie
            else if ($.cookie !== undefined) {
                storedValue = $.cookie(key);
              } else {
                module.error(error.noCookieStorage);
              }

            if (storedValue == 'undefined' || storedValue == 'null' || storedValue === undefined || storedValue === null) {
              storedValue = undefined;
            }

            return storedValue;
          },
          remove: function (key) {
            var options = module.get.storageOptions();

            if (settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {
              window.localStorage.removeItem(key);
            } else if (settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {
              window.sessionStorage.removeItem(key);
            } // store by cookie
            else if ($.cookie !== undefined) {
                $.removeCookie(key, options);
              } else {
                module.error(error.noStorage);
              }
          }
        },
        setting: function (name, value) {
          module.debug('Changing setting', name, value);

          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                module.error(error.method, query);
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.nag.settings = {
    name: 'Nag',
    debug: false,
    verbose: false,
    performance: true,
    namespace: 'Nag',
    // allows cookie to be overriden
    persist: false,
    // set to zero to require manually dismissal, otherwise hides on its own
    displayTime: 0,
    animation: {
      show: 'slide',
      hide: 'slide'
    },
    context: false,
    detachable: false,
    expires: 30,
    domain: false,
    path: '/',
    // type of storage to use
    storageMethod: 'cookie',
    // value to store in dismissed localstorage/cookie
    key: 'nag',
    value: 'dismiss',
    error: {
      noCookieStorage: '$.cookie is not included. A storage solution is required.',
      noStorage: 'Neither $.cookie or store is defined. A storage solution is required for storing state',
      method: 'The method you called is not defined.'
    },
    className: {
      bottom: 'bottom',
      fixed: 'fixed'
    },
    selector: {
      close: '.close.icon'
    },
    speed: 500,
    easing: 'easeOutQuad',
    onHide: function () {}
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"popup.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/modules/popup.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));

/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Popup
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.popup = function (parameters) {
    var $allModules = $(this),
        $document = $(document),
        $window = $(window),
        $body = $('body'),
        moduleSelector = $allModules.selector || '',
        hasTouch = true,
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        returnedValue;
    $allModules.each(function () {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.popup.settings, parameters) : $.extend({}, $.fn.popup.settings),
          selector = settings.selector,
          className = settings.className,
          error = settings.error,
          metadata = settings.metadata,
          namespace = settings.namespace,
          eventNamespace = '.' + settings.namespace,
          moduleNamespace = 'module-' + namespace,
          $module = $(this),
          $context = $(settings.context),
          $target = settings.target ? $(settings.target) : $module,
          $popup,
          $offsetParent,
          searchDepth = 0,
          triedPositions = false,
          openedWithTouch = false,
          element = this,
          instance = $module.data(moduleNamespace),
          elementNamespace,
          id,
          module;
      module = {
        // binds events
        initialize: function () {
          module.debug('Initializing', $module);
          module.createID();
          module.bind.events();

          if (!module.exists() && settings.preserve) {
            module.create();
          }

          module.instantiate();
        },
        instantiate: function () {
          module.verbose('Storing instance', module);
          instance = module;
          $module.data(moduleNamespace, instance);
        },
        refresh: function () {
          if (settings.popup) {
            $popup = $(settings.popup).eq(0);
          } else {
            if (settings.inline) {
              $popup = $target.nextAll(selector.popup).eq(0);
              settings.popup = $popup;
            }
          }

          if (settings.popup) {
            $popup.addClass(className.loading);
            $offsetParent = module.get.offsetParent();
            $popup.removeClass(className.loading);

            if (settings.movePopup && module.has.popup() && module.get.offsetParent($popup)[0] !== $offsetParent[0]) {
              module.debug('Moving popup to the same offset parent as activating element');
              $popup.detach().appendTo($offsetParent);
            }
          } else {
            $offsetParent = settings.inline ? module.get.offsetParent($target) : module.has.popup() ? module.get.offsetParent($popup) : $body;
          }

          if ($offsetParent.is('html') && $offsetParent[0] !== $body[0]) {
            module.debug('Setting page as offset parent');
            $offsetParent = $body;
          }

          if (module.get.variation()) {
            module.set.variation();
          }
        },
        reposition: function () {
          module.refresh();
          module.set.position();
        },
        destroy: function () {
          module.debug('Destroying previous module'); // remove element only if was created dynamically

          if ($popup && !settings.preserve) {
            module.removePopup();
          } // clear all timeouts


          clearTimeout(module.hideTimer);
          clearTimeout(module.showTimer); // remove events

          $window.off(elementNamespace);
          $module.off(eventNamespace).removeData(moduleNamespace);
        },
        event: {
          start: function (event) {
            var delay = $.isPlainObject(settings.delay) ? settings.delay.show : settings.delay;
            clearTimeout(module.hideTimer);

            if (!openedWithTouch) {
              module.showTimer = setTimeout(module.show, delay);
            }
          },
          end: function () {
            var delay = $.isPlainObject(settings.delay) ? settings.delay.hide : settings.delay;
            clearTimeout(module.showTimer);
            module.hideTimer = setTimeout(module.hide, delay);
          },
          touchstart: function (event) {
            openedWithTouch = true;
            module.show();
          },
          resize: function () {
            if (module.is.visible()) {
              module.set.position();
            }
          },
          hideGracefully: function (event) {
            // don't close on clicks inside popup
            if (event && $(event.target).closest(selector.popup).length === 0) {
              module.debug('Click occurred outside popup hiding popup');
              module.hide();
            } else {
              module.debug('Click was inside popup, keeping popup open');
            }
          }
        },
        // generates popup html from metadata
        create: function () {
          var html = module.get.html(),
              title = module.get.title(),
              content = module.get.content();

          if (html || content || title) {
            module.debug('Creating pop-up html');

            if (!html) {
              html = settings.templates.popup({
                title: title,
                content: content
              });
            }

            $popup = $('<div/>').addClass(className.popup).data(metadata.activator, $module).html(html);

            if (settings.inline) {
              module.verbose('Inserting popup element inline', $popup);
              $popup.insertAfter($module);
            } else {
              module.verbose('Appending popup element to body', $popup);
              $popup.appendTo($context);
            }

            module.refresh();
            module.set.variation();

            if (settings.hoverable) {
              module.bind.popup();
            }

            settings.onCreate.call($popup, element);
          } else if ($target.next(selector.popup).length !== 0) {
            module.verbose('Pre-existing popup found');
            settings.inline = true;
            settings.popups = $target.next(selector.popup).data(metadata.activator, $module);
            module.refresh();

            if (settings.hoverable) {
              module.bind.popup();
            }
          } else if (settings.popup) {
            $(settings.popup).data(metadata.activator, $module);
            module.verbose('Used popup specified in settings');
            module.refresh();

            if (settings.hoverable) {
              module.bind.popup();
            }
          } else {
            module.debug('No content specified skipping display', element);
          }
        },
        createID: function () {
          id = (Math.random().toString(16) + '000000000').substr(2, 8);
          elementNamespace = '.' + id;
          module.verbose('Creating unique id for element', id);
        },
        // determines popup state
        toggle: function () {
          module.debug('Toggling pop-up');

          if (module.is.hidden()) {
            module.debug('Popup is hidden, showing pop-up');
            module.unbind.close();
            module.show();
          } else {
            module.debug('Popup is visible, hiding pop-up');
            module.hide();
          }
        },
        show: function (callback) {
          callback = callback || function () {};

          module.debug('Showing pop-up', settings.transition);

          if (module.is.hidden() && !(module.is.active() && module.is.dropdown())) {
            if (!module.exists()) {
              module.create();
            }

            if (settings.onShow.call($popup, element) === false) {
              module.debug('onShow callback returned false, cancelling popup animation');
              return;
            } else if (!settings.preserve && !settings.popup) {
              module.refresh();
            }

            if ($popup && module.set.position()) {
              module.save.conditions();

              if (settings.exclusive) {
                module.hideAll();
              }

              module.animate.show(callback);
            }
          }
        },
        hide: function (callback) {
          callback = callback || function () {};

          if (module.is.visible() || module.is.animating()) {
            if (settings.onHide.call($popup, element) === false) {
              module.debug('onHide callback returned false, cancelling popup animation');
              return;
            }

            module.remove.visible();
            module.unbind.close();
            module.restore.conditions();
            module.animate.hide(callback);
          }
        },
        hideAll: function () {
          $(selector.popup).filter('.' + className.visible).each(function () {
            $(this).data(metadata.activator).popup('hide');
          });
        },
        exists: function () {
          if (!$popup) {
            return false;
          }

          if (settings.inline || settings.popup) {
            return module.has.popup();
          } else {
            return $popup.closest($context).length >= 1 ? true : false;
          }
        },
        removePopup: function () {
          if (module.has.popup() && !settings.popup) {
            module.debug('Removing popup', $popup);
            $popup.remove();
            $popup = undefined;
            settings.onRemove.call($popup, element);
          }
        },
        save: {
          conditions: function () {
            module.cache = {
              title: $module.attr('title')
            };

            if (module.cache.title) {
              $module.removeAttr('title');
            }

            module.verbose('Saving original attributes', module.cache.title);
          }
        },
        restore: {
          conditions: function () {
            if (module.cache && module.cache.title) {
              $module.attr('title', module.cache.title);
              module.verbose('Restoring original attributes', module.cache.title);
            }

            return true;
          }
        },
        animate: {
          show: function (callback) {
            callback = $.isFunction(callback) ? callback : function () {};

            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {
              module.set.visible();
              $popup.transition({
                animation: settings.transition + ' in',
                queue: false,
                debug: settings.debug,
                verbose: settings.verbose,
                duration: settings.duration,
                onComplete: function () {
                  module.bind.close();
                  callback.call($popup, element);
                  settings.onVisible.call($popup, element);
                }
              });
            } else {
              module.error(error.noTransition);
            }
          },
          hide: function (callback) {
            callback = $.isFunction(callback) ? callback : function () {};
            module.debug('Hiding pop-up');

            if (settings.onHide.call($popup, element) === false) {
              module.debug('onHide callback returned false, cancelling popup animation');
              return;
            }

            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {
              $popup.transition({
                animation: settings.transition + ' out',
                queue: false,
                duration: settings.duration,
                debug: settings.debug,
                verbose: settings.verbose,
                onComplete: function () {
                  module.reset();
                  callback.call($popup, element);
                  settings.onHidden.call($popup, element);
                }
              });
            } else {
              module.error(error.noTransition);
            }
          }
        },
        change: {
          content: function (html) {
            $popup.html(html);
          }
        },
        get: {
          html: function () {
            $module.removeData(metadata.html);
            return $module.data(metadata.html) || settings.html;
          },
          title: function () {
            $module.removeData(metadata.title);
            return $module.data(metadata.title) || settings.title;
          },
          content: function () {
            $module.removeData(metadata.content);
            return $module.data(metadata.content) || $module.attr('title') || settings.content;
          },
          variation: function () {
            $module.removeData(metadata.variation);
            return $module.data(metadata.variation) || settings.variation;
          },
          popup: function () {
            return $popup;
          },
          popupOffset: function () {
            return $popup.offset();
          },
          calculations: function () {
            var targetElement = $target[0],
                targetPosition = settings.inline || settings.popup && settings.movePopup ? $target.position() : $target.offset(),
                calculations = {},
                screen;
            calculations = {
              // element which is launching popup
              target: {
                element: $target[0],
                width: $target.outerWidth(),
                height: $target.outerHeight(),
                top: targetPosition.top,
                left: targetPosition.left,
                margin: {}
              },
              // popup itself
              popup: {
                width: $popup.outerWidth(),
                height: $popup.outerHeight()
              },
              // offset container (or 3d context)
              parent: {
                width: $offsetParent.outerWidth(),
                height: $offsetParent.outerHeight()
              },
              // screen boundaries
              screen: {
                scroll: {
                  top: $window.scrollTop(),
                  left: $window.scrollLeft()
                },
                width: $window.width(),
                height: $window.height()
              }
            }; // add in container calcs if fluid

            if (settings.setFluidWidth && module.is.fluid()) {
              calculations.container = {
                width: $popup.parent().outerWidth()
              };
              calculations.popup.width = calculations.container.width;
            } // add in margins if inline


            calculations.target.margin.top = settings.inline ? parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-top'), 10) : 0;
            calculations.target.margin.left = settings.inline ? module.is.rtl() ? parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-right'), 10) : parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-left'), 10) : 0; // calculate screen boundaries

            screen = calculations.screen;
            calculations.boundary = {
              top: screen.scroll.top,
              bottom: screen.scroll.top + screen.height,
              left: screen.scroll.left,
              right: screen.scroll.left + screen.width
            };
            return calculations;
          },
          id: function () {
            return id;
          },
          startEvent: function () {
            if (settings.on == 'hover') {
              return 'mouseenter';
            } else if (settings.on == 'focus') {
              return 'focus';
            }

            return false;
          },
          scrollEvent: function () {
            return 'scroll';
          },
          endEvent: function () {
            if (settings.on == 'hover') {
              return 'mouseleave';
            } else if (settings.on == 'focus') {
              return 'blur';
            }

            return false;
          },
          distanceFromBoundary: function (offset, calculations) {
            var distanceFromBoundary = {},
                popup,
                boundary;
            offset = offset || module.get.offset();
            calculations = calculations || module.get.calculations(); // shorthand

            popup = calculations.popup;
            boundary = calculations.boundary;

            if (offset) {
              distanceFromBoundary = {
                top: offset.top - boundary.top,
                left: offset.left - boundary.left,
                right: boundary.right - (offset.left + popup.width),
                bottom: boundary.bottom - (offset.top + popup.height)
              };
              module.verbose('Distance from boundaries determined', offset, distanceFromBoundary);
            }

            return distanceFromBoundary;
          },
          offsetParent: function ($target) {
            var element = $target !== undefined ? $target[0] : $module[0],
                parentNode = element.parentNode,
                $node = $(parentNode);

            if (parentNode) {
              var is2D = $node.css('transform') === 'none',
                  isStatic = $node.css('position') === 'static',
                  isHTML = $node.is('html');

              while (parentNode && !isHTML && isStatic && is2D) {
                parentNode = parentNode.parentNode;
                $node = $(parentNode);
                is2D = $node.css('transform') === 'none';
                isStatic = $node.css('position') === 'static';
                isHTML = $node.is('html');
              }
            }

            return $node && $node.length > 0 ? $node : $();
          },
          positions: function () {
            return {
              'top left': false,
              'top center': false,
              'top right': false,
              'bottom left': false,
              'bottom center': false,
              'bottom right': false,
              'left center': false,
              'right center': false
            };
          },
          nextPosition: function (position) {
            var positions = position.split(' '),
                verticalPosition = positions[0],
                horizontalPosition = positions[1],
                opposite = {
              top: 'bottom',
              bottom: 'top',
              left: 'right',
              right: 'left'
            },
                adjacent = {
              left: 'center',
              center: 'right',
              right: 'left'
            },
                backup = {
              'top left': 'top center',
              'top center': 'top right',
              'top right': 'right center',
              'right center': 'bottom right',
              'bottom right': 'bottom center',
              'bottom center': 'bottom left',
              'bottom left': 'left center',
              'left center': 'top left'
            },
                adjacentsAvailable = verticalPosition == 'top' || verticalPosition == 'bottom',
                oppositeTried = false,
                adjacentTried = false,
                nextPosition = false;

            if (!triedPositions) {
              module.verbose('All available positions available');
              triedPositions = module.get.positions();
            }

            module.debug('Recording last position tried', position);
            triedPositions[position] = true;

            if (settings.prefer === 'opposite') {
              nextPosition = [opposite[verticalPosition], horizontalPosition];
              nextPosition = nextPosition.join(' ');
              oppositeTried = triedPositions[nextPosition] === true;
              module.debug('Trying opposite strategy', nextPosition);
            }

            if (settings.prefer === 'adjacent' && adjacentsAvailable) {
              nextPosition = [verticalPosition, adjacent[horizontalPosition]];
              nextPosition = nextPosition.join(' ');
              adjacentTried = triedPositions[nextPosition] === true;
              module.debug('Trying adjacent strategy', nextPosition);
            }

            if (adjacentTried || oppositeTried) {
              module.debug('Using backup position', nextPosition);
              nextPosition = backup[position];
            }

            return nextPosition;
          }
        },
        set: {
          position: function (position, calculations) {
            // exit conditions
            if ($target.length === 0 || $popup.length === 0) {
              module.error(error.notFound);
              return;
            }

            var offset, distanceAway, target, popup, parent, positioning, popupOffset, distanceFromBoundary;
            calculations = calculations || module.get.calculations();
            position = position || $module.data(metadata.position) || settings.position;
            offset = $module.data(metadata.offset) || settings.offset;
            distanceAway = settings.distanceAway; // shorthand

            target = calculations.target;
            popup = calculations.popup;
            parent = calculations.parent;

            if (target.width === 0 && target.height === 0 && !(target.element instanceof SVGGraphicsElement)) {
              module.debug('Popup target is hidden, no action taken');
              return false;
            }

            if (settings.inline) {
              module.debug('Adding margin to calculation', target.margin);

              if (position == 'left center' || position == 'right center') {
                offset += target.margin.top;
                distanceAway += -target.margin.left;
              } else if (position == 'top left' || position == 'top center' || position == 'top right') {
                offset += target.margin.left;
                distanceAway -= target.margin.top;
              } else {
                offset += target.margin.left;
                distanceAway += target.margin.top;
              }
            }

            module.debug('Determining popup position from calculations', position, calculations);

            if (module.is.rtl()) {
              position = position.replace(/left|right/g, function (match) {
                return match == 'left' ? 'right' : 'left';
              });
              module.debug('RTL: Popup position updated', position);
            } // if last attempt use specified last resort position


            if (searchDepth == settings.maxSearchDepth && typeof settings.lastResort === 'string') {
              position = settings.lastResort;
            }

            switch (position) {
              case 'top left':
                positioning = {
                  top: 'auto',
                  bottom: parent.height - target.top + distanceAway,
                  left: target.left + offset,
                  right: 'auto'
                };
                break;

              case 'top center':
                positioning = {
                  bottom: parent.height - target.top + distanceAway,
                  left: target.left + target.width / 2 - popup.width / 2 + offset,
                  top: 'auto',
                  right: 'auto'
                };
                break;

              case 'top right':
                positioning = {
                  bottom: parent.height - target.top + distanceAway,
                  right: parent.width - target.left - target.width - offset,
                  top: 'auto',
                  left: 'auto'
                };
                break;

              case 'left center':
                positioning = {
                  top: target.top + target.height / 2 - popup.height / 2 + offset,
                  right: parent.width - target.left + distanceAway,
                  left: 'auto',
                  bottom: 'auto'
                };
                break;

              case 'right center':
                positioning = {
                  top: target.top + target.height / 2 - popup.height / 2 + offset,
                  left: target.left + target.width + distanceAway,
                  bottom: 'auto',
                  right: 'auto'
                };
                break;

              case 'bottom left':
                positioning = {
                  top: target.top + target.height + distanceAway,
                  left: target.left + offset,
                  bottom: 'auto',
                  right: 'auto'
                };
                break;

              case 'bottom center':
                positioning = {
                  top: target.top + target.height + distanceAway,
                  left: target.left + target.width / 2 - popup.width / 2 + offset,
                  bottom: 'auto',
                  right: 'auto'
                };
                break;

              case 'bottom right':
                positioning = {
                  top: target.top + target.height + distanceAway,
                  right: parent.width - target.left - target.width - offset,
                  left: 'auto',
                  bottom: 'auto'
                };
                break;
            }

            if (positioning === undefined) {
              module.error(error.invalidPosition, position);
            }

            module.debug('Calculated popup positioning values', positioning); // tentatively place on stage

            $popup.css(positioning).removeClass(className.position).addClass(position).addClass(className.loading);
            popupOffset = module.get.popupOffset(); // see if any boundaries are surpassed with this tentative position

            distanceFromBoundary = module.get.distanceFromBoundary(popupOffset, calculations);

            if (module.is.offstage(distanceFromBoundary, position)) {
              module.debug('Position is outside viewport', position);

              if (searchDepth < settings.maxSearchDepth) {
                searchDepth++;
                position = module.get.nextPosition(position);
                module.debug('Trying new position', position);
                return $popup ? module.set.position(position, calculations) : false;
              } else {
                if (settings.lastResort) {
                  module.debug('No position found, showing with last position');
                } else {
                  module.debug('Popup could not find a position to display', $popup);
                  module.error(error.cannotPlace, element);
                  module.remove.attempts();
                  module.remove.loading();
                  module.reset();
                  settings.onUnplaceable.call($popup, element);
                  return false;
                }
              }
            }

            module.debug('Position is on stage', position);
            module.remove.attempts();
            module.remove.loading();

            if (settings.setFluidWidth && module.is.fluid()) {
              module.set.fluidWidth(calculations);
            }

            return true;
          },
          fluidWidth: function (calculations) {
            calculations = calculations || module.get.calculations();
            module.debug('Automatically setting element width to parent width', calculations.parent.width);
            $popup.css('width', calculations.container.width);
          },
          variation: function (variation) {
            variation = variation || module.get.variation();

            if (variation && module.has.popup()) {
              module.verbose('Adding variation to popup', variation);
              $popup.addClass(variation);
            }
          },
          visible: function () {
            $module.addClass(className.visible);
          }
        },
        remove: {
          loading: function () {
            $popup.removeClass(className.loading);
          },
          variation: function (variation) {
            variation = variation || module.get.variation();

            if (variation) {
              module.verbose('Removing variation', variation);
              $popup.removeClass(variation);
            }
          },
          visible: function () {
            $module.removeClass(className.visible);
          },
          attempts: function () {
            module.verbose('Resetting all searched positions');
            searchDepth = 0;
            triedPositions = false;
          }
        },
        bind: {
          events: function () {
            module.debug('Binding popup events to module');

            if (settings.on == 'click') {
              $module.on('click' + eventNamespace, module.toggle);
            }

            if (settings.on == 'hover' && hasTouch) {
              $module.on('touchstart' + eventNamespace, module.event.touchstart);
            }

            if (module.get.startEvent()) {
              $module.on(module.get.startEvent() + eventNamespace, module.event.start).on(module.get.endEvent() + eventNamespace, module.event.end);
            }

            if (settings.target) {
              module.debug('Target set to element', $target);
            }

            $window.on('resize' + elementNamespace, module.event.resize);
          },
          popup: function () {
            module.verbose('Allowing hover events on popup to prevent closing');

            if ($popup && module.has.popup()) {
              $popup.on('mouseenter' + eventNamespace, module.event.start).on('mouseleave' + eventNamespace, module.event.end);
            }
          },
          close: function () {
            if (settings.hideOnScroll === true || settings.hideOnScroll == 'auto' && settings.on != 'click') {
              $document.one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully);
              $context.one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully);
            }

            if (settings.on == 'hover' && openedWithTouch) {
              module.verbose('Binding popup close event to document');
              $document.on('touchstart' + elementNamespace, function (event) {
                module.verbose('Touched away from popup');
                module.event.hideGracefully.call(element, event);
              });
            }

            if (settings.on == 'click' && settings.closable) {
              module.verbose('Binding popup close event to document');
              $document.on('click' + elementNamespace, function (event) {
                module.verbose('Clicked away from popup');
                module.event.hideGracefully.call(element, event);
              });
            }
          }
        },
        unbind: {
          close: function () {
            if (settings.hideOnScroll === true || settings.hideOnScroll == 'auto' && settings.on != 'click') {
              $document.off('scroll' + elementNamespace, module.hide);
              $context.off('scroll' + elementNamespace, module.hide);
            }

            if (settings.on == 'hover' && openedWithTouch) {
              $document.off('touchstart' + elementNamespace);
              openedWithTouch = false;
            }

            if (settings.on == 'click' && settings.closable) {
              module.verbose('Removing close event from document');
              $document.off('click' + elementNamespace);
            }
          }
        },
        has: {
          popup: function () {
            return $popup && $popup.length > 0;
          }
        },
        is: {
          offstage: function (distanceFromBoundary, position) {
            var offstage = []; // return boundaries that have been surpassed

            $.each(distanceFromBoundary, function (direction, distance) {
              if (distance < -settings.jitter) {
                module.debug('Position exceeds allowable distance from edge', direction, distance, position);
                offstage.push(direction);
              }
            });

            if (offstage.length > 0) {
              return true;
            } else {
              return false;
            }
          },
          active: function () {
            return $module.hasClass(className.active);
          },
          animating: function () {
            return $popup !== undefined && $popup.hasClass(className.animating);
          },
          fluid: function () {
            return $popup !== undefined && $popup.hasClass(className.fluid);
          },
          visible: function () {
            return $popup !== undefined && $popup.hasClass(className.visible);
          },
          dropdown: function () {
            return $module.hasClass(className.dropdown);
          },
          hidden: function () {
            return !module.is.visible();
          },
          rtl: function () {
            return $module.css('direction') == 'rtl';
          }
        },
        reset: function () {
          module.remove.visible();

          if (settings.preserve) {
            if ($.fn.transition !== undefined) {
              $popup.transition('remove transition');
            }
          } else {
            module.removePopup();
          }
        },
        setting: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.popup.settings = {
    name: 'Popup',
    // module settings
    debug: false,
    verbose: false,
    performance: true,
    namespace: 'popup',
    // callback only when element added to dom
    onCreate: function () {},
    // callback before element removed from dom
    onRemove: function () {},
    // callback before show animation
    onShow: function () {},
    // callback after show animation
    onVisible: function () {},
    // callback before hide animation
    onHide: function () {},
    // callback when popup cannot be positioned in visible screen
    onUnplaceable: function () {},
    // callback after hide animation
    onHidden: function () {},
    // when to show popup
    on: 'hover',
    // whether to add touchstart events when using hover
    addTouchEvents: true,
    // default position relative to element
    position: 'top left',
    // name of variation to use
    variation: '',
    // whether popup should be moved to context
    movePopup: true,
    // element which popup should be relative to
    target: false,
    // jq selector or element that should be used as popup
    popup: false,
    // popup should remain inline next to activator
    inline: false,
    // popup should be removed from page on hide
    preserve: false,
    // popup should not close when being hovered on
    hoverable: false,
    // explicitly set content
    content: false,
    // explicitly set html
    html: false,
    // explicitly set title
    title: false,
    // whether automatically close on clickaway when on click
    closable: true,
    // automatically hide on scroll
    hideOnScroll: 'auto',
    // hide other popups on show
    exclusive: false,
    // context to attach popups
    context: 'body',
    // position to prefer when calculating new position
    prefer: 'opposite',
    // specify position to appear even if it doesn't fit
    lastResort: false,
    // delay used to prevent accidental refiring of animations due to user error
    delay: {
      show: 50,
      hide: 70
    },
    // whether fluid variation should assign width explicitly
    setFluidWidth: true,
    // transition settings
    duration: 200,
    transition: 'scale',
    // distance away from activating element in px
    distanceAway: 0,
    // number of pixels an element is allowed to be "offstage" for a position to be chosen (allows for rounding)
    jitter: 2,
    // offset on aligning axis from calculated position
    offset: 0,
    // maximum times to look for a position before failing (9 positions total)
    maxSearchDepth: 15,
    error: {
      invalidPosition: 'The position you specified is not a valid position',
      cannotPlace: 'Popup does not fit within the boundaries of the viewport',
      method: 'The method you called is not defined.',
      noTransition: 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',
      notFound: 'The target or popup you specified does not exist on the page'
    },
    metadata: {
      activator: 'activator',
      content: 'content',
      html: 'html',
      offset: 'offset',
      position: 'position',
      title: 'title',
      variation: 'variation'
    },
    className: {
      active: 'active',
      animating: 'animating',
      dropdown: 'dropdown',
      fluid: 'fluid',
      loading: 'loading',
      popup: 'ui popup',
      position: 'top left center bottom right',
      visible: 'visible'
    },
    selector: {
      popup: '.ui.popup'
    },
    templates: {
      escape: function (string) {
        var badChars = /[&<>"'`]/g,
            shouldEscape = /[&<>"'`]/,
            escape = {
          "&": "&amp;",
          "<": "&lt;",
          ">": "&gt;",
          '"': "&quot;",
          "'": "&#x27;",
          "`": "&#x60;"
        },
            escapedChar = function (chr) {
          return escape[chr];
        };

        if (shouldEscape.test(string)) {
          return string.replace(badChars, escapedChar);
        }

        return string;
      },
      popup: function (text) {
        var html = '',
            escape = $.fn.popup.settings.templates.escape;

        if ((0, _typeof2.default)(text) !== undefined) {
          if ((0, _typeof2.default)(text.title) !== undefined && text.title) {
            text.title = escape(text.title);
            html += '<div class="header">' + text.title + '</div>';
          }

          if ((0, _typeof2.default)(text.content) !== undefined && text.content) {
            text.content = escape(text.content);
            html += '<div class="content">' + text.content + '</div>';
          }
        }

        return html;
      }
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"progress.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/modules/progress.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Progress
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.progress = function (parameters) {
    var $allModules = $(this),
        moduleSelector = $allModules.selector || '',
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        returnedValue;
    $allModules.each(function () {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.progress.settings, parameters) : $.extend({}, $.fn.progress.settings),
          className = settings.className,
          metadata = settings.metadata,
          namespace = settings.namespace,
          selector = settings.selector,
          error = settings.error,
          eventNamespace = '.' + namespace,
          moduleNamespace = 'module-' + namespace,
          $module = $(this),
          $bar = $(this).find(selector.bar),
          $progress = $(this).find(selector.progress),
          $label = $(this).find(selector.label),
          element = this,
          instance = $module.data(moduleNamespace),
          animating = false,
          transitionEnd,
          module;
      module = {
        initialize: function () {
          module.debug('Initializing progress bar', settings);
          module.set.duration();
          module.set.transitionEvent();
          module.read.metadata();
          module.read.settings();
          module.instantiate();
        },
        instantiate: function () {
          module.verbose('Storing instance of progress', module);
          instance = module;
          $module.data(moduleNamespace, module);
        },
        destroy: function () {
          module.verbose('Destroying previous progress for', $module);
          clearInterval(instance.interval);
          module.remove.state();
          $module.removeData(moduleNamespace);
          instance = undefined;
        },
        reset: function () {
          module.set.percent(0);
          module.set.value(0);
        },
        complete: function () {
          if (module.percent === undefined || module.percent < 100) {
            module.set.percent(100);
          }
        },
        read: {
          metadata: function () {
            var data = {
              percent: $module.data(metadata.percent),
              total: $module.data(metadata.total),
              value: $module.data(metadata.value)
            };

            if (data.percent) {
              module.debug('Current percent value set from metadata', data.percent);
              module.set.percent(data.percent);
            }

            if (data.total) {
              module.debug('Total value set from metadata', data.total);
              module.set.total(data.total);
            }

            if (data.value) {
              module.debug('Current value set from metadata', data.value);
              module.set.value(data.value);
              module.set.progress(data.value);
            }
          },
          settings: function () {
            if (settings.total !== false) {
              module.debug('Current total set in settings', settings.total);
              module.set.total(settings.total);
            }

            if (settings.value !== false) {
              module.debug('Current value set in settings', settings.value);
              module.set.value(settings.value);
              module.set.progress(module.value);
            }

            if (settings.percent !== false) {
              module.debug('Current percent set in settings', settings.percent);
              module.set.percent(settings.percent);
            }
          }
        },
        increment: function (incrementValue) {
          var maxValue, startValue, newValue;

          if (module.has.total()) {
            startValue = module.get.value();
            incrementValue = incrementValue || 1;
            newValue = startValue + incrementValue;
            maxValue = module.get.total();
            module.debug('Incrementing value', startValue, newValue, maxValue);

            if (newValue > maxValue) {
              module.debug('Value cannot increment above total', maxValue);
              newValue = maxValue;
            }
          } else {
            startValue = module.get.percent();
            incrementValue = incrementValue || module.get.randomValue();
            newValue = startValue + incrementValue;
            maxValue = 100;
            module.debug('Incrementing percentage by', startValue, newValue);

            if (newValue > maxValue) {
              module.debug('Value cannot increment above 100 percent');
              newValue = maxValue;
            }
          }

          module.set.progress(newValue);
        },
        decrement: function (decrementValue) {
          var total = module.get.total(),
              startValue,
              newValue;

          if (total) {
            startValue = module.get.value();
            decrementValue = decrementValue || 1;
            newValue = startValue - decrementValue;
            module.debug('Decrementing value by', decrementValue, startValue);
          } else {
            startValue = module.get.percent();
            decrementValue = decrementValue || module.get.randomValue();
            newValue = startValue - decrementValue;
            module.debug('Decrementing percentage by', decrementValue, startValue);
          }

          if (newValue < 0) {
            module.debug('Value cannot decrement below 0');
            newValue = 0;
          }

          module.set.progress(newValue);
        },
        has: {
          total: function () {
            return module.get.total() !== false;
          }
        },
        get: {
          text: function (templateText) {
            var value = module.value || 0,
                total = module.total || 0,
                percent = animating ? module.get.displayPercent() : module.percent || 0,
                left = module.total > 0 ? total - value : 100 - percent;
            templateText = templateText || '';
            templateText = templateText.replace('{value}', value).replace('{total}', total).replace('{left}', left).replace('{percent}', percent);
            module.debug('Adding variables to progress bar text', templateText);
            return templateText;
          },
          randomValue: function () {
            module.debug('Generating random increment percentage');
            return Math.floor(Math.random() * settings.random.max + settings.random.min);
          },
          numericValue: function (value) {
            return typeof value === 'string' ? value.replace(/[^\d.]/g, '') !== '' ? +value.replace(/[^\d.]/g, '') : false : value;
          },
          transitionEnd: function () {
            var element = document.createElement('element'),
                transitions = {
              'transition': 'transitionend',
              'OTransition': 'oTransitionEnd',
              'MozTransition': 'transitionend',
              'WebkitTransition': 'webkitTransitionEnd'
            },
                transition;

            for (transition in meteorBabelHelpers.sanitizeForInObject(transitions)) {
              if (element.style[transition] !== undefined) {
                return transitions[transition];
              }
            }
          },
          // gets current displayed percentage (if animating values this is the intermediary value)
          displayPercent: function () {
            var barWidth = $bar.width(),
                totalWidth = $module.width(),
                minDisplay = parseInt($bar.css('min-width'), 10),
                displayPercent = barWidth > minDisplay ? barWidth / totalWidth * 100 : module.percent;
            return settings.precision > 0 ? Math.round(displayPercent * (10 * settings.precision)) / (10 * settings.precision) : Math.round(displayPercent);
          },
          percent: function () {
            return module.percent || 0;
          },
          value: function () {
            return module.value || 0;
          },
          total: function () {
            return module.total || false;
          }
        },
        is: {
          success: function () {
            return $module.hasClass(className.success);
          },
          warning: function () {
            return $module.hasClass(className.warning);
          },
          error: function () {
            return $module.hasClass(className.error);
          },
          active: function () {
            return $module.hasClass(className.active);
          },
          visible: function () {
            return $module.is(':visible');
          }
        },
        remove: {
          state: function () {
            module.verbose('Removing stored state');
            delete module.total;
            delete module.percent;
            delete module.value;
          },
          active: function () {
            module.verbose('Removing active state');
            $module.removeClass(className.active);
          },
          success: function () {
            module.verbose('Removing success state');
            $module.removeClass(className.success);
          },
          warning: function () {
            module.verbose('Removing warning state');
            $module.removeClass(className.warning);
          },
          error: function () {
            module.verbose('Removing error state');
            $module.removeClass(className.error);
          }
        },
        set: {
          barWidth: function (value) {
            if (value > 100) {
              module.error(error.tooHigh, value);
            } else if (value < 0) {
              module.error(error.tooLow, value);
            } else {
              $bar.css('width', value + '%');
              $module.attr('data-percent', parseInt(value, 10));
            }
          },
          duration: function (duration) {
            duration = duration || settings.duration;
            duration = typeof duration == 'number' ? duration + 'ms' : duration;
            module.verbose('Setting progress bar transition duration', duration);
            $bar.css({
              'transition-duration': duration
            });
          },
          percent: function (percent) {
            percent = typeof percent == 'string' ? +percent.replace('%', '') : percent; // round display percentage

            percent = settings.precision > 0 ? Math.round(percent * (10 * settings.precision)) / (10 * settings.precision) : Math.round(percent);
            module.percent = percent;

            if (!module.has.total()) {
              module.value = settings.precision > 0 ? Math.round(percent / 100 * module.total * (10 * settings.precision)) / (10 * settings.precision) : Math.round(percent / 100 * module.total * 10) / 10;

              if (settings.limitValues) {
                module.value = module.value > 100 ? 100 : module.value < 0 ? 0 : module.value;
              }
            }

            module.set.barWidth(percent);
            module.set.labelInterval();
            module.set.labels();
            settings.onChange.call(element, percent, module.value, module.total);
          },
          labelInterval: function () {
            var animationCallback = function () {
              module.verbose('Bar finished animating, removing continuous label updates');
              clearInterval(module.interval);
              animating = false;
              module.set.labels();
            };

            clearInterval(module.interval);
            $bar.one(transitionEnd + eventNamespace, animationCallback);
            module.timer = setTimeout(animationCallback, settings.duration + 100);
            animating = true;
            module.interval = setInterval(module.set.labels, settings.framerate);
          },
          labels: function () {
            module.verbose('Setting both bar progress and outer label text');
            module.set.barLabel();
            module.set.state();
          },
          label: function (text) {
            text = text || '';

            if (text) {
              text = module.get.text(text);
              module.debug('Setting label to text', text);
              $label.text(text);
            }
          },
          state: function (percent) {
            percent = percent !== undefined ? percent : module.percent;

            if (percent === 100) {
              if (settings.autoSuccess && !(module.is.warning() || module.is.error())) {
                module.set.success();
                module.debug('Automatically triggering success at 100%');
              } else {
                module.verbose('Reached 100% removing active state');
                module.remove.active();
              }
            } else if (percent > 0) {
              module.verbose('Adjusting active progress bar label', percent);
              module.set.active();
            } else {
              module.remove.active();
              module.set.label(settings.text.active);
            }
          },
          barLabel: function (text) {
            if (text !== undefined) {
              $progress.text(module.get.text(text));
            } else if (settings.label == 'ratio' && module.total) {
              module.debug('Adding ratio to bar label');
              $progress.text(module.get.text(settings.text.ratio));
            } else if (settings.label == 'percent') {
              module.debug('Adding percentage to bar label');
              $progress.text(module.get.text(settings.text.percent));
            }
          },
          active: function (text) {
            text = text || settings.text.active;
            module.debug('Setting active state');

            if (settings.showActivity && !module.is.active()) {
              $module.addClass(className.active);
            }

            module.remove.warning();
            module.remove.error();
            module.remove.success();

            if (text) {
              module.set.label(text);
            }

            settings.onActive.call(element, module.value, module.total);
          },
          success: function (text) {
            text = text || settings.text.success;
            module.debug('Setting success state');
            $module.addClass(className.success);
            module.remove.active();
            module.remove.warning();
            module.remove.error();
            module.complete();

            if (text) {
              module.set.label(text);
            }

            settings.onSuccess.call(element, module.total);
          },
          warning: function (text) {
            text = text || settings.text.warning;
            module.debug('Setting warning state');
            $module.addClass(className.warning);
            module.remove.active();
            module.remove.success();
            module.remove.error();
            module.complete();

            if (text) {
              module.set.label(text);
            }

            settings.onWarning.call(element, module.value, module.total);
          },
          error: function (text) {
            text = text || settings.text.error;
            module.debug('Setting error state');
            $module.addClass(className.error);
            module.remove.active();
            module.remove.success();
            module.remove.warning();
            module.complete();

            if (text) {
              module.set.label(text);
            }

            settings.onError.call(element, module.value, module.total);
          },
          transitionEvent: function () {
            transitionEnd = module.get.transitionEnd();
          },
          total: function (totalValue) {
            module.total = totalValue;
          },
          value: function (value) {
            module.value = value;
          },
          progress: function (value) {
            var numericValue = module.get.numericValue(value),
                percentComplete;

            if (numericValue === false) {
              module.error(error.nonNumeric, value);
            }

            if (module.has.total()) {
              module.set.value(numericValue);
              percentComplete = numericValue / module.total * 100;
              module.debug('Calculating percent complete from total', percentComplete);
              module.set.percent(percentComplete);
            } else {
              percentComplete = numericValue;
              module.debug('Setting value to exact percentage value', percentComplete);
              module.set.percent(percentComplete);
            }
          }
        },
        setting: function (name, value) {
          module.debug('Changing setting', name, value);

          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                module.error(error.method, query);
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.progress.settings = {
    name: 'Progress',
    namespace: 'progress',
    debug: false,
    verbose: false,
    performance: true,
    random: {
      min: 2,
      max: 5
    },
    duration: 300,
    autoSuccess: true,
    showActivity: true,
    limitValues: true,
    label: 'percent',
    precision: 0,
    framerate: 1000 / 30,
    /// 30 fps
    percent: false,
    total: false,
    value: false,
    onChange: function (percent, value, total) {},
    onSuccess: function (total) {},
    onActive: function (value, total) {},
    onError: function (value, total) {},
    onWarning: function (value, total) {},
    error: {
      method: 'The method you called is not defined.',
      nonNumeric: 'Progress value is non numeric',
      tooHigh: 'Value specified is above 100%',
      tooLow: 'Value specified is below 0%'
    },
    regExp: {
      variable: /\{\$*[A-z0-9]+\}/g
    },
    metadata: {
      percent: 'percent',
      total: 'total',
      value: 'value'
    },
    selector: {
      bar: '> .bar',
      label: '> .label',
      progress: '.bar > .progress'
    },
    text: {
      active: false,
      error: false,
      success: false,
      warning: false,
      percent: '{percent}%',
      ratio: '{value} of {total}'
    },
    className: {
      active: 'active',
      error: 'error',
      success: 'success',
      warning: 'warning'
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"rating.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/modules/rating.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Rating
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.rating = function (parameters) {
    var $allModules = $(this),
        moduleSelector = $allModules.selector || '',
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        returnedValue;
    $allModules.each(function () {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.rating.settings, parameters) : $.extend({}, $.fn.rating.settings),
          namespace = settings.namespace,
          className = settings.className,
          metadata = settings.metadata,
          selector = settings.selector,
          error = settings.error,
          eventNamespace = '.' + namespace,
          moduleNamespace = 'module-' + namespace,
          element = this,
          instance = $(this).data(moduleNamespace),
          $module = $(this),
          $icon = $module.find(selector.icon),
          module;
      module = {
        initialize: function () {
          module.verbose('Initializing rating module', settings);

          if ($icon.length === 0) {
            module.setup.layout();
          }

          if (settings.interactive) {
            module.enable();
          } else {
            module.disable();
          }

          module.set.rating(module.get.initialRating());
          module.instantiate();
        },
        instantiate: function () {
          module.verbose('Instantiating module', settings);
          instance = module;
          $module.data(moduleNamespace, module);
        },
        destroy: function () {
          module.verbose('Destroying previous instance', instance);
          module.remove.events();
          $module.removeData(moduleNamespace);
        },
        refresh: function () {
          $icon = $module.find(selector.icon);
        },
        setup: {
          layout: function () {
            var maxRating = module.get.maxRating(),
                html = $.fn.rating.settings.templates.icon(maxRating);
            module.debug('Generating icon html dynamically');
            $module.html(html);
            module.refresh();
          }
        },
        event: {
          mouseenter: function () {
            var $activeIcon = $(this);
            $activeIcon.nextAll().removeClass(className.selected);
            $module.addClass(className.selected);
            $activeIcon.addClass(className.selected).prevAll().addClass(className.selected);
          },
          mouseleave: function () {
            $module.removeClass(className.selected);
            $icon.removeClass(className.selected);
          },
          click: function () {
            var $activeIcon = $(this),
                currentRating = module.get.rating(),
                rating = $icon.index($activeIcon) + 1,
                canClear = settings.clearable == 'auto' ? $icon.length === 1 : settings.clearable;

            if (canClear && currentRating == rating) {
              module.clearRating();
            } else {
              module.set.rating(rating);
            }
          }
        },
        clearRating: function () {
          module.debug('Clearing current rating');
          module.set.rating(0);
        },
        bind: {
          events: function () {
            module.verbose('Binding events');
            $module.on('mouseenter' + eventNamespace, selector.icon, module.event.mouseenter).on('mouseleave' + eventNamespace, selector.icon, module.event.mouseleave).on('click' + eventNamespace, selector.icon, module.event.click);
          }
        },
        remove: {
          events: function () {
            module.verbose('Removing events');
            $module.off(eventNamespace);
          }
        },
        enable: function () {
          module.debug('Setting rating to interactive mode');
          module.bind.events();
          $module.removeClass(className.disabled);
        },
        disable: function () {
          module.debug('Setting rating to read-only mode');
          module.remove.events();
          $module.addClass(className.disabled);
        },
        get: {
          initialRating: function () {
            if ($module.data(metadata.rating) !== undefined) {
              $module.removeData(metadata.rating);
              return $module.data(metadata.rating);
            }

            return settings.initialRating;
          },
          maxRating: function () {
            if ($module.data(metadata.maxRating) !== undefined) {
              $module.removeData(metadata.maxRating);
              return $module.data(metadata.maxRating);
            }

            return settings.maxRating;
          },
          rating: function () {
            var currentRating = $icon.filter('.' + className.active).length;
            module.verbose('Current rating retrieved', currentRating);
            return currentRating;
          }
        },
        set: {
          rating: function (rating) {
            var ratingIndex = rating - 1 >= 0 ? rating - 1 : 0,
                $activeIcon = $icon.eq(ratingIndex);
            $module.removeClass(className.selected);
            $icon.removeClass(className.selected).removeClass(className.active);

            if (rating > 0) {
              module.verbose('Setting current rating to', rating);
              $activeIcon.prevAll().andSelf().addClass(className.active);
            }

            settings.onRate.call(element, rating);
          }
        },
        setting: function (name, value) {
          module.debug('Changing setting', name, value);

          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ($allModules.length > 1) {
              title += ' ' + '(' + $allModules.length + ')';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.rating.settings = {
    name: 'Rating',
    namespace: 'rating',
    debug: false,
    verbose: false,
    performance: true,
    initialRating: 0,
    interactive: true,
    maxRating: 4,
    clearable: 'auto',
    onRate: function (rating) {},
    error: {
      method: 'The method you called is not defined',
      noMaximum: 'No maximum rating specified. Cannot generate HTML automatically'
    },
    metadata: {
      rating: 'rating',
      maxRating: 'maxRating'
    },
    className: {
      active: 'active',
      disabled: 'disabled',
      selected: 'selected',
      loading: 'loading'
    },
    selector: {
      icon: '.icon'
    },
    templates: {
      icon: function (maxRating) {
        var icon = 1,
            html = '';

        while (icon <= maxRating) {
          html += '<i class="icon"></i>';
          icon++;
        }

        return html;
      }
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"search.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/modules/search.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));

/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Search
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.search = function (parameters) {
    var $allModules = $(this),
        moduleSelector = $allModules.selector || '',
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        returnedValue;
    $(this).each(function () {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.search.settings, parameters) : $.extend({}, $.fn.search.settings),
          className = settings.className,
          metadata = settings.metadata,
          regExp = settings.regExp,
          fields = settings.fields,
          selector = settings.selector,
          error = settings.error,
          namespace = settings.namespace,
          eventNamespace = '.' + namespace,
          moduleNamespace = namespace + '-module',
          $module = $(this),
          $prompt = $module.find(selector.prompt),
          $searchButton = $module.find(selector.searchButton),
          $results = $module.find(selector.results),
          $result = $module.find(selector.result),
          $category = $module.find(selector.category),
          element = this,
          instance = $module.data(moduleNamespace),
          module;
      module = {
        initialize: function () {
          module.verbose('Initializing module');
          module.determine.searchFields();
          module.bind.events();
          module.set.type();
          module.create.results();
          module.instantiate();
        },
        instantiate: function () {
          module.verbose('Storing instance of module', module);
          instance = module;
          $module.data(moduleNamespace, module);
        },
        destroy: function () {
          module.verbose('Destroying instance');
          $module.off(eventNamespace).removeData(moduleNamespace);
        },
        bind: {
          events: function () {
            module.verbose('Binding events to search');

            if (settings.automatic) {
              $module.on(module.get.inputEvent() + eventNamespace, selector.prompt, module.event.input);
              $prompt.attr('autocomplete', 'off');
            }

            $module // prompt
            .on('focus' + eventNamespace, selector.prompt, module.event.focus).on('blur' + eventNamespace, selector.prompt, module.event.blur).on('keydown' + eventNamespace, selector.prompt, module.handleKeyboard) // search button
            .on('click' + eventNamespace, selector.searchButton, module.query) // results
            .on('mousedown' + eventNamespace, selector.results, module.event.result.mousedown).on('mouseup' + eventNamespace, selector.results, module.event.result.mouseup).on('click' + eventNamespace, selector.result, module.event.result.click);
          }
        },
        determine: {
          searchFields: function () {
            // this makes sure $.extend does not add specified search fields to default fields
            // this is the only setting which should not extend defaults
            if (parameters && parameters.searchFields !== undefined) {
              settings.searchFields = parameters.searchFields;
            }
          }
        },
        event: {
          input: function () {
            clearTimeout(module.timer);
            module.timer = setTimeout(module.query, settings.searchDelay);
          },
          focus: function () {
            module.set.focus();

            if (module.has.minimumCharacters()) {
              module.query();

              if (module.can.show()) {
                module.showResults();
              }
            }
          },
          blur: function (event) {
            var pageLostFocus = document.activeElement === this,
                callback = function () {
              module.cancel.query();
              module.remove.focus();
              module.timer = setTimeout(module.hideResults, settings.hideDelay);
            };

            if (pageLostFocus) {
              return;
            }

            if (module.resultsClicked) {
              module.debug('Determining if user action caused search to close');
              $module.one('click', selector.results, function (event) {
                if (!module.is.animating() && !module.is.hidden()) {
                  callback();
                }
              });
            } else {
              module.debug('Input blurred without user action, closing results');
              callback();
            }
          },
          result: {
            mousedown: function () {
              module.resultsClicked = true;
            },
            mouseup: function () {
              module.resultsClicked = false;
            },
            click: function (event) {
              module.debug('Search result selected');
              var $result = $(this),
                  $title = $result.find(selector.title).eq(0),
                  $link = $result.find('a[href]').eq(0),
                  href = $link.attr('href') || false,
                  target = $link.attr('target') || false,
                  title = $title.html(),
                  // title is used for result lookup
              value = $title.length > 0 ? $title.text() : false,
                  results = module.get.results(),
                  result = $result.data(metadata.result) || module.get.result(value, results),
                  returnedValue;

              if ($.isFunction(settings.onSelect)) {
                if (settings.onSelect.call(element, result, results) === false) {
                  module.debug('Custom onSelect callback cancelled default select action');
                  return;
                }
              }

              module.hideResults();

              if (value) {
                module.set.value(value);
              }

              if (href) {
                module.verbose('Opening search link found in result', $link);

                if (target == '_blank' || event.ctrlKey) {
                  window.open(href);
                } else {
                  window.location.href = href;
                }
              }
            }
          }
        },
        handleKeyboard: function (event) {
          var // force selector refresh
          $result = $module.find(selector.result),
              $category = $module.find(selector.category),
              currentIndex = $result.index($result.filter('.' + className.active)),
              resultSize = $result.length,
              keyCode = event.which,
              keys = {
            backspace: 8,
            enter: 13,
            escape: 27,
            upArrow: 38,
            downArrow: 40
          },
              newIndex; // search shortcuts

          if (keyCode == keys.escape) {
            module.verbose('Escape key pressed, blurring search field');
            module.trigger.blur();
          }

          if (module.is.visible()) {
            if (keyCode == keys.enter) {
              module.verbose('Enter key pressed, selecting active result');

              if ($result.filter('.' + className.active).length > 0) {
                module.event.result.click.call($result.filter('.' + className.active), event);
                event.preventDefault();
                return false;
              }
            } else if (keyCode == keys.upArrow) {
              module.verbose('Up key pressed, changing active result');
              newIndex = currentIndex - 1 < 0 ? currentIndex : currentIndex - 1;
              $category.removeClass(className.active);
              $result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active);
              event.preventDefault();
            } else if (keyCode == keys.downArrow) {
              module.verbose('Down key pressed, changing active result');
              newIndex = currentIndex + 1 >= resultSize ? currentIndex : currentIndex + 1;
              $category.removeClass(className.active);
              $result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active);
              event.preventDefault();
            }
          } else {
            // query shortcuts
            if (keyCode == keys.enter) {
              module.verbose('Enter key pressed, executing query');
              module.query();
              module.set.buttonPressed();
              $prompt.one('keyup', module.remove.buttonFocus);
            }
          }
        },
        setup: {
          api: function () {
            var apiSettings = {
              debug: settings.debug,
              on: false,
              cache: 'local',
              action: 'search',
              onError: module.error
            },
                searchHTML;
            module.verbose('First request, initializing API');
            $module.api(apiSettings);
          }
        },
        can: {
          useAPI: function () {
            return $.fn.api !== undefined;
          },
          show: function () {
            return module.is.focused() && !module.is.visible() && !module.is.empty();
          },
          transition: function () {
            return settings.transition && $.fn.transition !== undefined && $module.transition('is supported');
          }
        },
        is: {
          animating: function () {
            return $results.hasClass(className.animating);
          },
          hidden: function () {
            return $results.hasClass(className.hidden);
          },
          empty: function () {
            return $results.html() === '';
          },
          visible: function () {
            return $results.filter(':visible').length > 0;
          },
          focused: function () {
            return $prompt.filter(':focus').length > 0;
          }
        },
        trigger: {
          blur: function () {
            var events = document.createEvent('HTMLEvents'),
                promptElement = $prompt[0];

            if (promptElement) {
              module.verbose('Triggering native blur event');
              events.initEvent('blur', false, false);
              promptElement.dispatchEvent(events);
            }
          }
        },
        get: {
          inputEvent: function () {
            var prompt = $prompt[0],
                inputEvent = prompt !== undefined && prompt.oninput !== undefined ? 'input' : prompt !== undefined && prompt.onpropertychange !== undefined ? 'propertychange' : 'keyup';
            return inputEvent;
          },
          value: function () {
            return $prompt.val();
          },
          results: function () {
            var results = $module.data(metadata.results);
            return results;
          },
          result: function (value, results) {
            var lookupFields = ['title', 'id'],
                result = false;
            value = value !== undefined ? value : module.get.value();
            results = results !== undefined ? results : module.get.results();

            if (settings.type === 'category') {
              module.debug('Finding result that matches', value);
              $.each(results, function (index, category) {
                if ($.isArray(category.results)) {
                  result = module.search.object(value, category.results, lookupFields)[0]; // don't continue searching if a result is found

                  if (result) {
                    return false;
                  }
                }
              });
            } else {
              module.debug('Finding result in results object', value);
              result = module.search.object(value, results, lookupFields)[0];
            }

            return result || false;
          }
        },
        set: {
          focus: function () {
            $module.addClass(className.focus);
          },
          loading: function () {
            $module.addClass(className.loading);
          },
          value: function (value) {
            module.verbose('Setting search input value', value);
            $prompt.val(value);
          },
          type: function (type) {
            type = type || settings.type;

            if (settings.type == 'category') {
              $module.addClass(settings.type);
            }
          },
          buttonPressed: function () {
            $searchButton.addClass(className.pressed);
          }
        },
        remove: {
          loading: function () {
            $module.removeClass(className.loading);
          },
          focus: function () {
            $module.removeClass(className.focus);
          },
          buttonPressed: function () {
            $searchButton.removeClass(className.pressed);
          }
        },
        query: function () {
          var searchTerm = module.get.value(),
              cache = module.read.cache(searchTerm);

          if (module.has.minimumCharacters()) {
            if (cache) {
              module.debug('Reading result from cache', searchTerm);
              module.save.results(cache.results);
              module.addResults(cache.html);
              module.inject.id(cache.results);
            } else {
              module.debug('Querying for', searchTerm);

              if ($.isPlainObject(settings.source) || $.isArray(settings.source)) {
                module.search.local(searchTerm);
              } else if (module.can.useAPI()) {
                module.search.remote(searchTerm);
              } else {
                module.error(error.source);
              }
            }

            settings.onSearchQuery.call(element, searchTerm);
          } else {
            module.hideResults();
          }
        },
        search: {
          local: function (searchTerm) {
            var results = module.search.object(searchTerm, settings.content),
                searchHTML;
            module.set.loading();
            module.save.results(results);
            module.debug('Returned local search results', results);
            searchHTML = module.generateResults({
              results: results
            });
            module.remove.loading();
            module.addResults(searchHTML);
            module.inject.id(results);
            module.write.cache(searchTerm, {
              html: searchHTML,
              results: results
            });
          },
          remote: function (searchTerm) {
            var apiSettings = {
              onSuccess: function (response) {
                module.parse.response.call(element, response, searchTerm);
              },
              onFailure: function () {
                module.displayMessage(error.serverError);
              },
              urlData: {
                query: searchTerm
              }
            };

            if (!$module.api('get request')) {
              module.setup.api();
            }

            $.extend(true, apiSettings, settings.apiSettings);
            module.debug('Executing search', apiSettings);
            module.cancel.query();
            $module.api('setting', apiSettings).api('query');
          },
          object: function (searchTerm, source, searchFields) {
            var results = [],
                fuzzyResults = [],
                searchExp = searchTerm.toString().replace(regExp.escape, '\\$&'),
                matchRegExp = new RegExp(regExp.beginsWith + searchExp, 'i'),
                // avoid duplicates when pushing results
            addResult = function (array, result) {
              var notResult = $.inArray(result, results) == -1,
                  notFuzzyResult = $.inArray(result, fuzzyResults) == -1;

              if (notResult && notFuzzyResult) {
                array.push(result);
              }
            };

            source = source || settings.source;
            searchFields = searchFields !== undefined ? searchFields : settings.searchFields; // search fields should be array to loop correctly

            if (!$.isArray(searchFields)) {
              searchFields = [searchFields];
            } // exit conditions if no source


            if (source === undefined || source === false) {
              module.error(error.source);
              return [];
            } // iterate through search fields looking for matches


            $.each(searchFields, function (index, field) {
              $.each(source, function (label, content) {
                var fieldExists = typeof content[field] == 'string';

                if (fieldExists) {
                  if (content[field].search(matchRegExp) !== -1) {
                    // content starts with value (first in results)
                    addResult(results, content);
                  } else if (settings.searchFullText && module.fuzzySearch(searchTerm, content[field])) {
                    // content fuzzy matches (last in results)
                    addResult(fuzzyResults, content);
                  }
                }
              });
            });
            return $.merge(results, fuzzyResults);
          }
        },
        fuzzySearch: function (query, term) {
          var termLength = term.length,
              queryLength = query.length;

          if (typeof query !== 'string') {
            return false;
          }

          query = query.toLowerCase();
          term = term.toLowerCase();

          if (queryLength > termLength) {
            return false;
          }

          if (queryLength === termLength) {
            return query === term;
          }

          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {
            var queryCharacter = query.charCodeAt(characterIndex);

            while (nextCharacterIndex < termLength) {
              if (term.charCodeAt(nextCharacterIndex++) === queryCharacter) {
                continue search;
              }
            }

            return false;
          }

          return true;
        },
        parse: {
          response: function (response, searchTerm) {
            var searchHTML = module.generateResults(response);
            module.verbose('Parsing server response', response);

            if (response !== undefined) {
              if (searchTerm !== undefined && response[fields.results] !== undefined) {
                module.addResults(searchHTML);
                module.inject.id(response[fields.results]);
                module.write.cache(searchTerm, {
                  html: searchHTML,
                  results: response[fields.results]
                });
                module.save.results(response[fields.results]);
              }
            }
          }
        },
        cancel: {
          query: function () {
            if (module.can.useAPI()) {
              $module.api('abort');
            }
          }
        },
        has: {
          minimumCharacters: function () {
            var searchTerm = module.get.value(),
                numCharacters = searchTerm.length;
            return numCharacters >= settings.minCharacters;
          }
        },
        clear: {
          cache: function (value) {
            var cache = $module.data(metadata.cache);

            if (!value) {
              module.debug('Clearing cache', value);
              $module.removeData(metadata.cache);
            } else if (value && cache && cache[value]) {
              module.debug('Removing value from cache', value);
              delete cache[value];
              $module.data(metadata.cache, cache);
            }
          }
        },
        read: {
          cache: function (name) {
            var cache = $module.data(metadata.cache);

            if (settings.cache) {
              module.verbose('Checking cache for generated html for query', name);
              return (0, _typeof2.default)(cache) == 'object' && cache[name] !== undefined ? cache[name] : false;
            }

            return false;
          }
        },
        create: {
          id: function (resultIndex, categoryIndex) {
            var resultID = resultIndex + 1,
                // not zero indexed
            categoryID = categoryIndex + 1,
                firstCharCode,
                letterID,
                id;

            if (categoryIndex !== undefined) {
              // start char code for "A"
              letterID = String.fromCharCode(97 + categoryIndex);
              id = letterID + resultID;
              module.verbose('Creating category result id', id);
            } else {
              id = resultID;
              module.verbose('Creating result id', id);
            }

            return id;
          },
          results: function () {
            if ($results.length === 0) {
              $results = $('<div />').addClass(className.results).appendTo($module);
            }
          }
        },
        inject: {
          result: function (result, resultIndex, categoryIndex) {
            module.verbose('Injecting result into results');
            var $selectedResult = categoryIndex !== undefined ? $results.children().eq(categoryIndex).children(selector.result).eq(resultIndex) : $results.children(selector.result).eq(resultIndex);
            module.verbose('Injecting results metadata', $selectedResult);
            $selectedResult.data(metadata.result, result);
          },
          id: function (results) {
            module.debug('Injecting unique ids into results');
            var // since results may be object, we must use counters
            categoryIndex = 0,
                resultIndex = 0;

            if (settings.type === 'category') {
              // iterate through each category result
              $.each(results, function (index, category) {
                resultIndex = 0;
                $.each(category.results, function (index, value) {
                  var result = category.results[index];

                  if (result.id === undefined) {
                    result.id = module.create.id(resultIndex, categoryIndex);
                  }

                  module.inject.result(result, resultIndex, categoryIndex);
                  resultIndex++;
                });
                categoryIndex++;
              });
            } else {
              // top level
              $.each(results, function (index, value) {
                var result = results[index];

                if (result.id === undefined) {
                  result.id = module.create.id(resultIndex);
                }

                module.inject.result(result, resultIndex);
                resultIndex++;
              });
            }

            return results;
          }
        },
        save: {
          results: function (results) {
            module.verbose('Saving current search results to metadata', results);
            $module.data(metadata.results, results);
          }
        },
        write: {
          cache: function (name, value) {
            var cache = $module.data(metadata.cache) !== undefined ? $module.data(metadata.cache) : {};

            if (settings.cache) {
              module.verbose('Writing generated html to cache', name, value);
              cache[name] = value;
              $module.data(metadata.cache, cache);
            }
          }
        },
        addResults: function (html) {
          if ($.isFunction(settings.onResultsAdd)) {
            if (settings.onResultsAdd.call($results, html) === false) {
              module.debug('onResultsAdd callback cancelled default action');
              return false;
            }
          }

          $results.html(html);

          if (module.can.show()) {
            module.showResults();
          }
        },
        showResults: function () {
          if (!module.is.visible()) {
            if (module.can.transition()) {
              module.debug('Showing results with css animations');
              $results.transition({
                animation: settings.transition + ' in',
                debug: settings.debug,
                verbose: settings.verbose,
                duration: settings.duration,
                queue: true
              });
            } else {
              module.debug('Showing results with javascript');
              $results.stop().fadeIn(settings.duration, settings.easing);
            }

            settings.onResultsOpen.call($results);
          }
        },
        hideResults: function () {
          if (module.is.visible()) {
            if (module.can.transition()) {
              module.debug('Hiding results with css animations');
              $results.transition({
                animation: settings.transition + ' out',
                debug: settings.debug,
                verbose: settings.verbose,
                duration: settings.duration,
                queue: true
              });
            } else {
              module.debug('Hiding results with javascript');
              $results.stop().fadeOut(settings.duration, settings.easing);
            }

            settings.onResultsClose.call($results);
          }
        },
        generateResults: function (response) {
          module.debug('Generating html from response', response);
          var template = settings.templates[settings.type],
              isProperObject = $.isPlainObject(response[fields.results]) && !$.isEmptyObject(response[fields.results]),
              isProperArray = $.isArray(response[fields.results]) && response[fields.results].length > 0,
              html = '';

          if (isProperObject || isProperArray) {
            if (settings.maxResults > 0) {
              if (isProperObject) {
                if (settings.type == 'standard') {
                  module.error(error.maxResults);
                }
              } else {
                response[fields.results] = response[fields.results].slice(0, settings.maxResults);
              }
            }

            if ($.isFunction(template)) {
              html = template(response, fields);
            } else {
              module.error(error.noTemplate, false);
            }
          } else {
            html = module.displayMessage(error.noResults, 'empty');
          }

          settings.onResults.call(element, response);
          return html;
        },
        displayMessage: function (text, type) {
          type = type || 'standard';
          module.debug('Displaying message', text, type);
          module.addResults(settings.templates.message(text, type));
          return settings.templates.message(text, type);
        },
        setting: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ($allModules.length > 1) {
              title += ' ' + '(' + $allModules.length + ')';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.search.settings = {
    name: 'Search',
    namespace: 'search',
    debug: false,
    verbose: false,
    performance: true,
    type: 'standard',
    // template to use (specified in settings.templates)
    minCharacters: 1,
    // minimum characters required to search
    apiSettings: false,
    // API config
    source: false,
    // object to search
    searchFields: ['title', 'description'],
    // fields to search
    displayField: '',
    // field to display in standard results template
    searchFullText: true,
    // whether to include fuzzy results in local search
    automatic: true,
    // whether to add events to prompt automatically
    hideDelay: 0,
    // delay before hiding menu after blur
    searchDelay: 200,
    // delay before searching
    maxResults: 7,
    // maximum results returned from local
    cache: true,
    // whether to store lookups in local cache
    // transition settings
    transition: 'scale',
    duration: 200,
    easing: 'easeOutExpo',
    // callbacks
    onSelect: false,
    onResultsAdd: false,
    onSearchQuery: function (query) {},
    onResults: function (response) {},
    onResultsOpen: function () {},
    onResultsClose: function () {},
    className: {
      animating: 'animating',
      active: 'active',
      empty: 'empty',
      focus: 'focus',
      hidden: 'hidden',
      loading: 'loading',
      results: 'results',
      pressed: 'down'
    },
    error: {
      source: 'Cannot search. No source used, and Semantic API module was not included',
      noResults: 'Your search returned no results',
      logging: 'Error in debug logging, exiting.',
      noEndpoint: 'No search endpoint was specified',
      noTemplate: 'A valid template name was not specified.',
      serverError: 'There was an issue querying the server.',
      maxResults: 'Results must be an array to use maxResults setting',
      method: 'The method you called is not defined.'
    },
    metadata: {
      cache: 'cache',
      results: 'results',
      result: 'result'
    },
    regExp: {
      escape: /[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
      beginsWith: '(?:\s|^)'
    },
    // maps api response attributes to internal representation
    fields: {
      categories: 'results',
      // array of categories (category view)
      categoryName: 'name',
      // name of category (category view)
      categoryResults: 'results',
      // array of results (category view)
      description: 'description',
      // result description
      image: 'image',
      // result image
      price: 'price',
      // result price
      results: 'results',
      // array of results (standard)
      title: 'title',
      // result title
      url: 'url',
      // result url
      action: 'action',
      // "view more" object name
      actionText: 'text',
      // "view more" text
      actionURL: 'url' // "view more" url

    },
    selector: {
      prompt: '.prompt',
      searchButton: '.search.button',
      results: '.results',
      category: '.category',
      result: '.result',
      title: '.title, .name'
    },
    templates: {
      escape: function (string) {
        var badChars = /[&<>"'`]/g,
            shouldEscape = /[&<>"'`]/,
            escape = {
          "&": "&amp;",
          "<": "&lt;",
          ">": "&gt;",
          '"': "&quot;",
          "'": "&#x27;",
          "`": "&#x60;"
        },
            escapedChar = function (chr) {
          return escape[chr];
        };

        if (shouldEscape.test(string)) {
          return string.replace(badChars, escapedChar);
        }

        return string;
      },
      message: function (message, type) {
        var html = '';

        if (message !== undefined && type !== undefined) {
          html += '' + '<div class="message ' + type + '">'; // message type

          if (type == 'empty') {
            html += '' + '<div class="header">No Results</div class="header">' + '<div class="description">' + message + '</div class="description">';
          } else {
            html += ' <div class="description">' + message + '</div>';
          }

          html += '</div>';
        }

        return html;
      },
      category: function (response, fields) {
        var html = '',
            escape = $.fn.search.settings.templates.escape;

        if (response[fields.categoryResults] !== undefined) {
          // each category
          $.each(response[fields.categoryResults], function (index, category) {
            if (category[fields.results] !== undefined && category.results.length > 0) {
              html += '<div class="category">';

              if (category[fields.categoryName] !== undefined) {
                html += '<div class="name">' + category[fields.categoryName] + '</div>';
              } // each item inside category


              $.each(category.results, function (index, result) {
                if (result[fields.url]) {
                  html += '<a class="result" href="' + result[fields.url] + '">';
                } else {
                  html += '<a class="result">';
                }

                if (result[fields.image] !== undefined) {
                  html += '' + '<div class="image">' + ' <img src="' + result[fields.image] + '">' + '</div>';
                }

                html += '<div class="content">';

                if (result[fields.price] !== undefined) {
                  html += '<div class="price">' + result[fields.price] + '</div>';
                }

                if (result[fields.title] !== undefined) {
                  html += '<div class="title">' + result[fields.title] + '</div>';
                }

                if (result[fields.description] !== undefined) {
                  html += '<div class="description">' + result[fields.description] + '</div>';
                }

                html += '' + '</div>';
                html += '</a>';
              });
              html += '' + '</div>';
            }
          });

          if (response[fields.action]) {
            html += '' + '<a href="' + response[fields.action][fields.actionURL] + '" class="action">' + response[fields.action][fields.actionText] + '</a>';
          }

          return html;
        }

        return false;
      },
      standard: function (response, fields) {
        var html = '';

        if (response[fields.results] !== undefined) {
          // each result
          $.each(response[fields.results], function (index, result) {
            if (result[fields.url]) {
              html += '<a class="result" href="' + result[fields.url] + '">';
            } else {
              html += '<a class="result">';
            }

            if (result[fields.image] !== undefined) {
              html += '' + '<div class="image">' + ' <img src="' + result[fields.image] + '">' + '</div>';
            }

            html += '<div class="content">';

            if (result[fields.price] !== undefined) {
              html += '<div class="price">' + result[fields.price] + '</div>';
            }

            if (result[fields.title] !== undefined) {
              html += '<div class="title">' + result[fields.title] + '</div>';
            }

            if (result[fields.description] !== undefined) {
              html += '<div class="description">' + result[fields.description] + '</div>';
            }

            html += '' + '</div>';
            html += '</a>';
          });

          if (response[fields.action]) {
            html += '' + '<a href="' + response[fields.action][fields.actionURL] + '" class="action">' + response[fields.action][fields.actionText] + '</a>';
          }

          return html;
        }

        return false;
      }
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"shape.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/modules/shape.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Shape
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.shape = function (parameters) {
    var $allModules = $(this),
        $body = $('body'),
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
      setTimeout(callback, 0);
    },
        returnedValue;

    $allModules.each(function () {
      var moduleSelector = $allModules.selector || '',
          settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.shape.settings, parameters) : $.extend({}, $.fn.shape.settings),
          // internal aliases
      namespace = settings.namespace,
          selector = settings.selector,
          error = settings.error,
          className = settings.className,
          // define namespaces for modules
      eventNamespace = '.' + namespace,
          moduleNamespace = 'module-' + namespace,
          // selector cache
      $module = $(this),
          $sides = $module.find(selector.sides),
          $side = $module.find(selector.side),
          // private variables
      nextIndex = false,
          $activeSide,
          $nextSide,
          // standard module
      element = this,
          instance = $module.data(moduleNamespace),
          module;
      module = {
        initialize: function () {
          module.verbose('Initializing module for', element);
          module.set.defaultSide();
          module.instantiate();
        },
        instantiate: function () {
          module.verbose('Storing instance of module', module);
          instance = module;
          $module.data(moduleNamespace, instance);
        },
        destroy: function () {
          module.verbose('Destroying previous module for', element);
          $module.removeData(moduleNamespace).off(eventNamespace);
        },
        refresh: function () {
          module.verbose('Refreshing selector cache for', element);
          $module = $(element);
          $sides = $(this).find(selector.shape);
          $side = $(this).find(selector.side);
        },
        repaint: function () {
          module.verbose('Forcing repaint event');
          var shape = $sides[0] || document.createElement('div'),
              fakeAssignment = shape.offsetWidth;
        },
        animate: function (propertyObject, callback) {
          module.verbose('Animating box with properties', propertyObject);

          callback = callback || function (event) {
            module.verbose('Executing animation callback');

            if (event !== undefined) {
              event.stopPropagation();
            }

            module.reset();
            module.set.active();
          };

          settings.beforeChange.call($nextSide[0]);

          if (module.get.transitionEvent()) {
            module.verbose('Starting CSS animation');
            $module.addClass(className.animating);
            $sides.css(propertyObject).one(module.get.transitionEvent(), callback);
            module.set.duration(settings.duration);
            requestAnimationFrame(function () {
              $module.addClass(className.animating);
              $activeSide.addClass(className.hidden);
            });
          } else {
            callback();
          }
        },
        queue: function (method) {
          module.debug('Queueing animation of', method);
          $sides.one(module.get.transitionEvent(), function () {
            module.debug('Executing queued animation');
            setTimeout(function () {
              $module.shape(method);
            }, 0);
          });
        },
        reset: function () {
          module.verbose('Animating states reset');
          $module.removeClass(className.animating).attr('style', '').removeAttr('style'); // removeAttr style does not consistently work in safari

          $sides.attr('style', '').removeAttr('style');
          $side.attr('style', '').removeAttr('style').removeClass(className.hidden);
          $nextSide.removeClass(className.animating).attr('style', '').removeAttr('style');
        },
        is: {
          complete: function () {
            return $side.filter('.' + className.active)[0] == $nextSide[0];
          },
          animating: function () {
            return $module.hasClass(className.animating);
          }
        },
        set: {
          defaultSide: function () {
            $activeSide = $module.find('.' + settings.className.active);
            $nextSide = $activeSide.next(selector.side).length > 0 ? $activeSide.next(selector.side) : $module.find(selector.side).first();
            nextIndex = false;
            module.verbose('Active side set to', $activeSide);
            module.verbose('Next side set to', $nextSide);
          },
          duration: function (duration) {
            duration = duration || settings.duration;
            duration = typeof duration == 'number' ? duration + 'ms' : duration;
            module.verbose('Setting animation duration', duration);

            if (settings.duration || settings.duration === 0) {
              $sides.add($side).css({
                '-webkit-transition-duration': duration,
                '-moz-transition-duration': duration,
                '-ms-transition-duration': duration,
                '-o-transition-duration': duration,
                'transition-duration': duration
              });
            }
          },
          currentStageSize: function () {
            var $activeSide = $module.find('.' + settings.className.active),
                width = $activeSide.outerWidth(true),
                height = $activeSide.outerHeight(true);
            $module.css({
              width: width,
              height: height
            });
          },
          stageSize: function () {
            var $clone = $module.clone().addClass(className.loading),
                $activeSide = $clone.find('.' + settings.className.active),
                $nextSide = nextIndex ? $clone.find(selector.side).eq(nextIndex) : $activeSide.next(selector.side).length > 0 ? $activeSide.next(selector.side) : $clone.find(selector.side).first(),
                newSize = {};
            module.set.currentStageSize();
            $activeSide.removeClass(className.active);
            $nextSide.addClass(className.active);
            $clone.insertAfter($module);
            newSize = {
              width: $nextSide.outerWidth(true),
              height: $nextSide.outerHeight(true)
            };
            $clone.remove();
            $module.css(newSize);
            module.verbose('Resizing stage to fit new content', newSize);
          },
          nextSide: function (selector) {
            nextIndex = selector;
            $nextSide = $side.filter(selector);
            nextIndex = $side.index($nextSide);

            if ($nextSide.length === 0) {
              module.set.defaultSide();
              module.error(error.side);
            }

            module.verbose('Next side manually set to', $nextSide);
          },
          active: function () {
            module.verbose('Setting new side to active', $nextSide);
            $side.removeClass(className.active);
            $nextSide.addClass(className.active);
            settings.onChange.call($nextSide[0]);
            module.set.defaultSide();
          }
        },
        flip: {
          up: function () {
            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {
              module.debug('Side already visible', $nextSide);
              return;
            }

            if (!module.is.animating()) {
              module.debug('Flipping up', $nextSide);
              module.set.stageSize();
              module.stage.above();
              module.animate(module.get.transform.up());
            } else {
              module.queue('flip up');
            }
          },
          down: function () {
            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {
              module.debug('Side already visible', $nextSide);
              return;
            }

            if (!module.is.animating()) {
              module.debug('Flipping down', $nextSide);
              module.set.stageSize();
              module.stage.below();
              module.animate(module.get.transform.down());
            } else {
              module.queue('flip down');
            }
          },
          left: function () {
            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {
              module.debug('Side already visible', $nextSide);
              return;
            }

            if (!module.is.animating()) {
              module.debug('Flipping left', $nextSide);
              module.set.stageSize();
              module.stage.left();
              module.animate(module.get.transform.left());
            } else {
              module.queue('flip left');
            }
          },
          right: function () {
            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {
              module.debug('Side already visible', $nextSide);
              return;
            }

            if (!module.is.animating()) {
              module.debug('Flipping right', $nextSide);
              module.set.stageSize();
              module.stage.right();
              module.animate(module.get.transform.right());
            } else {
              module.queue('flip right');
            }
          },
          over: function () {
            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {
              module.debug('Side already visible', $nextSide);
              return;
            }

            if (!module.is.animating()) {
              module.debug('Flipping over', $nextSide);
              module.set.stageSize();
              module.stage.behind();
              module.animate(module.get.transform.over());
            } else {
              module.queue('flip over');
            }
          },
          back: function () {
            if (module.is.complete() && !module.is.animating() && !settings.allowRepeats) {
              module.debug('Side already visible', $nextSide);
              return;
            }

            if (!module.is.animating()) {
              module.debug('Flipping back', $nextSide);
              module.set.stageSize();
              module.stage.behind();
              module.animate(module.get.transform.back());
            } else {
              module.queue('flip back');
            }
          }
        },
        get: {
          transform: {
            up: function () {
              var translate = {
                y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),
                z: -($activeSide.outerHeight(true) / 2)
              };
              return {
                transform: 'translateY(' + translate.y + 'px) translateZ(' + translate.z + 'px) rotateX(-90deg)'
              };
            },
            down: function () {
              var translate = {
                y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),
                z: -($activeSide.outerHeight(true) / 2)
              };
              return {
                transform: 'translateY(' + translate.y + 'px) translateZ(' + translate.z + 'px) rotateX(90deg)'
              };
            },
            left: function () {
              var translate = {
                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),
                z: -($activeSide.outerWidth(true) / 2)
              };
              return {
                transform: 'translateX(' + translate.x + 'px) translateZ(' + translate.z + 'px) rotateY(90deg)'
              };
            },
            right: function () {
              var translate = {
                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),
                z: -($activeSide.outerWidth(true) / 2)
              };
              return {
                transform: 'translateX(' + translate.x + 'px) translateZ(' + translate.z + 'px) rotateY(-90deg)'
              };
            },
            over: function () {
              var translate = {
                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)
              };
              return {
                transform: 'translateX(' + translate.x + 'px) rotateY(180deg)'
              };
            },
            back: function () {
              var translate = {
                x: -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)
              };
              return {
                transform: 'translateX(' + translate.x + 'px) rotateY(-180deg)'
              };
            }
          },
          transitionEvent: function () {
            var element = document.createElement('element'),
                transitions = {
              'transition': 'transitionend',
              'OTransition': 'oTransitionEnd',
              'MozTransition': 'transitionend',
              'WebkitTransition': 'webkitTransitionEnd'
            },
                transition;

            for (transition in meteorBabelHelpers.sanitizeForInObject(transitions)) {
              if (element.style[transition] !== undefined) {
                return transitions[transition];
              }
            }
          },
          nextSide: function () {
            return $activeSide.next(selector.side).length > 0 ? $activeSide.next(selector.side) : $module.find(selector.side).first();
          }
        },
        stage: {
          above: function () {
            var box = {
              origin: ($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2,
              depth: {
                active: $nextSide.outerHeight(true) / 2,
                next: $activeSide.outerHeight(true) / 2
              }
            };
            module.verbose('Setting the initial animation position as above', $nextSide, box);
            $sides.css({
              'transform': 'translateZ(-' + box.depth.active + 'px)'
            });
            $activeSide.css({
              'transform': 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'
            });
            $nextSide.addClass(className.animating).css({
              'top': box.origin + 'px',
              'transform': 'rotateX(90deg) translateZ(' + box.depth.next + 'px)'
            });
          },
          below: function () {
            var box = {
              origin: ($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2,
              depth: {
                active: $nextSide.outerHeight(true) / 2,
                next: $activeSide.outerHeight(true) / 2
              }
            };
            module.verbose('Setting the initial animation position as below', $nextSide, box);
            $sides.css({
              'transform': 'translateZ(-' + box.depth.active + 'px)'
            });
            $activeSide.css({
              'transform': 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'
            });
            $nextSide.addClass(className.animating).css({
              'top': box.origin + 'px',
              'transform': 'rotateX(-90deg) translateZ(' + box.depth.next + 'px)'
            });
          },
          left: function () {
            var height = {
              active: $activeSide.outerWidth(true),
              next: $nextSide.outerWidth(true)
            },
                box = {
              origin: (height.active - height.next) / 2,
              depth: {
                active: height.next / 2,
                next: height.active / 2
              }
            };
            module.verbose('Setting the initial animation position as left', $nextSide, box);
            $sides.css({
              'transform': 'translateZ(-' + box.depth.active + 'px)'
            });
            $activeSide.css({
              'transform': 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'
            });
            $nextSide.addClass(className.animating).css({
              'left': box.origin + 'px',
              'transform': 'rotateY(-90deg) translateZ(' + box.depth.next + 'px)'
            });
          },
          right: function () {
            var height = {
              active: $activeSide.outerWidth(true),
              next: $nextSide.outerWidth(true)
            },
                box = {
              origin: (height.active - height.next) / 2,
              depth: {
                active: height.next / 2,
                next: height.active / 2
              }
            };
            module.verbose('Setting the initial animation position as left', $nextSide, box);
            $sides.css({
              'transform': 'translateZ(-' + box.depth.active + 'px)'
            });
            $activeSide.css({
              'transform': 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'
            });
            $nextSide.addClass(className.animating).css({
              'left': box.origin + 'px',
              'transform': 'rotateY(90deg) translateZ(' + box.depth.next + 'px)'
            });
          },
          behind: function () {
            var height = {
              active: $activeSide.outerWidth(true),
              next: $nextSide.outerWidth(true)
            },
                box = {
              origin: (height.active - height.next) / 2,
              depth: {
                active: height.next / 2,
                next: height.active / 2
              }
            };
            module.verbose('Setting the initial animation position as behind', $nextSide, box);
            $activeSide.css({
              'transform': 'rotateY(0deg)'
            });
            $nextSide.addClass(className.animating).css({
              'left': box.origin + 'px',
              'transform': 'rotateY(-180deg)'
            });
          }
        },
        setting: function (name, value) {
          module.debug('Changing setting', name, value);

          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ($allModules.length > 1) {
              title += ' ' + '(' + $allModules.length + ')';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.shape.settings = {
    // module info
    name: 'Shape',
    // debug content outputted to console
    debug: false,
    // verbose debug output
    verbose: false,
    // performance data output
    performance: true,
    // event namespace
    namespace: 'shape',
    // callback occurs on side change
    beforeChange: function () {},
    onChange: function () {},
    // allow animation to same side
    allowRepeats: false,
    // animation duration
    duration: false,
    // possible errors
    error: {
      side: 'You tried to switch to a side that does not exist.',
      method: 'The method you called is not defined'
    },
    // classnames used
    className: {
      animating: 'animating',
      hidden: 'hidden',
      loading: 'loading',
      active: 'active'
    },
    // selectors used
    selector: {
      sides: '.sides',
      side: '.side'
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sidebar.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/modules/sidebar.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Sidebar
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.sidebar = function (parameters) {
    var $allModules = $(this),
        $window = $(window),
        $document = $(document),
        $html = $('html'),
        $head = $('head'),
        moduleSelector = $allModules.selector || '',
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
      setTimeout(callback, 0);
    },
        returnedValue;

    $allModules.each(function () {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.sidebar.settings, parameters) : $.extend({}, $.fn.sidebar.settings),
          selector = settings.selector,
          className = settings.className,
          namespace = settings.namespace,
          regExp = settings.regExp,
          error = settings.error,
          eventNamespace = '.' + namespace,
          moduleNamespace = 'module-' + namespace,
          $module = $(this),
          $context = $(settings.context),
          $sidebars = $module.children(selector.sidebar),
          $fixed = $context.children(selector.fixed),
          $pusher = $context.children(selector.pusher),
          $style,
          element = this,
          instance = $module.data(moduleNamespace),
          elementNamespace,
          id,
          currentScroll,
          transitionEvent,
          module;
      module = {
        initialize: function () {
          module.debug('Initializing sidebar', parameters);
          module.create.id();
          transitionEvent = module.get.transitionEvent();

          if (module.is.ios()) {
            module.set.ios();
          } // avoids locking rendering if initialized in onReady


          if (settings.delaySetup) {
            requestAnimationFrame(module.setup.layout);
          } else {
            module.setup.layout();
          }

          requestAnimationFrame(function () {
            module.setup.cache();
          });
          module.instantiate();
        },
        instantiate: function () {
          module.verbose('Storing instance of module', module);
          instance = module;
          $module.data(moduleNamespace, module);
        },
        create: {
          id: function () {
            id = (Math.random().toString(16) + '000000000').substr(2, 8);
            elementNamespace = '.' + id;
            module.verbose('Creating unique id for element', id);
          }
        },
        destroy: function () {
          module.verbose('Destroying previous module for', $module);
          $module.off(eventNamespace).removeData(moduleNamespace);

          if (module.is.ios()) {
            module.remove.ios();
          } // bound by uuid


          $context.off(elementNamespace);
          $window.off(elementNamespace);
          $document.off(elementNamespace);
        },
        event: {
          clickaway: function (event) {
            var clickedInPusher = $pusher.find(event.target).length > 0 || $pusher.is(event.target),
                clickedContext = $context.is(event.target);

            if (clickedInPusher) {
              module.verbose('User clicked on dimmed page');
              module.hide();
            }

            if (clickedContext) {
              module.verbose('User clicked on dimmable context (scaled out page)');
              module.hide();
            }
          },
          touch: function (event) {//event.stopPropagation();
          },
          containScroll: function (event) {
            if (element.scrollTop <= 0) {
              element.scrollTop = 1;
            }

            if (element.scrollTop + element.offsetHeight >= element.scrollHeight) {
              element.scrollTop = element.scrollHeight - element.offsetHeight - 1;
            }
          },
          scroll: function (event) {
            if ($(event.target).closest(selector.sidebar).length === 0) {
              event.preventDefault();
            }
          }
        },
        bind: {
          clickaway: function () {
            module.verbose('Adding clickaway events to context', $context);

            if (settings.closable) {
              $context.on('click' + elementNamespace, module.event.clickaway).on('touchend' + elementNamespace, module.event.clickaway);
            }
          },
          scrollLock: function () {
            if (settings.scrollLock) {
              module.debug('Disabling page scroll');
              $window.on('DOMMouseScroll' + elementNamespace, module.event.scroll);
            }

            module.verbose('Adding events to contain sidebar scroll');
            $document.on('touchmove' + elementNamespace, module.event.touch);
            $module.on('scroll' + eventNamespace, module.event.containScroll);
          }
        },
        unbind: {
          clickaway: function () {
            module.verbose('Removing clickaway events from context', $context);
            $context.off(elementNamespace);
          },
          scrollLock: function () {
            module.verbose('Removing scroll lock from page');
            $document.off(elementNamespace);
            $window.off(elementNamespace);
            $module.off('scroll' + eventNamespace);
          }
        },
        add: {
          inlineCSS: function () {
            var width = module.cache.width || $module.outerWidth(),
                height = module.cache.height || $module.outerHeight(),
                isRTL = module.is.rtl(),
                direction = module.get.direction(),
                distance = {
              left: width,
              right: -width,
              top: height,
              bottom: -height
            },
                style;

            if (isRTL) {
              module.verbose('RTL detected, flipping widths');
              distance.left = -width;
              distance.right = width;
            }

            style = '<style>';

            if (direction === 'left' || direction === 'right') {
              module.debug('Adding CSS rules for animation distance', width);
              style += '' + ' .ui.visible.' + direction + '.sidebar ~ .fixed,' + ' .ui.visible.' + direction + '.sidebar ~ .pusher {' + '   -webkit-transform: translate3d(' + distance[direction] + 'px, 0, 0);' + '           transform: translate3d(' + distance[direction] + 'px, 0, 0);' + ' }';
            } else if (direction === 'top' || direction == 'bottom') {
              style += '' + ' .ui.visible.' + direction + '.sidebar ~ .fixed,' + ' .ui.visible.' + direction + '.sidebar ~ .pusher {' + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);' + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);' + ' }';
            }
            /* IE is only browser not to create context with transforms */

            /* https://www.w3.org/Bugs/Public/show_bug.cgi?id=16328 */


            if (module.is.ie()) {
              if (direction === 'left' || direction === 'right') {
                module.debug('Adding CSS rules for animation distance', width);
                style += '' + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {' + '   -webkit-transform: translate3d(' + distance[direction] + 'px, 0, 0);' + '           transform: translate3d(' + distance[direction] + 'px, 0, 0);' + ' }';
              } else if (direction === 'top' || direction == 'bottom') {
                style += '' + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {' + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);' + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);' + ' }';
              }
              /* opposite sides visible forces content overlay */


              style += '' + ' body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after,' + ' body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {' + '   -webkit-transform: translate3d(0px, 0, 0);' + '           transform: translate3d(0px, 0, 0);' + ' }';
            }

            style += '</style>';
            $style = $(style).appendTo($head);
            module.debug('Adding sizing css to head', $style);
          }
        },
        refresh: function () {
          module.verbose('Refreshing selector cache');
          $context = $(settings.context);
          $sidebars = $context.children(selector.sidebar);
          $pusher = $context.children(selector.pusher);
          $fixed = $context.children(selector.fixed);
          module.clear.cache();
        },
        refreshSidebars: function () {
          module.verbose('Refreshing other sidebars');
          $sidebars = $context.children(selector.sidebar);
        },
        repaint: function () {
          module.verbose('Forcing repaint event');
          element.style.display = 'none';
          var ignored = element.offsetHeight;
          element.scrollTop = element.scrollTop;
          element.style.display = '';
        },
        setup: {
          cache: function () {
            module.cache = {
              width: $module.outerWidth(),
              height: $module.outerHeight(),
              rtl: $module.css('direction') == 'rtl'
            };
          },
          layout: function () {
            if ($context.children(selector.pusher).length === 0) {
              module.debug('Adding wrapper element for sidebar');
              module.error(error.pusher);
              $pusher = $('<div class="pusher" />');
              $context.children().not(selector.omitted).not($sidebars).wrapAll($pusher);
              module.refresh();
            }

            if ($module.nextAll(selector.pusher).length === 0 || $module.nextAll(selector.pusher)[0] !== $pusher[0]) {
              module.debug('Moved sidebar to correct parent element');
              module.error(error.movedSidebar, element);
              $module.detach().prependTo($context);
              module.refresh();
            }

            module.clear.cache();
            module.set.pushable();
            module.set.direction();
          }
        },
        attachEvents: function (selector, event) {
          var $toggle = $(selector);
          event = $.isFunction(module[event]) ? module[event] : module.toggle;

          if ($toggle.length > 0) {
            module.debug('Attaching sidebar events to element', selector, event);
            $toggle.on('click' + eventNamespace, event);
          } else {
            module.error(error.notFound, selector);
          }
        },
        show: function (callback) {
          callback = $.isFunction(callback) ? callback : function () {};

          if (module.is.hidden()) {
            module.refreshSidebars();

            if (settings.overlay) {
              module.error(error.overlay);
              settings.transition = 'overlay';
            }

            module.refresh();

            if (module.othersActive()) {
              module.debug('Other sidebars currently visible');

              if (settings.exclusive) {
                // if not overlay queue animation after hide
                if (settings.transition != 'overlay') {
                  module.hideOthers(module.show);
                  return;
                } else {
                  module.hideOthers();
                }
              } else {
                settings.transition = 'overlay';
              }
            }

            module.pushPage(function () {
              callback.call(element);
              settings.onShow.call(element);
            });
            settings.onChange.call(element);
            settings.onVisible.call(element);
          } else {
            module.debug('Sidebar is already visible');
          }
        },
        hide: function (callback) {
          callback = $.isFunction(callback) ? callback : function () {};

          if (module.is.visible() || module.is.animating()) {
            module.debug('Hiding sidebar', callback);
            module.refreshSidebars();
            module.pullPage(function () {
              callback.call(element);
              settings.onHidden.call(element);
            });
            settings.onChange.call(element);
            settings.onHide.call(element);
          }
        },
        othersAnimating: function () {
          return $sidebars.not($module).filter('.' + className.animating).length > 0;
        },
        othersVisible: function () {
          return $sidebars.not($module).filter('.' + className.visible).length > 0;
        },
        othersActive: function () {
          return module.othersVisible() || module.othersAnimating();
        },
        hideOthers: function (callback) {
          var $otherSidebars = $sidebars.not($module).filter('.' + className.visible),
              sidebarCount = $otherSidebars.length,
              callbackCount = 0;

          callback = callback || function () {};

          $otherSidebars.sidebar('hide', function () {
            callbackCount++;

            if (callbackCount == sidebarCount) {
              callback();
            }
          });
        },
        toggle: function () {
          module.verbose('Determining toggled direction');

          if (module.is.hidden()) {
            module.show();
          } else {
            module.hide();
          }
        },
        pushPage: function (callback) {
          var transition = module.get.transition(),
              $transition = transition === 'overlay' || module.othersActive() ? $module : $pusher,
              animate,
              dim,
              transitionEnd;
          callback = $.isFunction(callback) ? callback : function () {};

          if (settings.transition == 'scale down') {
            module.scrollToTop();
          }

          module.set.transition(transition);
          module.repaint();

          animate = function () {
            module.bind.clickaway();
            module.add.inlineCSS();
            module.set.animating();
            module.set.visible();
          };

          dim = function () {
            module.set.dimmed();
          };

          transitionEnd = function (event) {
            if (event.target == $transition[0]) {
              $transition.off(transitionEvent + elementNamespace, transitionEnd);
              module.remove.animating();
              module.bind.scrollLock();
              callback.call(element);
            }
          };

          $transition.off(transitionEvent + elementNamespace);
          $transition.on(transitionEvent + elementNamespace, transitionEnd);
          requestAnimationFrame(animate);

          if (settings.dimPage && !module.othersVisible()) {
            requestAnimationFrame(dim);
          }
        },
        pullPage: function (callback) {
          var transition = module.get.transition(),
              $transition = transition == 'overlay' || module.othersActive() ? $module : $pusher,
              animate,
              transitionEnd;
          callback = $.isFunction(callback) ? callback : function () {};
          module.verbose('Removing context push state', module.get.direction());
          module.unbind.clickaway();
          module.unbind.scrollLock();

          animate = function () {
            module.set.transition(transition);
            module.set.animating();
            module.remove.visible();

            if (settings.dimPage && !module.othersVisible()) {
              $pusher.removeClass(className.dimmed);
            }
          };

          transitionEnd = function (event) {
            if (event.target == $transition[0]) {
              $transition.off(transitionEvent + elementNamespace, transitionEnd);
              module.remove.animating();
              module.remove.transition();
              module.remove.inlineCSS();

              if (transition == 'scale down' || settings.returnScroll && module.is.mobile()) {
                module.scrollBack();
              }

              callback.call(element);
            }
          };

          $transition.off(transitionEvent + elementNamespace);
          $transition.on(transitionEvent + elementNamespace, transitionEnd);
          requestAnimationFrame(animate);
        },
        scrollToTop: function () {
          module.verbose('Scrolling to top of page to avoid animation issues');
          currentScroll = $(window).scrollTop();
          $module.scrollTop(0);
          window.scrollTo(0, 0);
        },
        scrollBack: function () {
          module.verbose('Scrolling back to original page position');
          window.scrollTo(0, currentScroll);
        },
        clear: {
          cache: function () {
            module.verbose('Clearing cached dimensions');
            module.cache = {};
          }
        },
        set: {
          // ios only (scroll on html not document). This prevent auto-resize canvas/scroll in ios
          ios: function () {
            $html.addClass(className.ios);
          },
          // container
          pushed: function () {
            $context.addClass(className.pushed);
          },
          pushable: function () {
            $context.addClass(className.pushable);
          },
          // pusher
          dimmed: function () {
            $pusher.addClass(className.dimmed);
          },
          // sidebar
          active: function () {
            $module.addClass(className.active);
          },
          animating: function () {
            $module.addClass(className.animating);
          },
          transition: function (transition) {
            transition = transition || module.get.transition();
            $module.addClass(transition);
          },
          direction: function (direction) {
            direction = direction || module.get.direction();
            $module.addClass(className[direction]);
          },
          visible: function () {
            $module.addClass(className.visible);
          },
          overlay: function () {
            $module.addClass(className.overlay);
          }
        },
        remove: {
          inlineCSS: function () {
            module.debug('Removing inline css styles', $style);

            if ($style && $style.length > 0) {
              $style.remove();
            }
          },
          // ios scroll on html not document
          ios: function () {
            $html.removeClass(className.ios);
          },
          // context
          pushed: function () {
            $context.removeClass(className.pushed);
          },
          pushable: function () {
            $context.removeClass(className.pushable);
          },
          // sidebar
          active: function () {
            $module.removeClass(className.active);
          },
          animating: function () {
            $module.removeClass(className.animating);
          },
          transition: function (transition) {
            transition = transition || module.get.transition();
            $module.removeClass(transition);
          },
          direction: function (direction) {
            direction = direction || module.get.direction();
            $module.removeClass(className[direction]);
          },
          visible: function () {
            $module.removeClass(className.visible);
          },
          overlay: function () {
            $module.removeClass(className.overlay);
          }
        },
        get: {
          direction: function () {
            if ($module.hasClass(className.top)) {
              return className.top;
            } else if ($module.hasClass(className.right)) {
              return className.right;
            } else if ($module.hasClass(className.bottom)) {
              return className.bottom;
            }

            return className.left;
          },
          transition: function () {
            var direction = module.get.direction(),
                transition;
            transition = module.is.mobile() ? settings.mobileTransition == 'auto' ? settings.defaultTransition.mobile[direction] : settings.mobileTransition : settings.transition == 'auto' ? settings.defaultTransition.computer[direction] : settings.transition;
            module.verbose('Determined transition', transition);
            return transition;
          },
          transitionEvent: function () {
            var element = document.createElement('element'),
                transitions = {
              'transition': 'transitionend',
              'OTransition': 'oTransitionEnd',
              'MozTransition': 'transitionend',
              'WebkitTransition': 'webkitTransitionEnd'
            },
                transition;

            for (transition in meteorBabelHelpers.sanitizeForInObject(transitions)) {
              if (element.style[transition] !== undefined) {
                return transitions[transition];
              }
            }
          }
        },
        is: {
          ie: function () {
            var isIE11 = !window.ActiveXObject && 'ActiveXObject' in window,
                isIE = 'ActiveXObject' in window;
            return isIE11 || isIE;
          },
          ios: function () {
            var userAgent = navigator.userAgent,
                isIOS = userAgent.match(regExp.ios),
                isMobileChrome = userAgent.match(regExp.mobileChrome);

            if (isIOS && !isMobileChrome) {
              module.verbose('Browser was found to be iOS', userAgent);
              return true;
            } else {
              return false;
            }
          },
          mobile: function () {
            var userAgent = navigator.userAgent,
                isMobile = userAgent.match(regExp.mobile);

            if (isMobile) {
              module.verbose('Browser was found to be mobile', userAgent);
              return true;
            } else {
              module.verbose('Browser is not mobile, using regular transition', userAgent);
              return false;
            }
          },
          hidden: function () {
            return !module.is.visible();
          },
          visible: function () {
            return $module.hasClass(className.visible);
          },
          // alias
          open: function () {
            return module.is.visible();
          },
          closed: function () {
            return module.is.hidden();
          },
          vertical: function () {
            return $module.hasClass(className.top);
          },
          animating: function () {
            return $context.hasClass(className.animating);
          },
          rtl: function () {
            if (module.cache.rtl === undefined) {
              module.cache.rtl = $module.css('direction') == 'rtl';
            }

            return module.cache.rtl;
          }
        },
        setting: function (name, value) {
          module.debug('Changing setting', name, value);

          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                module.error(error.method, query);
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          module.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.sidebar.settings = {
    name: 'Sidebar',
    namespace: 'sidebar',
    debug: false,
    verbose: false,
    performance: true,
    transition: 'auto',
    mobileTransition: 'auto',
    defaultTransition: {
      computer: {
        left: 'uncover',
        right: 'uncover',
        top: 'overlay',
        bottom: 'overlay'
      },
      mobile: {
        left: 'uncover',
        right: 'uncover',
        top: 'overlay',
        bottom: 'overlay'
      }
    },
    context: 'body',
    exclusive: false,
    closable: true,
    dimPage: true,
    scrollLock: false,
    returnScroll: false,
    delaySetup: false,
    duration: 500,
    onChange: function () {},
    onShow: function () {},
    onHide: function () {},
    onHidden: function () {},
    onVisible: function () {},
    className: {
      active: 'active',
      animating: 'animating',
      dimmed: 'dimmed',
      ios: 'ios',
      pushable: 'pushable',
      pushed: 'pushed',
      right: 'right',
      top: 'top',
      left: 'left',
      bottom: 'bottom',
      visible: 'visible'
    },
    selector: {
      fixed: '.fixed',
      omitted: 'script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed',
      pusher: '.pusher',
      sidebar: '.ui.sidebar'
    },
    regExp: {
      ios: /(iPad|iPhone|iPod)/g,
      mobileChrome: /(CriOS)/g,
      mobile: /Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g
    },
    error: {
      method: 'The method you called is not defined.',
      pusher: 'Had to add pusher element. For optimal performance make sure body content is inside a pusher element',
      movedSidebar: 'Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag',
      overlay: 'The overlay setting is no longer supported, use animation: overlay',
      notFound: 'There were no elements that matched the specified selector'
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sticky.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/modules/sticky.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Sticky
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.sticky = function (parameters) {
    var $allModules = $(this),
        moduleSelector = $allModules.selector || '',
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        returnedValue;
    $allModules.each(function () {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.sticky.settings, parameters) : $.extend({}, $.fn.sticky.settings),
          className = settings.className,
          namespace = settings.namespace,
          error = settings.error,
          eventNamespace = '.' + namespace,
          moduleNamespace = 'module-' + namespace,
          $module = $(this),
          $window = $(window),
          $scroll = $(settings.scrollContext),
          $container,
          $context,
          selector = $module.selector || '',
          instance = $module.data(moduleNamespace),
          requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
        setTimeout(callback, 0);
      },
          element = this,
          observer,
          module;

      module = {
        initialize: function () {
          module.determineContainer();
          module.determineContext();
          module.verbose('Initializing sticky', settings, $container);
          module.save.positions();
          module.checkErrors();
          module.bind.events();

          if (settings.observeChanges) {
            module.observeChanges();
          }

          module.instantiate();
        },
        instantiate: function () {
          module.verbose('Storing instance of module', module);
          instance = module;
          $module.data(moduleNamespace, module);
        },
        destroy: function () {
          module.verbose('Destroying previous instance');
          module.reset();

          if (observer) {
            observer.disconnect();
          }

          $window.off('load' + eventNamespace, module.event.load).off('resize' + eventNamespace, module.event.resize);
          $scroll.off('scrollchange' + eventNamespace, module.event.scrollchange);
          $module.removeData(moduleNamespace);
        },
        observeChanges: function () {
          var context = $context[0];

          if ('MutationObserver' in window) {
            observer = new MutationObserver(function (mutations) {
              clearTimeout(module.timer);
              module.timer = setTimeout(function () {
                module.verbose('DOM tree modified, updating sticky menu', mutations);
                module.refresh();
              }, 100);
            });
            observer.observe(element, {
              childList: true,
              subtree: true
            });
            observer.observe(context, {
              childList: true,
              subtree: true
            });
            module.debug('Setting up mutation observer', observer);
          }
        },
        determineContainer: function () {
          $container = $module.offsetParent();
        },
        determineContext: function () {
          if (settings.context) {
            $context = $(settings.context);
          } else {
            $context = $container;
          }

          if ($context.length === 0) {
            module.error(error.invalidContext, settings.context, $module);
            return;
          }
        },
        checkErrors: function () {
          if (module.is.hidden()) {
            module.error(error.visible, $module);
          }

          if (module.cache.element.height > module.cache.context.height) {
            module.reset();
            module.error(error.elementSize, $module);
            return;
          }
        },
        bind: {
          events: function () {
            $window.on('load' + eventNamespace, module.event.load).on('resize' + eventNamespace, module.event.resize); // pub/sub pattern

            $scroll.off('scroll' + eventNamespace).on('scroll' + eventNamespace, module.event.scroll).on('scrollchange' + eventNamespace, module.event.scrollchange);
          }
        },
        event: {
          load: function () {
            module.verbose('Page contents finished loading');
            requestAnimationFrame(module.refresh);
          },
          resize: function () {
            module.verbose('Window resized');
            requestAnimationFrame(module.refresh);
          },
          scroll: function () {
            requestAnimationFrame(function () {
              $scroll.triggerHandler('scrollchange' + eventNamespace, $scroll.scrollTop());
            });
          },
          scrollchange: function (event, scrollPosition) {
            module.stick(scrollPosition);
            settings.onScroll.call(element);
          }
        },
        refresh: function (hardRefresh) {
          module.reset();

          if (!settings.context) {
            module.determineContext();
          }

          if (hardRefresh) {
            module.determineContainer();
          }

          module.save.positions();
          module.stick();
          settings.onReposition.call(element);
        },
        supports: {
          sticky: function () {
            var $element = $('<div/>'),
                element = $element[0];
            $element.addClass(className.supported);
            return $element.css('position').match('sticky');
          }
        },
        save: {
          lastScroll: function (scroll) {
            module.lastScroll = scroll;
          },
          elementScroll: function (scroll) {
            module.elementScroll = scroll;
          },
          positions: function () {
            var scrollContext = {
              height: $scroll.height()
            },
                element = {
              margin: {
                top: parseInt($module.css('margin-top'), 10),
                bottom: parseInt($module.css('margin-bottom'), 10)
              },
              offset: $module.offset(),
              width: $module.outerWidth(),
              height: $module.outerHeight()
            },
                context = {
              offset: $context.offset(),
              height: $context.outerHeight()
            },
                container = {
              height: $container.outerHeight()
            };

            if (!module.is.standardScroll()) {
              module.debug('Non-standard scroll. Removing scroll offset from element offset');
              scrollContext.top = $scroll.scrollTop();
              scrollContext.left = $scroll.scrollLeft();
              element.offset.top += scrollContext.top;
              context.offset.top += scrollContext.top;
              element.offset.left += scrollContext.left;
              context.offset.left += scrollContext.left;
            }

            module.cache = {
              fits: element.height < scrollContext.height,
              scrollContext: {
                height: scrollContext.height
              },
              element: {
                margin: element.margin,
                top: element.offset.top - element.margin.top,
                left: element.offset.left,
                width: element.width,
                height: element.height,
                bottom: element.offset.top + element.height
              },
              context: {
                top: context.offset.top,
                height: context.height,
                bottom: context.offset.top + context.height
              }
            };
            module.set.containerSize();
            module.set.size();
            module.stick();
            module.debug('Caching element positions', module.cache);
          }
        },
        get: {
          direction: function (scroll) {
            var direction = 'down';
            scroll = scroll || $scroll.scrollTop();

            if (module.lastScroll !== undefined) {
              if (module.lastScroll < scroll) {
                direction = 'down';
              } else if (module.lastScroll > scroll) {
                direction = 'up';
              }
            }

            return direction;
          },
          scrollChange: function (scroll) {
            scroll = scroll || $scroll.scrollTop();
            return module.lastScroll ? scroll - module.lastScroll : 0;
          },
          currentElementScroll: function () {
            if (module.elementScroll) {
              return module.elementScroll;
            }

            return module.is.top() ? Math.abs(parseInt($module.css('top'), 10)) || 0 : Math.abs(parseInt($module.css('bottom'), 10)) || 0;
          },
          elementScroll: function (scroll) {
            scroll = scroll || $scroll.scrollTop();
            var element = module.cache.element,
                scrollContext = module.cache.scrollContext,
                delta = module.get.scrollChange(scroll),
                maxScroll = element.height - scrollContext.height + settings.offset,
                elementScroll = module.get.currentElementScroll(),
                possibleScroll = elementScroll + delta;

            if (module.cache.fits || possibleScroll < 0) {
              elementScroll = 0;
            } else if (possibleScroll > maxScroll) {
              elementScroll = maxScroll;
            } else {
              elementScroll = possibleScroll;
            }

            return elementScroll;
          }
        },
        remove: {
          lastScroll: function () {
            delete module.lastScroll;
          },
          elementScroll: function (scroll) {
            delete module.elementScroll;
          },
          offset: function () {
            $module.css('margin-top', '');
          }
        },
        set: {
          offset: function () {
            module.verbose('Setting offset on element', settings.offset);
            $module.css('margin-top', settings.offset);
          },
          containerSize: function () {
            var tagName = $container.get(0).tagName;

            if (tagName === 'HTML' || tagName == 'body') {
              // this can trigger for too many reasons
              //module.error(error.container, tagName, $module);
              module.determineContainer();
            } else {
              if (Math.abs($container.outerHeight() - module.cache.context.height) > settings.jitter) {
                module.debug('Context has padding, specifying exact height for container', module.cache.context.height);
                $container.css({
                  height: module.cache.context.height
                });
              }
            }
          },
          minimumSize: function () {
            var element = module.cache.element;
            $container.css('min-height', element.height);
          },
          scroll: function (scroll) {
            module.debug('Setting scroll on element', scroll);

            if (module.elementScroll == scroll) {
              return;
            }

            if (module.is.top()) {
              $module.css('bottom', '').css('top', -scroll);
            }

            if (module.is.bottom()) {
              $module.css('top', '').css('bottom', scroll);
            }
          },
          size: function () {
            if (module.cache.element.height !== 0 && module.cache.element.width !== 0) {
              element.style.setProperty('width', module.cache.element.width + 'px', 'important');
              element.style.setProperty('height', module.cache.element.height + 'px', 'important');
            }
          }
        },
        is: {
          standardScroll: function () {
            return $scroll[0] == window;
          },
          top: function () {
            return $module.hasClass(className.top);
          },
          bottom: function () {
            return $module.hasClass(className.bottom);
          },
          initialPosition: function () {
            return !module.is.fixed() && !module.is.bound();
          },
          hidden: function () {
            return !$module.is(':visible');
          },
          bound: function () {
            return $module.hasClass(className.bound);
          },
          fixed: function () {
            return $module.hasClass(className.fixed);
          }
        },
        stick: function (scroll) {
          var cachedPosition = scroll || $scroll.scrollTop(),
              cache = module.cache,
              fits = cache.fits,
              element = cache.element,
              scrollContext = cache.scrollContext,
              context = cache.context,
              offset = module.is.bottom() && settings.pushing ? settings.bottomOffset : settings.offset,
              scroll = {
            top: cachedPosition + offset,
            bottom: cachedPosition + offset + scrollContext.height
          },
              direction = module.get.direction(scroll.top),
              elementScroll = fits ? 0 : module.get.elementScroll(scroll.top),
              // shorthand
          doesntFit = !fits,
              elementVisible = element.height !== 0;

          if (elementVisible) {
            if (module.is.initialPosition()) {
              if (scroll.top >= context.bottom) {
                module.debug('Initial element position is bottom of container');
                module.bindBottom();
              } else if (scroll.top > element.top) {
                if (element.height + scroll.top - elementScroll >= context.bottom) {
                  module.debug('Initial element position is bottom of container');
                  module.bindBottom();
                } else {
                  module.debug('Initial element position is fixed');
                  module.fixTop();
                }
              }
            } else if (module.is.fixed()) {
              // currently fixed top
              if (module.is.top()) {
                if (scroll.top <= element.top) {
                  module.debug('Fixed element reached top of container');
                  module.setInitialPosition();
                } else if (element.height + scroll.top - elementScroll >= context.bottom) {
                  module.debug('Fixed element reached bottom of container');
                  module.bindBottom();
                } // scroll element if larger than screen
                else if (doesntFit) {
                    module.set.scroll(elementScroll);
                    module.save.lastScroll(scroll.top);
                    module.save.elementScroll(elementScroll);
                  }
              } // currently fixed bottom
              else if (module.is.bottom()) {
                  // top edge
                  if (scroll.bottom - element.height <= element.top) {
                    module.debug('Bottom fixed rail has reached top of container');
                    module.setInitialPosition();
                  } // bottom edge
                  else if (scroll.bottom >= context.bottom) {
                      module.debug('Bottom fixed rail has reached bottom of container');
                      module.bindBottom();
                    } // scroll element if larger than screen
                    else if (doesntFit) {
                        module.set.scroll(elementScroll);
                        module.save.lastScroll(scroll.top);
                        module.save.elementScroll(elementScroll);
                      }
                }
            } else if (module.is.bottom()) {
              if (scroll.top <= element.top) {
                module.debug('Jumped from bottom fixed to top fixed, most likely used home/end button');
                module.setInitialPosition();
              } else {
                if (settings.pushing) {
                  if (module.is.bound() && scroll.bottom <= context.bottom) {
                    module.debug('Fixing bottom attached element to bottom of browser.');
                    module.fixBottom();
                  }
                } else {
                  if (module.is.bound() && scroll.top <= context.bottom - element.height) {
                    module.debug('Fixing bottom attached element to top of browser.');
                    module.fixTop();
                  }
                }
              }
            }
          }
        },
        bindTop: function () {
          module.debug('Binding element to top of parent container');
          module.remove.offset();
          $module.css({
            left: '',
            top: '',
            marginBottom: ''
          }).removeClass(className.fixed).removeClass(className.bottom).addClass(className.bound).addClass(className.top);
          settings.onTop.call(element);
          settings.onUnstick.call(element);
        },
        bindBottom: function () {
          module.debug('Binding element to bottom of parent container');
          module.remove.offset();
          $module.css({
            left: '',
            top: ''
          }).removeClass(className.fixed).removeClass(className.top).addClass(className.bound).addClass(className.bottom);
          settings.onBottom.call(element);
          settings.onUnstick.call(element);
        },
        setInitialPosition: function () {
          module.debug('Returning to initial position');
          module.unfix();
          module.unbind();
        },
        fixTop: function () {
          module.debug('Fixing element to top of page');
          module.set.minimumSize();
          module.set.offset();
          $module.css({
            left: module.cache.element.left,
            bottom: '',
            marginBottom: ''
          }).removeClass(className.bound).removeClass(className.bottom).addClass(className.fixed).addClass(className.top);
          settings.onStick.call(element);
        },
        fixBottom: function () {
          module.debug('Sticking element to bottom of page');
          module.set.minimumSize();
          module.set.offset();
          $module.css({
            left: module.cache.element.left,
            bottom: '',
            marginBottom: ''
          }).removeClass(className.bound).removeClass(className.top).addClass(className.fixed).addClass(className.bottom);
          settings.onStick.call(element);
        },
        unbind: function () {
          if (module.is.bound()) {
            module.debug('Removing container bound position on element');
            module.remove.offset();
            $module.removeClass(className.bound).removeClass(className.top).removeClass(className.bottom);
          }
        },
        unfix: function () {
          if (module.is.fixed()) {
            module.debug('Removing fixed position on element');
            module.remove.offset();
            $module.removeClass(className.fixed).removeClass(className.top).removeClass(className.bottom);
            settings.onUnstick.call(element);
          }
        },
        reset: function () {
          module.debug('Reseting elements position');
          module.unbind();
          module.unfix();
          module.resetCSS();
          module.remove.offset();
          module.remove.lastScroll();
        },
        resetCSS: function () {
          $module.css({
            width: '',
            height: ''
          });
          $container.css({
            height: ''
          });
        },
        setting: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 0);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  };

  $.fn.sticky.settings = {
    name: 'Sticky',
    namespace: 'sticky',
    debug: false,
    verbose: true,
    performance: true,
    // whether to stick in the opposite direction on scroll up
    pushing: false,
    context: false,
    // Context to watch scroll events
    scrollContext: window,
    // Offset to adjust scroll
    offset: 0,
    // Offset to adjust scroll when attached to bottom of screen
    bottomOffset: 0,
    jitter: 5,
    // will only set container height if difference between context and container is larger than this number
    // Whether to automatically observe changes with Mutation Observers
    observeChanges: false,
    // Called when position is recalculated
    onReposition: function () {},
    // Called on each scroll
    onScroll: function () {},
    // Called when element is stuck to viewport
    onStick: function () {},
    // Called when element is unstuck from viewport
    onUnstick: function () {},
    // Called when element reaches top of context
    onTop: function () {},
    // Called when element reaches bottom of context
    onBottom: function () {},
    error: {
      container: 'Sticky element must be inside a relative container',
      visible: 'Element is hidden, you must call refresh after element becomes visible',
      method: 'The method you called is not defined.',
      invalidContext: 'Context specified does not exist',
      elementSize: 'Sticky element is larger than its container, cannot create sticky.'
    },
    className: {
      bound: 'bound',
      fixed: 'fixed',
      supported: 'native',
      top: 'top',
      bottom: 'bottom'
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tab.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/modules/tab.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Tab
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.tab = function (parameters) {
    var // use window context if none specified
    $allModules = $.isFunction(this) ? $(window) : $(this),
        moduleSelector = $allModules.selector || '',
        time = new Date().getTime(),
        performance = [],
        query = arguments[0],
        methodInvoked = typeof query == 'string',
        queryArguments = [].slice.call(arguments, 1),
        initializedHistory = false,
        returnedValue;
    $allModules.each(function () {
      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.tab.settings, parameters) : $.extend({}, $.fn.tab.settings),
          className = settings.className,
          metadata = settings.metadata,
          selector = settings.selector,
          error = settings.error,
          eventNamespace = '.' + settings.namespace,
          moduleNamespace = 'module-' + settings.namespace,
          $module = $(this),
          $context,
          $tabs,
          cache = {},
          firstLoad = true,
          recursionDepth = 0,
          element = this,
          instance = $module.data(moduleNamespace),
          activeTabPath,
          parameterArray,
          module,
          historyEvent;
      module = {
        initialize: function () {
          module.debug('Initializing tab menu item', $module);
          module.fix.callbacks();
          module.determineTabs();
          module.debug('Determining tabs', settings.context, $tabs); // set up automatic routing

          if (settings.auto) {
            module.set.auto();
          }

          module.bind.events();

          if (settings.history && !initializedHistory) {
            module.initializeHistory();
            initializedHistory = true;
          }

          module.instantiate();
        },
        instantiate: function () {
          module.verbose('Storing instance of module', module);
          instance = module;
          $module.data(moduleNamespace, module);
        },
        destroy: function () {
          module.debug('Destroying tabs', $module);
          $module.removeData(moduleNamespace).off(eventNamespace);
        },
        bind: {
          events: function () {
            // if using $.tab don't add events
            if (!$.isWindow(element)) {
              module.debug('Attaching tab activation events to element', $module);
              $module.on('click' + eventNamespace, module.event.click);
            }
          }
        },
        determineTabs: function () {
          var $reference; // determine tab context

          if (settings.context === 'parent') {
            if ($module.closest(selector.ui).length > 0) {
              $reference = $module.closest(selector.ui);
              module.verbose('Using closest UI element as parent', $reference);
            } else {
              $reference = $module;
            }

            $context = $reference.parent();
            module.verbose('Determined parent element for creating context', $context);
          } else if (settings.context) {
            $context = $(settings.context);
            module.verbose('Using selector for tab context', settings.context, $context);
          } else {
            $context = $('body');
          } // find tabs


          if (settings.childrenOnly) {
            $tabs = $context.children(selector.tabs);
            module.debug('Searching tab context children for tabs', $context, $tabs);
          } else {
            $tabs = $context.find(selector.tabs);
            module.debug('Searching tab context for tabs', $context, $tabs);
          }
        },
        fix: {
          callbacks: function () {
            if ($.isPlainObject(parameters) && (parameters.onTabLoad || parameters.onTabInit)) {
              if (parameters.onTabLoad) {
                parameters.onLoad = parameters.onTabLoad;
                delete parameters.onTabLoad;
                module.error(error.legacyLoad, parameters.onLoad);
              }

              if (parameters.onTabInit) {
                parameters.onFirstLoad = parameters.onTabInit;
                delete parameters.onTabInit;
                module.error(error.legacyInit, parameters.onFirstLoad);
              }

              settings = $.extend(true, {}, $.fn.tab.settings, parameters);
            }
          }
        },
        initializeHistory: function () {
          module.debug('Initializing page state');

          if ($.address === undefined) {
            module.error(error.state);
            return false;
          } else {
            if (settings.historyType == 'state') {
              module.debug('Using HTML5 to manage state');

              if (settings.path !== false) {
                $.address.history(true).state(settings.path);
              } else {
                module.error(error.path);
                return false;
              }
            }

            $.address.bind('change', module.event.history.change);
          }
        },
        event: {
          click: function (event) {
            var tabPath = $(this).data(metadata.tab);

            if (tabPath !== undefined) {
              if (settings.history) {
                module.verbose('Updating page state', event);
                $.address.value(tabPath);
              } else {
                module.verbose('Changing tab', event);
                module.changeTab(tabPath);
              }

              event.preventDefault();
            } else {
              module.debug('No tab specified');
            }
          },
          history: {
            change: function (event) {
              var tabPath = event.pathNames.join('/') || module.get.initialPath(),
                  pageTitle = settings.templates.determineTitle(tabPath) || false;
              module.performance.display();
              module.debug('History change event', tabPath, event);
              historyEvent = event;

              if (tabPath !== undefined) {
                module.changeTab(tabPath);
              }

              if (pageTitle) {
                $.address.title(pageTitle);
              }
            }
          }
        },
        refresh: function () {
          if (activeTabPath) {
            module.debug('Refreshing tab', activeTabPath);
            module.changeTab(activeTabPath);
          }
        },
        cache: {
          read: function (cacheKey) {
            return cacheKey !== undefined ? cache[cacheKey] : false;
          },
          add: function (cacheKey, content) {
            cacheKey = cacheKey || activeTabPath;
            module.debug('Adding cached content for', cacheKey);
            cache[cacheKey] = content;
          },
          remove: function (cacheKey) {
            cacheKey = cacheKey || activeTabPath;
            module.debug('Removing cached content for', cacheKey);
            delete cache[cacheKey];
          }
        },
        set: {
          auto: function () {
            var url = typeof settings.path == 'string' ? settings.path.replace(/\/$/, '') + '/{$tab}' : '/{$tab}';
            module.verbose('Setting up automatic tab retrieval from server', url);

            if ($.isPlainObject(settings.apiSettings)) {
              settings.apiSettings.url = url;
            } else {
              settings.apiSettings = {
                url: url
              };
            }
          },
          loading: function (tabPath) {
            var $tab = module.get.tabElement(tabPath),
                isLoading = $tab.hasClass(className.loading);

            if (!isLoading) {
              module.verbose('Setting loading state for', $tab);
              $tab.addClass(className.loading).siblings($tabs).removeClass(className.active + ' ' + className.loading);

              if ($tab.length > 0) {
                settings.onRequest.call($tab[0], tabPath);
              }
            }
          },
          state: function (state) {
            $.address.value(state);
          }
        },
        changeTab: function (tabPath) {
          var pushStateAvailable = window.history && window.history.pushState,
              shouldIgnoreLoad = pushStateAvailable && settings.ignoreFirstLoad && firstLoad,
              remoteContent = settings.auto || $.isPlainObject(settings.apiSettings),
              // only add default path if not remote content
          pathArray = remoteContent && !shouldIgnoreLoad ? module.utilities.pathToArray(tabPath) : module.get.defaultPathArray(tabPath);
          tabPath = module.utilities.arrayToPath(pathArray);
          $.each(pathArray, function (index, tab) {
            var currentPathArray = pathArray.slice(0, index + 1),
                currentPath = module.utilities.arrayToPath(currentPathArray),
                isTab = module.is.tab(currentPath),
                isLastIndex = index + 1 == pathArray.length,
                $tab = module.get.tabElement(currentPath),
                $anchor,
                nextPathArray,
                nextPath,
                isLastTab;
            module.verbose('Looking for tab', tab);

            if (isTab) {
              module.verbose('Tab was found', tab); // scope up

              activeTabPath = currentPath;
              parameterArray = module.utilities.filterArray(pathArray, currentPathArray);

              if (isLastIndex) {
                isLastTab = true;
              } else {
                nextPathArray = pathArray.slice(0, index + 2);
                nextPath = module.utilities.arrayToPath(nextPathArray);
                isLastTab = !module.is.tab(nextPath);

                if (isLastTab) {
                  module.verbose('Tab parameters found', nextPathArray);
                }
              }

              if (isLastTab && remoteContent) {
                if (!shouldIgnoreLoad) {
                  module.activate.navigation(currentPath);
                  module.fetch.content(currentPath, tabPath);
                } else {
                  module.debug('Ignoring remote content on first tab load', currentPath);
                  firstLoad = false;
                  module.cache.add(tabPath, $tab.html());
                  module.activate.all(currentPath);
                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);
                  settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);
                }

                return false;
              } else {
                module.debug('Opened local tab', currentPath);
                module.activate.all(currentPath);

                if (!module.cache.read(currentPath)) {
                  module.cache.add(currentPath, true);
                  module.debug('First time tab loaded calling tab init');
                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);
                }

                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);
              }
            } else if (tabPath.search('/') == -1 && tabPath !== '') {
              // look for in page anchor
              $anchor = $('#' + tabPath + ', a[name="' + tabPath + '"]');
              currentPath = $anchor.closest('[data-tab]').data(metadata.tab);
              $tab = module.get.tabElement(currentPath); // if anchor exists use parent tab

              if ($anchor && $anchor.length > 0 && currentPath) {
                module.debug('Anchor link used, opening parent tab', $tab, $anchor);

                if (!$tab.hasClass(className.active)) {
                  setTimeout(function () {
                    module.scrollTo($anchor);
                  }, 0);
                }

                module.activate.all(currentPath);

                if (!module.cache.read(currentPath)) {
                  module.cache.add(currentPath, true);
                  module.debug('First time tab loaded calling tab init');
                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);
                }

                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);
                return false;
              }
            } else {
              module.error(error.missingTab, $module, $context, currentPath);
              return false;
            }
          });
        },
        scrollTo: function ($element) {
          var scrollOffset = $element && $element.length > 0 ? $element.offset().top : false;

          if (scrollOffset !== false) {
            module.debug('Forcing scroll to an in-page link in a hidden tab', scrollOffset, $element);
            $(document).scrollTop(scrollOffset);
          }
        },
        update: {
          content: function (tabPath, html, evaluateScripts) {
            var $tab = module.get.tabElement(tabPath),
                tab = $tab[0];
            evaluateScripts = evaluateScripts !== undefined ? evaluateScripts : settings.evaluateScripts;

            if (evaluateScripts) {
              module.debug('Updating HTML and evaluating inline scripts', tabPath, html);
              $tab.html(html);
            } else {
              module.debug('Updating HTML', tabPath, html);
              tab.innerHTML = html;
            }
          }
        },
        fetch: {
          content: function (tabPath, fullTabPath) {
            var $tab = module.get.tabElement(tabPath),
                apiSettings = {
              dataType: 'html',
              encodeParameters: false,
              on: 'now',
              cache: settings.alwaysRefresh,
              headers: {
                'X-Remote': true
              },
              onSuccess: function (response) {
                module.cache.add(fullTabPath, response);
                module.update.content(tabPath, response);

                if (tabPath == activeTabPath) {
                  module.debug('Content loaded', tabPath);
                  module.activate.tab(tabPath);
                } else {
                  module.debug('Content loaded in background', tabPath);
                }

                settings.onFirstLoad.call($tab[0], tabPath, parameterArray, historyEvent);
                settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);
              },
              urlData: {
                tab: fullTabPath
              }
            },
                request = $tab.api('get request') || false,
                existingRequest = request && request.state() === 'pending',
                requestSettings,
                cachedContent;
            fullTabPath = fullTabPath || tabPath;
            cachedContent = module.cache.read(fullTabPath);

            if (settings.cache && cachedContent) {
              module.activate.tab(tabPath);
              module.debug('Adding cached content', fullTabPath);

              if (settings.evaluateScripts == 'once') {
                module.update.content(tabPath, cachedContent, false);
              } else {
                module.update.content(tabPath, cachedContent);
              }

              settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);
            } else if (existingRequest) {
              module.set.loading(tabPath);
              module.debug('Content is already loading', fullTabPath);
            } else if ($.api !== undefined) {
              requestSettings = $.extend(true, {}, settings.apiSettings, apiSettings);
              module.debug('Retrieving remote content', fullTabPath, requestSettings);
              module.set.loading(tabPath);
              $tab.api(requestSettings);
            } else {
              module.error(error.api);
            }
          }
        },
        activate: {
          all: function (tabPath) {
            module.activate.tab(tabPath);
            module.activate.navigation(tabPath);
          },
          tab: function (tabPath) {
            var $tab = module.get.tabElement(tabPath),
                isActive = $tab.hasClass(className.active);
            module.verbose('Showing tab content for', $tab);

            if (!isActive) {
              $tab.addClass(className.active).siblings($tabs).removeClass(className.active + ' ' + className.loading);

              if ($tab.length > 0) {
                settings.onVisible.call($tab[0], tabPath);
              }
            }
          },
          navigation: function (tabPath) {
            var $navigation = module.get.navElement(tabPath),
                isActive = $navigation.hasClass(className.active);
            module.verbose('Activating tab navigation for', $navigation, tabPath);

            if (!isActive) {
              $navigation.addClass(className.active).siblings($allModules).removeClass(className.active + ' ' + className.loading);
            }
          }
        },
        deactivate: {
          all: function () {
            module.deactivate.navigation();
            module.deactivate.tabs();
          },
          navigation: function () {
            $allModules.removeClass(className.active);
          },
          tabs: function () {
            $tabs.removeClass(className.active + ' ' + className.loading);
          }
        },
        is: {
          tab: function (tabName) {
            return tabName !== undefined ? module.get.tabElement(tabName).length > 0 : false;
          }
        },
        get: {
          initialPath: function () {
            return $allModules.eq(0).data(metadata.tab) || $tabs.eq(0).data(metadata.tab);
          },
          path: function () {
            return $.address.value();
          },
          // adds default tabs to tab path
          defaultPathArray: function (tabPath) {
            return module.utilities.pathToArray(module.get.defaultPath(tabPath));
          },
          defaultPath: function (tabPath) {
            var $defaultNav = $allModules.filter('[data-' + metadata.tab + '^="' + tabPath + '/"]').eq(0),
                defaultTab = $defaultNav.data(metadata.tab) || false;

            if (defaultTab) {
              module.debug('Found default tab', defaultTab);

              if (recursionDepth < settings.maxDepth) {
                recursionDepth++;
                return module.get.defaultPath(defaultTab);
              }

              module.error(error.recursion);
            } else {
              module.debug('No default tabs found for', tabPath, $tabs);
            }

            recursionDepth = 0;
            return tabPath;
          },
          navElement: function (tabPath) {
            tabPath = tabPath || activeTabPath;
            return $allModules.filter('[data-' + metadata.tab + '="' + tabPath + '"]');
          },
          tabElement: function (tabPath) {
            var $fullPathTab, $simplePathTab, tabPathArray, lastTab;
            tabPath = tabPath || activeTabPath;
            tabPathArray = module.utilities.pathToArray(tabPath);
            lastTab = module.utilities.last(tabPathArray);
            $fullPathTab = $tabs.filter('[data-' + metadata.tab + '="' + tabPath + '"]');
            $simplePathTab = $tabs.filter('[data-' + metadata.tab + '="' + lastTab + '"]');
            return $fullPathTab.length > 0 ? $fullPathTab : $simplePathTab;
          },
          tab: function () {
            return activeTabPath;
          }
        },
        utilities: {
          filterArray: function (keepArray, removeArray) {
            return $.grep(keepArray, function (keepValue) {
              return $.inArray(keepValue, removeArray) == -1;
            });
          },
          last: function (array) {
            return $.isArray(array) ? array[array.length - 1] : false;
          },
          pathToArray: function (pathName) {
            if (pathName === undefined) {
              pathName = activeTabPath;
            }

            return typeof pathName == 'string' ? pathName.split('/') : [pathName];
          },
          arrayToPath: function (pathArray) {
            return $.isArray(pathArray) ? pathArray.join('/') : false;
          }
        },
        setting: function (name, value) {
          module.debug('Changing setting', name, value);

          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                module.error(error.method, query);
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found;
        }
      };

      if (methodInvoked) {
        if (instance === undefined) {
          module.initialize();
        }

        module.invoke(query);
      } else {
        if (instance !== undefined) {
          instance.invoke('destroy');
        }

        module.initialize();
      }
    });
    return returnedValue !== undefined ? returnedValue : this;
  }; // shortcut for tabbed content with no defined navigation


  $.tab = function () {
    $(window).tab.apply(this, arguments);
  };

  $.fn.tab.settings = {
    name: 'Tab',
    namespace: 'tab',
    debug: false,
    verbose: false,
    performance: true,
    auto: false,
    // uses pjax style endpoints fetching content from same url with remote-content headers
    history: false,
    // use browser history
    historyType: 'hash',
    // #/ or html5 state
    path: false,
    // base path of url
    context: false,
    // specify a context that tabs must appear inside
    childrenOnly: false,
    // use only tabs that are children of context
    maxDepth: 25,
    // max depth a tab can be nested
    alwaysRefresh: false,
    // load tab content new every tab click
    cache: true,
    // cache the content requests to pull locally
    ignoreFirstLoad: false,
    // don't load remote content on first load
    apiSettings: false,
    // settings for api call
    evaluateScripts: 'once',
    // whether inline scripts should be parsed (true/false/once). Once will not re-evaluate on cached content
    onFirstLoad: function (tabPath, parameterArray, historyEvent) {},
    // called first time loaded
    onLoad: function (tabPath, parameterArray, historyEvent) {},
    // called on every load
    onVisible: function (tabPath, parameterArray, historyEvent) {},
    // called every time tab visible
    onRequest: function (tabPath, parameterArray, historyEvent) {},
    // called ever time a tab beings loading remote content
    templates: {
      determineTitle: function (tabArray) {} // returns page title for path

    },
    error: {
      api: 'You attempted to load content without API module',
      method: 'The method you called is not defined',
      missingTab: 'Activated tab cannot be found. Tabs are case-sensitive.',
      noContent: 'The tab you specified is missing a content url.',
      path: 'History enabled, but no path was specified',
      recursion: 'Max recursive depth reached',
      legacyInit: 'onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.',
      legacyLoad: 'onTabLoad has been renamed to onLoad in 2.0. Please adjust your code',
      state: 'History requires Asual\'s Address library <https://github.com/asual/jquery-address>'
    },
    metadata: {
      tab: 'tab',
      loaded: 'loaded',
      promise: 'promise'
    },
    className: {
      loading: 'loading',
      active: 'active'
    },
    selector: {
      tabs: '.ui.tab',
      ui: '.ui'
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"transition.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/lib/definitions/modules/transition.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));

/*
  DO NOT MODIFY - This file has been generated and will be regenerated
  Semantic UI v2.1.8
*/

/*!
 * # Semantic UI - Transition
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;

(function ($, window, document, undefined) {
  "use strict";

  $.fn.transition = function () {
    var $allModules = $(this),
        moduleSelector = $allModules.selector || '',
        time = new Date().getTime(),
        performance = [],
        moduleArguments = arguments,
        query = moduleArguments[0],
        queryArguments = [].slice.call(arguments, 1),
        methodInvoked = typeof query === 'string',
        requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
      setTimeout(callback, 0);
    },
        returnedValue;

    $allModules.each(function (index) {
      var $module = $(this),
          element = this,
          // set at run time
      settings,
          instance,
          error,
          className,
          metadata,
          animationEnd,
          animationName,
          namespace,
          moduleNamespace,
          eventNamespace,
          module;
      module = {
        initialize: function () {
          // get full settings
          settings = module.get.settings.apply(element, moduleArguments); // shorthand

          className = settings.className;
          error = settings.error;
          metadata = settings.metadata; // define namespace

          eventNamespace = '.' + settings.namespace;
          moduleNamespace = 'module-' + settings.namespace;
          instance = $module.data(moduleNamespace) || module; // get vendor specific events

          animationEnd = module.get.animationEndEvent();

          if (methodInvoked) {
            methodInvoked = module.invoke(query);
          } // method not invoked, lets run an animation


          if (methodInvoked === false) {
            module.verbose('Converted arguments into settings object', settings);

            if (settings.interval) {
              module.delay(settings.animate);
            } else {
              module.animate();
            }

            module.instantiate();
          }
        },
        instantiate: function () {
          module.verbose('Storing instance of module', module);
          instance = module;
          $module.data(moduleNamespace, instance);
        },
        destroy: function () {
          module.verbose('Destroying previous module for', element);
          $module.removeData(moduleNamespace);
        },
        refresh: function () {
          module.verbose('Refreshing display type on next animation');
          delete module.displayType;
        },
        forceRepaint: function () {
          module.verbose('Forcing element repaint');
          var $parentElement = $module.parent(),
              $nextElement = $module.next();

          if ($nextElement.length === 0) {
            $module.detach().appendTo($parentElement);
          } else {
            $module.detach().insertBefore($nextElement);
          }
        },
        repaint: function () {
          module.verbose('Repainting element');
          var fakeAssignment = element.offsetWidth;
        },
        delay: function (interval) {
          var direction = module.get.animationDirection(),
              shouldReverse,
              delay;

          if (!direction) {
            direction = module.can.transition() ? module.get.direction() : 'static';
          }

          interval = interval !== undefined ? interval : settings.interval;
          shouldReverse = settings.reverse == 'auto' && direction == className.outward;
          delay = shouldReverse || settings.reverse == true ? ($allModules.length - index) * settings.interval : index * settings.interval;
          module.debug('Delaying animation by', delay);
          setTimeout(module.animate, delay);
        },
        animate: function (overrideSettings) {
          settings = overrideSettings || settings;

          if (!module.is.supported()) {
            module.error(error.support);
            return false;
          }

          module.debug('Preparing animation', settings.animation);

          if (module.is.animating()) {
            if (settings.queue) {
              if (!settings.allowRepeats && module.has.direction() && module.is.occurring() && module.queuing !== true) {
                module.debug('Animation is currently occurring, preventing queueing same animation', settings.animation);
              } else {
                module.queue(settings.animation);
              }

              return false;
            } else if (!settings.allowRepeats && module.is.occurring()) {
              module.debug('Animation is already occurring, will not execute repeated animation', settings.animation);
              return false;
            } else {
              module.debug('New animation started, completing previous early', settings.animation);
              instance.complete();
            }
          }

          if (module.can.animate()) {
            module.set.animating(settings.animation);
          } else {
            module.error(error.noAnimation, settings.animation, element);
          }
        },
        reset: function () {
          module.debug('Resetting animation to beginning conditions');
          module.remove.animationCallbacks();
          module.restore.conditions();
          module.remove.animating();
        },
        queue: function (animation) {
          module.debug('Queueing animation of', animation);
          module.queuing = true;
          $module.one(animationEnd + '.queue' + eventNamespace, function () {
            module.queuing = false;
            module.repaint();
            module.animate.apply(this, settings);
          });
        },
        complete: function (event) {
          module.debug('Animation complete', settings.animation);
          module.remove.completeCallback();
          module.remove.failSafe();

          if (!module.is.looping()) {
            if (module.is.outward()) {
              module.verbose('Animation is outward, hiding element');
              module.restore.conditions();
              module.hide();
            } else if (module.is.inward()) {
              module.verbose('Animation is outward, showing element');
              module.restore.conditions();
              module.show();
            } else {
              module.verbose('Static animation completed');
              module.restore.conditions();
              settings.onComplete.call(element);
            }
          }
        },
        force: {
          visible: function () {
            var style = $module.attr('style'),
                userStyle = module.get.userStyle(),
                displayType = module.get.displayType(),
                overrideStyle = userStyle + 'display: ' + displayType + ' !important;',
                currentDisplay = $module.css('display'),
                emptyStyle = style === undefined || style === '';

            if (currentDisplay !== displayType) {
              module.verbose('Overriding default display to show element', displayType);
              $module.attr('style', overrideStyle);
            } else if (emptyStyle) {
              $module.removeAttr('style');
            }
          },
          hidden: function () {
            var style = $module.attr('style'),
                currentDisplay = $module.css('display'),
                emptyStyle = style === undefined || style === '';

            if (currentDisplay !== 'none' && !module.is.hidden()) {
              module.verbose('Overriding default display to hide element');
              $module.css('display', 'none');
            } else if (emptyStyle) {
              $module.removeAttr('style');
            }
          }
        },
        has: {
          direction: function (animation) {
            var hasDirection = false;
            animation = animation || settings.animation;

            if (typeof animation === 'string') {
              animation = animation.split(' ');
              $.each(animation, function (index, word) {
                if (word === className.inward || word === className.outward) {
                  hasDirection = true;
                }
              });
            }

            return hasDirection;
          },
          inlineDisplay: function () {
            var style = $module.attr('style') || '';
            return $.isArray(style.match(/display.*?;/, ''));
          }
        },
        set: {
          animating: function (animation) {
            var animationClass, direction; // remove previous callbacks

            module.remove.completeCallback(); // determine exact animation

            animation = animation || settings.animation;
            animationClass = module.get.animationClass(animation); // save animation class in cache to restore class names

            module.save.animation(animationClass); // override display if necessary so animation appears visibly

            module.force.visible();
            module.remove.hidden();
            module.remove.direction();
            module.start.animation(animationClass);
          },
          duration: function (animationName, duration) {
            duration = duration || settings.duration;
            duration = typeof duration == 'number' ? duration + 'ms' : duration;

            if (duration || duration === 0) {
              module.verbose('Setting animation duration', duration);
              $module.css({
                'animation-duration': duration
              });
            }
          },
          direction: function (direction) {
            direction = direction || module.get.direction();

            if (direction == className.inward) {
              module.set.inward();
            } else {
              module.set.outward();
            }
          },
          looping: function () {
            module.debug('Transition set to loop');
            $module.addClass(className.looping);
          },
          hidden: function () {
            $module.addClass(className.transition).addClass(className.hidden);
          },
          inward: function () {
            module.debug('Setting direction to inward');
            $module.removeClass(className.outward).addClass(className.inward);
          },
          outward: function () {
            module.debug('Setting direction to outward');
            $module.removeClass(className.inward).addClass(className.outward);
          },
          visible: function () {
            $module.addClass(className.transition).addClass(className.visible);
          }
        },
        start: {
          animation: function (animationClass) {
            animationClass = animationClass || module.get.animationClass();
            module.debug('Starting tween', animationClass);
            $module.addClass(animationClass).one(animationEnd + '.complete' + eventNamespace, module.complete);

            if (settings.useFailSafe) {
              module.add.failSafe();
            }

            module.set.duration(settings.duration);
            settings.onStart.call(element);
          }
        },
        save: {
          animation: function (animation) {
            if (!module.cache) {
              module.cache = {};
            }

            module.cache.animation = animation;
          },
          displayType: function (displayType) {
            if (displayType !== 'none') {
              $module.data(metadata.displayType, displayType);
            }
          },
          transitionExists: function (animation, exists) {
            $.fn.transition.exists[animation] = exists;
            module.verbose('Saving existence of transition', animation, exists);
          }
        },
        restore: {
          conditions: function () {
            var animation = module.get.currentAnimation();

            if (animation) {
              $module.removeClass(animation);
              module.verbose('Removing animation class', module.cache);
            }

            module.remove.duration();
          }
        },
        add: {
          failSafe: function () {
            var duration = module.get.duration();
            module.timer = setTimeout(function () {
              $module.triggerHandler(animationEnd);
            }, duration + settings.failSafeDelay);
            module.verbose('Adding fail safe timer', module.timer);
          }
        },
        remove: {
          animating: function () {
            $module.removeClass(className.animating);
          },
          animationCallbacks: function () {
            module.remove.queueCallback();
            module.remove.completeCallback();
          },
          queueCallback: function () {
            $module.off('.queue' + eventNamespace);
          },
          completeCallback: function () {
            $module.off('.complete' + eventNamespace);
          },
          display: function () {
            $module.css('display', '');
          },
          direction: function () {
            $module.removeClass(className.inward).removeClass(className.outward);
          },
          duration: function () {
            $module.css('animation-duration', '');
          },
          failSafe: function () {
            module.verbose('Removing fail safe timer', module.timer);

            if (module.timer) {
              clearTimeout(module.timer);
            }
          },
          hidden: function () {
            $module.removeClass(className.hidden);
          },
          visible: function () {
            $module.removeClass(className.visible);
          },
          looping: function () {
            module.debug('Transitions are no longer looping');

            if (module.is.looping()) {
              module.reset();
              $module.removeClass(className.looping);
            }
          },
          transition: function () {
            $module.removeClass(className.visible).removeClass(className.hidden);
          }
        },
        get: {
          settings: function (animation, duration, onComplete) {
            // single settings object
            if ((0, _typeof2.default)(animation) == 'object') {
              return $.extend(true, {}, $.fn.transition.settings, animation);
            } // all arguments provided
            else if (typeof onComplete == 'function') {
                return $.extend({}, $.fn.transition.settings, {
                  animation: animation,
                  onComplete: onComplete,
                  duration: duration
                });
              } // only duration provided
              else if (typeof duration == 'string' || typeof duration == 'number') {
                  return $.extend({}, $.fn.transition.settings, {
                    animation: animation,
                    duration: duration
                  });
                } // duration is actually settings object
                else if ((0, _typeof2.default)(duration) == 'object') {
                    return $.extend({}, $.fn.transition.settings, duration, {
                      animation: animation
                    });
                  } // duration is actually callback
                  else if (typeof duration == 'function') {
                      return $.extend({}, $.fn.transition.settings, {
                        animation: animation,
                        onComplete: duration
                      });
                    } // only animation provided
                    else {
                        return $.extend({}, $.fn.transition.settings, {
                          animation: animation
                        });
                      }

            return $.fn.transition.settings;
          },
          animationClass: function (animation) {
            var animationClass = animation || settings.animation,
                directionClass = module.can.transition() && !module.has.direction() ? module.get.direction() + ' ' : '';
            return className.animating + ' ' + className.transition + ' ' + directionClass + animationClass;
          },
          currentAnimation: function () {
            return module.cache && module.cache.animation !== undefined ? module.cache.animation : false;
          },
          currentDirection: function () {
            return module.is.inward() ? className.inward : className.outward;
          },
          direction: function () {
            return module.is.hidden() || !module.is.visible() ? className.inward : className.outward;
          },
          animationDirection: function (animation) {
            var direction;
            animation = animation || settings.animation;

            if (typeof animation === 'string') {
              animation = animation.split(' '); // search animation name for out/in class

              $.each(animation, function (index, word) {
                if (word === className.inward) {
                  direction = className.inward;
                } else if (word === className.outward) {
                  direction = className.outward;
                }
              });
            } // return found direction


            if (direction) {
              return direction;
            }

            return false;
          },
          duration: function (duration) {
            duration = duration || settings.duration;

            if (duration === false) {
              duration = $module.css('animation-duration') || 0;
            }

            return typeof duration === 'string' ? duration.indexOf('ms') > -1 ? parseFloat(duration) : parseFloat(duration) * 1000 : duration;
          },
          displayType: function () {
            if (settings.displayType) {
              return settings.displayType;
            }

            if ($module.data(metadata.displayType) === undefined) {
              // create fake element to determine display state
              module.can.transition(true);
            }

            return $module.data(metadata.displayType);
          },
          userStyle: function (style) {
            style = style || $module.attr('style') || '';
            return style.replace(/display.*?;/, '');
          },
          transitionExists: function (animation) {
            return $.fn.transition.exists[animation];
          },
          animationStartEvent: function () {
            var element = document.createElement('div'),
                animations = {
              'animation': 'animationstart',
              'OAnimation': 'oAnimationStart',
              'MozAnimation': 'mozAnimationStart',
              'WebkitAnimation': 'webkitAnimationStart'
            },
                animation;

            for (animation in meteorBabelHelpers.sanitizeForInObject(animations)) {
              if (element.style[animation] !== undefined) {
                return animations[animation];
              }
            }

            return false;
          },
          animationEndEvent: function () {
            var element = document.createElement('div'),
                animations = {
              'animation': 'animationend',
              'OAnimation': 'oAnimationEnd',
              'MozAnimation': 'mozAnimationEnd',
              'WebkitAnimation': 'webkitAnimationEnd'
            },
                animation;

            for (animation in meteorBabelHelpers.sanitizeForInObject(animations)) {
              if (element.style[animation] !== undefined) {
                return animations[animation];
              }
            }

            return false;
          }
        },
        can: {
          transition: function (forced) {
            var animation = settings.animation,
                transitionExists = module.get.transitionExists(animation),
                elementClass,
                tagName,
                $clone,
                currentAnimation,
                inAnimation,
                directionExists,
                displayType;

            if (transitionExists === undefined || forced) {
              module.verbose('Determining whether animation exists');
              elementClass = $module.attr('class');
              tagName = $module.prop('tagName');
              $clone = $('<' + tagName + ' />').addClass(elementClass).insertAfter($module);
              currentAnimation = $clone.addClass(animation).removeClass(className.inward).removeClass(className.outward).addClass(className.animating).addClass(className.transition).css('animationName');
              inAnimation = $clone.addClass(className.inward).css('animationName');
              displayType = $clone.attr('class', elementClass).removeAttr('style').removeClass(className.hidden).removeClass(className.visible).show().css('display');
              module.verbose('Determining final display state', displayType);
              module.save.displayType(displayType);
              $clone.remove();

              if (currentAnimation != inAnimation) {
                module.debug('Direction exists for animation', animation);
                directionExists = true;
              } else if (currentAnimation == 'none' || !currentAnimation) {
                module.debug('No animation defined in css', animation);
                return;
              } else {
                module.debug('Static animation found', animation, displayType);
                directionExists = false;
              }

              module.save.transitionExists(animation, directionExists);
            }

            return transitionExists !== undefined ? transitionExists : directionExists;
          },
          animate: function () {
            // can transition does not return a value if animation does not exist
            return module.can.transition() !== undefined;
          }
        },
        is: {
          animating: function () {
            return $module.hasClass(className.animating);
          },
          inward: function () {
            return $module.hasClass(className.inward);
          },
          outward: function () {
            return $module.hasClass(className.outward);
          },
          looping: function () {
            return $module.hasClass(className.looping);
          },
          occurring: function (animation) {
            animation = animation || settings.animation;
            animation = '.' + animation.replace(' ', '.');
            return $module.filter(animation).length > 0;
          },
          visible: function () {
            return $module.is(':visible');
          },
          hidden: function () {
            return $module.css('visibility') === 'hidden';
          },
          supported: function () {
            return animationEnd !== false;
          }
        },
        hide: function () {
          module.verbose('Hiding element');

          if (module.is.animating()) {
            module.reset();
          }

          element.blur(); // IE will trigger focus change if element is not blurred before hiding

          module.remove.display();
          module.remove.visible();
          module.set.hidden();
          module.force.hidden();
          settings.onHide.call(element);
          settings.onComplete.call(element); // module.repaint();
        },
        show: function (display) {
          module.verbose('Showing element', display);
          module.remove.hidden();
          module.set.visible();
          module.force.visible();
          settings.onShow.call(element);
          settings.onComplete.call(element); // module.repaint();
        },
        toggle: function () {
          if (module.is.visible()) {
            module.hide();
          } else {
            module.show();
          }
        },
        stop: function () {
          module.debug('Stopping current animation');
          $module.triggerHandler(animationEnd);
        },
        stopAll: function () {
          module.debug('Stopping all animation');
          module.remove.queueCallback();
          $module.triggerHandler(animationEnd);
        },
        clear: {
          queue: function () {
            module.debug('Clearing animation queue');
            module.remove.queueCallback();
          }
        },
        enable: function () {
          module.verbose('Starting animation');
          $module.removeClass(className.disabled);
        },
        disable: function () {
          module.debug('Stopping animation');
          $module.addClass(className.disabled);
        },
        setting: function (name, value) {
          module.debug('Changing setting', name, value);

          if ($.isPlainObject(name)) {
            $.extend(true, settings, name);
          } else if (value !== undefined) {
            settings[name] = value;
          } else {
            return settings[name];
          }
        },
        internal: function (name, value) {
          if ($.isPlainObject(name)) {
            $.extend(true, module, name);
          } else if (value !== undefined) {
            module[name] = value;
          } else {
            return module[name];
          }
        },
        debug: function () {
          if (settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.debug.apply(console, arguments);
            }
          }
        },
        verbose: function () {
          if (settings.verbose && settings.debug) {
            if (settings.performance) {
              module.performance.log(arguments);
            } else {
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');
              module.verbose.apply(console, arguments);
            }
          }
        },
        error: function () {
          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');
          module.error.apply(console, arguments);
        },
        performance: {
          log: function (message) {
            var currentTime, executionTime, previousTime;

            if (settings.performance) {
              currentTime = new Date().getTime();
              previousTime = time || currentTime;
              executionTime = currentTime - previousTime;
              time = currentTime;
              performance.push({
                'Name': message[0],
                'Arguments': [].slice.call(message, 1) || '',
                'Element': element,
                'Execution Time': executionTime
              });
            }

            clearTimeout(module.performance.timer);
            module.performance.timer = setTimeout(module.performance.display, 500);
          },
          display: function () {
            var title = settings.name + ':',
                totalTime = 0;
            time = false;
            clearTimeout(module.performance.timer);
            $.each(performance, function (index, data) {
              totalTime += data['Execution Time'];
            });
            title += ' ' + totalTime + 'ms';

            if (moduleSelector) {
              title += ' \'' + moduleSelector + '\'';
            }

            if ($allModules.length > 1) {
              title += ' ' + '(' + $allModules.length + ')';
            }

            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {
              console.groupCollapsed(title);

              if (console.table) {
                console.table(performance);
              } else {
                $.each(performance, function (index, data) {
                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');
                });
              }

              console.groupEnd();
            }

            performance = [];
          }
        },
        // modified for transition to return invoke success
        invoke: function (query, passedArguments, context) {
          var object = instance,
              maxDepth,
              found,
              response;
          passedArguments = passedArguments || queryArguments;
          context = element || context;

          if (typeof query == 'string' && object !== undefined) {
            query = query.split(/[\. ]/);
            maxDepth = query.length - 1;
            $.each(query, function (depth, value) {
              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;

              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {
                object = object[camelCaseValue];
              } else if (object[camelCaseValue] !== undefined) {
                found = object[camelCaseValue];
                return false;
              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {
                object = object[value];
              } else if (object[value] !== undefined) {
                found = object[value];
                return false;
              } else {
                return false;
              }
            });
          }

          if ($.isFunction(found)) {
            response = found.apply(context, passedArguments);
          } else if (found !== undefined) {
            response = found;
          }

          if ($.isArray(returnedValue)) {
            returnedValue.push(response);
          } else if (returnedValue !== undefined) {
            returnedValue = [returnedValue, response];
          } else if (response !== undefined) {
            returnedValue = response;
          }

          return found !== undefined ? found : false;
        }
      };
      module.initialize();
    });
    return returnedValue !== undefined ? returnedValue : this;
  }; // Records if CSS transition is available


  $.fn.transition.exists = {};
  $.fn.transition.settings = {
    // module info
    name: 'Transition',
    // debug content outputted to console
    debug: false,
    // verbose debug output
    verbose: false,
    // performance data output
    performance: true,
    // event namespace
    namespace: 'transition',
    // delay between animations in group
    interval: 0,
    // whether group animations should be reversed
    reverse: 'auto',
    // animation callback event
    onStart: function () {},
    onComplete: function () {},
    onShow: function () {},
    onHide: function () {},
    // whether timeout should be used to ensure callback fires in cases animationend does not
    useFailSafe: true,
    // delay in ms for fail safe
    failSafeDelay: 100,
    // whether EXACT animation can occur twice in a row
    allowRepeats: false,
    // Override final display type on visible
    displayType: false,
    // animation duration
    animation: 'fade',
    duration: false,
    // new animations will occur after previous ones
    queue: true,
    metadata: {
      displayType: 'display'
    },
    className: {
      animating: 'animating',
      disabled: 'disabled',
      hidden: 'hidden',
      inward: 'in',
      loading: 'loading',
      looping: 'looping',
      outward: 'out',
      transition: 'transition',
      visible: 'visible'
    },
    // possible errors
    error: {
      noAnimation: 'Element is no longer attached to DOM. Unable to animate.',
      repeated: 'That animation is already occurring, cancelling repeated animation',
      method: 'The method you called is not defined',
      support: 'This browser does not support CSS animations'
    }
  };
})(jQuery, window, document);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"main.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/main.js                                                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

module.watch(require("/imports/ui/router.js"));
module.watch(require("/imports/ui/generation/generation.js"));
module.watch(require("/imports/ui/UIHelpers"));
module.watch(require("/imports/ui/generation/customer.js"));
module.watch(require("/imports/ui/layouts/layout.js"));
module.watch(require("/imports/ui/layouts/regionLayout.js"));
module.watch(require("/imports/ui/pages/introduction.html"));
module.watch(require("/imports/ui/pages/introduction.js"));
module.watch(require("/imports/ui/pages/webIntegration.html"));
module.watch(require("/imports/ui/pages/webIntegration.js"));
module.watch(require("/imports/ui/pages/introductionSecurity.html"));
module.watch(require("/imports/ui/pages/introductionSecurity.js"));
module.watch(require("/imports/ui/pages/QMC.html"));
module.watch(require("/imports/ui/users/login.js"));
module.watch(require("/imports/ui/notFound.html"));
module.watch(require("/imports/ui/useCases/useCaseSelection.js"));
module.watch(require("/imports/ui/generation/OEMPartnerSide/users.js"));
module.watch(require("/imports/SSO/client/SSO.html"));
module.watch(require("/imports/SSO/client/SSO.js"));
module.watch(require("/imports/ui/pages/legal.html"));
module.watch(require("/imports/ui/pages/documentation.html"));
module.watch(require("/imports/ui/pages/documentation.js"));
module.watch(require("/imports/ui/pages/APILogs.html"));
module.watch(require("/imports/ui/pages/videoOverview.html"));
module.watch(require("/imports/ui/pages/APILogs.js"));
module.watch(require("/imports/ui/pages/videoOverview.html"));
module.watch(require("/imports/ui/pages/videoOverview.js"));
module.watch(require("/imports/ui/pages/architecture.html"));
module.watch(require("/imports/ui/pages/architecture.js"));
module.watch(require("/imports/ui/pages/securityRules.html"));
module.watch(require("/imports/ui/pages/securityRules.js"));
module.watch(require("/imports/startup/accounts-config.js"));
var senseConfig;
module.watch(require("/imports/api/config"), {
  senseConfig: function (v) {
    senseConfig = v;
  }
}, 0);
var initQlikSense;
module.watch(require("/imports/ui/useCases/useCaseSelection"), {
  initQlikSense: function (v) {
    initQlikSense = v;
  }
}, 1);
var Template;
module.watch(require("meteor/templating"), {
  Template: function (v) {
    Template = v;
  }
}, 2);
var Apps, TemplateApps;
module.watch(require("/imports/api/apps"), {
  Apps: function (v) {
    Apps = v;
  },
  TemplateApps: function (v) {
    TemplateApps = v;
  }
}, 3);
var Customers;
module.watch(require("/imports/api/customers"), {
  Customers: function (v) {
    Customers = v;
  }
}, 4);
var Streams;
module.watch(require("/imports/api/streams"), {
  Streams: function (v) {
    Streams = v;
  }
}, 5);
var APILogs;
module.watch(require("/imports/api/APILogs"), {
  APILogs: function (v) {
    APILogs = v;
  }
}, 6);
var Session;
module.watch(require("meteor/session"), {
  Session: function (v) {
    Session = v;
  }
}, 7);
var moment;
module.watch(require("moment"), {
  "default": function (v) {
    moment = v;
  }
}, 8);

var Cookies = require('js-cookie');

Meteor.startup(function () {
  function _callee2() {
    return _regenerator.default.async(function () {
      function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              // console.log('configure sAlert, the popup messaging service');
              //https://atmospherejs.com/juliancwirko/s-alert
              sAlert.config({
                effect: 'stackslide',
                position: 'top-right',
                timeout: 9000,
                html: false,
                onRouteClose: false,
                stack: true,
                offset: 100,
                // in px - will be added to first alert (bottom or top - depends of the position in config)
                beep: false,
                onClose: _.noop
              });
              AutoForm.setDefaultTemplate("semanticUI");
              Meteor.call('getAppIDs', function () {
                function _callee(error, IDs) {
                  var m;
                  return _regenerator.default.async(function () {
                    function _callee$(_context) {
                      while (1) {
                        switch (_context.prev = _context.next) {
                          case 0:
                            if (!error) {
                              _context.next = 4;
                              break;
                            }

                            alert('Error', error);
                            _context.next = 22;
                            break;

                          case 4:
                            _context.prev = 4;
                            senseConfig.SSBIAppId = IDs.SSBI;
                            senseConfig.slideGeneratorAppId = IDs.slideGenerator;
                            Session.setPersistent('SSBIAppId', IDs.SSBI);
                            Cookies.set('slideGeneratorAppId', IDs.slideGenerator);
                            console.log('If the browser loads the appplication, we make an api call to get the appId to be used for the slide generator: ' + IDs.slideGenerator + ' and the self service BI app: ' + IDs.SSBI);
                            check(senseConfig.SSBIAppId, String);
                            check(senseConfig.slideGeneratorAppId, String);
                            console.log('now make a connection to the slide generator app to get the slide data');
                            _context.next = 15;
                            return _regenerator.default.awrap(initQlikSense());

                          case 15:
                            _context.next = 22;
                            break;

                          case 17:
                            _context.prev = 17;
                            _context.t0 = _context["catch"](4);
                            m = 'We could not retreive the app ids for the slide generator or the SSBI app. Did you forget to use the correct name for the SSBI or slidegenerator app in the settings.json file, are your apps in the correct stream? Did you forget to run once with "initializeQlikSense:true" in the settings.json? Check the server logs, most problems arise from the wrong hostnames, or no certificates.';
                            sAlert.error('Could not make a websocket connection from the browser using EngimaJS to Qlik Sense', _context.t0);
                            console.error(m + ' with error ' + _context.t0);

                          case 22:
                          case "end":
                            return _context.stop();
                        }
                      }
                    }

                    return _callee$;
                  }(), null, this, [[4, 17]]);
                }

                return _callee;
              }());

            case 3:
            case "end":
              return _context2.stop();
          }
        }
      }

      return _callee2$;
    }(), null, this);
  }

  return _callee2;
}()); // //google analytics, only if running on qlik.com
// if (window.location.href.indexOf("qlik.com") > -1) {
//     (function(i, s, o, g, r, a, m) {
//         i['GoogleAnalyticsObject'] = r;
//         i[r] = i[r] || function() {
//             (i[r].q = i[r].q || []).push(arguments)
//         }, i[r].l = 1 * new Date();
//         a = s.createElement(o),
//             m = s.getElementsByTagName(o)[0];
//         a.async = 1;
//         a.src = g;
//         m.parentNode.insertBefore(a, m)
//     })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
//     ga('create', 'UA-82055118-1', 'auto');
//     ga('send', 'pageview');
// }
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"lib":{"yogiben.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// lib/yogiben.js                                                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
// import { Customers } from '/imports/api/customers';
// AdminConfig = {
//     collections: {
//         Customers: {
//             collectionObject: Customers,
//         }
//     },
//     userSchema: new SimpleSchema({
//         'profile.gender': {
//             type: String,
//             allowedValues: ['male', 'female']
//         }
//     })
// };
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},{
  "extensions": [
    ".js",
    ".json",
    ".html",
    ".less",
    ".css",
    ".semantic.json"
  ]
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/compatibility/transition.js                                                                                  //
// This file is in bare mode and is not in its own closure.                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/* ========================================================================
 * Bootstrap: transition.js v3.3.7
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)
  // ============================================================

  function transitionEnd() {
    var el = document.createElement('bootstrap')

    var transEndEventNames = {
      WebkitTransition : 'webkitTransitionEnd',
      MozTransition    : 'transitionend',
      OTransition      : 'oTransitionEnd otransitionend',
      transition       : 'transitionend'
    }

    for (var name in transEndEventNames) {
      if (el.style[name] !== undefined) {
        return { end: transEndEventNames[name] }
      }
    }

    return false // explicit for ie8 (  ._.)
  }

  // http://blog.alexmaccaw.com/css-transitions
  $.fn.emulateTransitionEnd = function (duration) {
    var called = false
    var $el = this
    $(this).one('bsTransitionEnd', function () { called = true })
    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }
    setTimeout(callback, duration)
    return this
  }

  $(function () {
    $.support.transition = transitionEnd()

    if (!$.support.transition) return

    $.event.special.bsTransitionEnd = {
      bindType: $.support.transition.end,
      delegateType: $.support.transition.end,
      handle: function (e) {
        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)
      }
    }
  })

}(jQuery);

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/compatibility/underscore-min.js                                                                              //
// This file is in bare mode and is not in its own closure.                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,d=e.filter,g=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,_=Object.keys,j=i.bind,w=function(n){return n instanceof w?n:this instanceof w?(this._wrapped=n,void 0):new w(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),exports._=w):n._=w,w.VERSION="1.4.4";var A=w.each=w.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a in n)if(w.has(n,a)&&t.call(e,n[a],a,n)===r)return};w.map=w.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e[e.length]=t.call(r,n,u,i)}),e)};var O="Reduce of empty array with no initial value";w.reduce=w.foldl=w.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=w.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},w.reduceRight=w.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=w.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=w.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},w.find=w.detect=function(n,t,r){var e;return E(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},w.filter=w.select=function(n,t,r){var e=[];return null==n?e:d&&n.filter===d?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&(e[e.length]=n)}),e)},w.reject=function(n,t,r){return w.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},w.every=w.all=function(n,t,e){t||(t=w.identity);var u=!0;return null==n?u:g&&n.every===g?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var E=w.some=w.any=function(n,t,e){t||(t=w.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};w.contains=w.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:E(n,function(n){return n===t})},w.invoke=function(n,t){var r=o.call(arguments,2),e=w.isFunction(t);return w.map(n,function(n){return(e?t:n[t]).apply(n,r)})},w.pluck=function(n,t){return w.map(n,function(n){return n[t]})},w.where=function(n,t,r){return w.isEmpty(t)?r?null:[]:w[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},w.findWhere=function(n,t){return w.where(n,t,!0)},w.max=function(n,t,r){if(!t&&w.isArray(n)&&n[0]===+n[0]&&65535>n.length)return Math.max.apply(Math,n);if(!t&&w.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>=e.computed&&(e={value:n,computed:a})}),e.value},w.min=function(n,t,r){if(!t&&w.isArray(n)&&n[0]===+n[0]&&65535>n.length)return Math.min.apply(Math,n);if(!t&&w.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;e.computed>a&&(e={value:n,computed:a})}),e.value},w.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=w.random(r++),e[r-1]=e[t],e[t]=n}),e};var k=function(n){return w.isFunction(n)?n:function(t){return t[n]}};w.sortBy=function(n,t,r){var e=k(t);return w.pluck(w.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index<t.index?-1:1}),"value")};var F=function(n,t,r,e){var u={},i=k(t||w.identity);return A(n,function(t,a){var o=i.call(r,t,a,n);e(u,o,t)}),u};w.groupBy=function(n,t,r){return F(n,t,r,function(n,t,r){(w.has(n,t)?n[t]:n[t]=[]).push(r)})},w.countBy=function(n,t,r){return F(n,t,r,function(n,t){w.has(n,t)||(n[t]=0),n[t]++})},w.sortedIndex=function(n,t,r,e){r=null==r?w.identity:k(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;u>r.call(e,n[o])?i=o+1:a=o}return i},w.toArray=function(n){return n?w.isArray(n)?o.call(n):n.length===+n.length?w.map(n,w.identity):w.values(n):[]},w.size=function(n){return null==n?0:n.length===+n.length?n.length:w.keys(n).length},w.first=w.head=w.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:o.call(n,0,t)},w.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},w.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},w.rest=w.tail=w.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},w.compact=function(n){return w.filter(n,w.identity)};var R=function(n,t,r){return A(n,function(n){w.isArray(n)?t?a.apply(r,n):R(n,t,r):r.push(n)}),r};w.flatten=function(n,t){return R(n,t,[])},w.without=function(n){return w.difference(n,o.call(arguments,1))},w.uniq=w.unique=function(n,t,r,e){w.isFunction(t)&&(e=r,r=t,t=!1);var u=r?w.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:w.contains(a,r))||(a.push(r),i.push(n[e]))}),i},w.union=function(){return w.uniq(c.apply(e,arguments))},w.intersection=function(n){var t=o.call(arguments,1);return w.filter(w.uniq(n),function(n){return w.every(t,function(t){return w.indexOf(t,n)>=0})})},w.difference=function(n){var t=c.apply(e,o.call(arguments,1));return w.filter(n,function(n){return!w.contains(t,n)})},w.zip=function(){for(var n=o.call(arguments),t=w.max(w.pluck(n,"length")),r=Array(t),e=0;t>e;e++)r[e]=w.pluck(n,""+e);return r},w.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},w.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=w.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},w.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},w.range=function(n,t,r){1>=arguments.length&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=Array(e);e>u;)i[u++]=n,n+=r;return i},w.bind=function(n,t){if(n.bind===j&&j)return j.apply(n,o.call(arguments,1));var r=o.call(arguments,2);return function(){return n.apply(t,r.concat(o.call(arguments)))}},w.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},w.bindAll=function(n){var t=o.call(arguments,1);return 0===t.length&&(t=w.functions(n)),A(t,function(t){n[t]=w.bind(n[t],n)}),n},w.memoize=function(n,t){var r={};return t||(t=w.identity),function(){var e=t.apply(this,arguments);return w.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},w.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},w.defer=function(n){return w.delay.apply(w,[n,1].concat(o.call(arguments,1)))},w.throttle=function(n,t){var r,e,u,i,a=0,o=function(){a=new Date,u=null,i=n.apply(r,e)};return function(){var c=new Date,l=t-(c-a);return r=this,e=arguments,0>=l?(clearTimeout(u),u=null,a=c,i=n.apply(r,e)):u||(u=setTimeout(o,l)),i}},w.debounce=function(n,t,r){var e,u;return function(){var i=this,a=arguments,o=function(){e=null,r||(u=n.apply(i,a))},c=r&&!e;return clearTimeout(e),e=setTimeout(o,t),c&&(u=n.apply(i,a)),u}},w.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},w.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},w.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},w.after=function(n,t){return 0>=n?t():function(){return 1>--n?t.apply(this,arguments):void 0}},w.keys=_||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)w.has(n,r)&&(t[t.length]=r);return t},w.values=function(n){var t=[];for(var r in n)w.has(n,r)&&t.push(n[r]);return t},w.pairs=function(n){var t=[];for(var r in n)w.has(n,r)&&t.push([r,n[r]]);return t},w.invert=function(n){var t={};for(var r in n)w.has(n,r)&&(t[n[r]]=r);return t},w.functions=w.methods=function(n){var t=[];for(var r in n)w.isFunction(n[r])&&t.push(r);return t.sort()},w.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},w.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},w.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)w.contains(r,u)||(t[u]=n[u]);return t},w.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)null==n[r]&&(n[r]=t[r])}),n},w.clone=function(n){return w.isObject(n)?w.isArray(n)?n.slice():w.extend({},n):n},w.tap=function(n,t){return t(n),n};var I=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof w&&(n=n._wrapped),t instanceof w&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==t+"";case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;r.push(n),e.push(t);var a=0,o=!0;if("[object Array]"==u){if(a=n.length,o=a==t.length)for(;a--&&(o=I(n[a],t[a],r,e)););}else{var c=n.constructor,f=t.constructor;if(c!==f&&!(w.isFunction(c)&&c instanceof c&&w.isFunction(f)&&f instanceof f))return!1;for(var s in n)if(w.has(n,s)&&(a++,!(o=w.has(t,s)&&I(n[s],t[s],r,e))))break;if(o){for(s in t)if(w.has(t,s)&&!a--)break;o=!a}}return r.pop(),e.pop(),o};w.isEqual=function(n,t){return I(n,t,[],[])},w.isEmpty=function(n){if(null==n)return!0;if(w.isArray(n)||w.isString(n))return 0===n.length;for(var t in n)if(w.has(n,t))return!1;return!0},w.isElement=function(n){return!(!n||1!==n.nodeType)},w.isArray=x||function(n){return"[object Array]"==l.call(n)},w.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){w["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),w.isArguments(arguments)||(w.isArguments=function(n){return!(!n||!w.has(n,"callee"))}),"function"!=typeof/./&&(w.isFunction=function(n){return"function"==typeof n}),w.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},w.isNaN=function(n){return w.isNumber(n)&&n!=+n},w.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},w.isNull=function(n){return null===n},w.isUndefined=function(n){return n===void 0},w.has=function(n,t){return f.call(n,t)},w.noConflict=function(){return n._=t,this},w.identity=function(n){return n},w.times=function(n,t,r){for(var e=Array(n),u=0;n>u;u++)e[u]=t.call(r,u);return e},w.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=w.invert(M.escape);var S={escape:RegExp("["+w.keys(M.escape).join("")+"]","g"),unescape:RegExp("("+w.keys(M.unescape).join("|")+")","g")};w.each(["escape","unescape"],function(n){w[n]=function(t){return null==t?"":(""+t).replace(S[n],function(t){return M[n][t]})}}),w.result=function(n,t){if(null==n)return null;var r=n[t];return w.isFunction(r)?r.call(n):r},w.mixin=function(n){A(w.functions(n),function(t){var r=w[t]=n[t];w.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),D.call(this,r.apply(w,n))}})};var N=0;w.uniqueId=function(n){var t=++N+"";return n?n+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;w.template=function(n,t,r){var e;r=w.defaults({},r,w.templateSettings);var u=RegExp([(r.escape||T).source,(r.interpolate||T).source,(r.evaluate||T).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(B,function(n){return"\\"+q[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,w);var c=function(n){return e.call(this,n,w)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},w.chain=function(n){return w(n).chain()};var D=function(n){return this._chain?w(n).chain():n};w.mixin(w),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];w.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],D.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];w.prototype[n]=function(){return D.call(this,t.apply(this._wrapped,arguments))}}),w.extend(w.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// client/compatibility/zoom.min.js                                                                                    //
// This file is in bare mode and is not in its own closure.                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/**
 * zoom.js - It's the best way to zoom an image
 * @version v0.0.2
 * @link https://github.com/fat/zoom.js
 * @license MIT
 */

+function(t){"use strict";function o(){this._activeZoom=this._initialScrollPosition=this._initialTouchPosition=this._touchMoveListener=null,this._$document=t(document),this._$window=t(window),this._$body=t(document.body),this._boundClick=t.proxy(this._clickHandler,this)}function i(o){this._fullHeight=this._fullWidth=this._overlay=this._targetImageWrap=null,this._targetImage=o,this._$body=t(document.body)}o.prototype.listen=function(){this._$body.on("click",'[data-action="zoom"]',t.proxy(this._zoom,this))},o.prototype._zoom=function(o){var e=o.target;if(e&&"IMG"==e.tagName&&!this._$body.hasClass("zoom-overlay-open"))return o.metaKey||o.ctrlKey?window.open(o.target.getAttribute("data-original")||o.target.src,"_blank"):void(e.width>=t(window).width()-i.OFFSET||(this._activeZoomClose(!0),this._activeZoom=new i(e),this._activeZoom.zoomImage(),this._$window.on("scroll.zoom",t.proxy(this._scrollHandler,this)),this._$document.on("keyup.zoom",t.proxy(this._keyHandler,this)),this._$document.on("touchstart.zoom",t.proxy(this._touchStart,this)),document.addEventListener?document.addEventListener("click",this._boundClick,!0):document.attachEvent("onclick",this._boundClick,!0),"bubbles"in o?o.bubbles&&o.stopPropagation():o.cancelBubble=!0))},o.prototype._activeZoomClose=function(t){this._activeZoom&&(t?this._activeZoom.dispose():this._activeZoom.close(),this._$window.off(".zoom"),this._$document.off(".zoom"),document.removeEventListener("click",this._boundClick,!0),this._activeZoom=null)},o.prototype._scrollHandler=function(o){null===this._initialScrollPosition&&(this._initialScrollPosition=t(window).scrollTop());var i=this._initialScrollPosition-t(window).scrollTop();Math.abs(i)>=40&&this._activeZoomClose()},o.prototype._keyHandler=function(t){27==t.keyCode&&this._activeZoomClose()},o.prototype._clickHandler=function(t){t.preventDefault?t.preventDefault():event.returnValue=!1,"bubbles"in t?t.bubbles&&t.stopPropagation():t.cancelBubble=!0,this._activeZoomClose()},o.prototype._touchStart=function(o){this._initialTouchPosition=o.touches[0].pageY,t(o.target).on("touchmove.zoom",t.proxy(this._touchMove,this))},o.prototype._touchMove=function(o){Math.abs(o.touches[0].pageY-this._initialTouchPosition)>10&&(this._activeZoomClose(),t(o.target).off("touchmove.zoom"))},i.OFFSET=80,i._MAX_WIDTH=2560,i._MAX_HEIGHT=4096,i.prototype.zoomImage=function(){var o=document.createElement("img");o.onload=t.proxy(function(){this._fullHeight=Number(o.height),this._fullWidth=Number(o.width),this._zoomOriginal()},this),o.src=this._targetImage.src},i.prototype._zoomOriginal=function(){this._targetImageWrap=document.createElement("div"),this._targetImageWrap.className="zoom-img-wrap",this._targetImage.parentNode.insertBefore(this._targetImageWrap,this._targetImage),this._targetImageWrap.appendChild(this._targetImage),t(this._targetImage).addClass("zoom-img").attr("data-action","zoom-out"),this._overlay=document.createElement("div"),this._overlay.className="zoom-overlay",document.body.appendChild(this._overlay),this._calculateZoom(),this._triggerAnimation()},i.prototype._calculateZoom=function(){this._targetImage.offsetWidth;var o=this._fullWidth,e=this._fullHeight,a=(t(window).scrollTop(),o/this._targetImage.width),s=t(window).height()-i.OFFSET,r=t(window).width()-i.OFFSET,n=o/e,h=r/s;this._imgScaleFactor=r>o&&s>e?a:h>n?s/e*a:r/o*a},i.prototype._triggerAnimation=function(){this._targetImage.offsetWidth;var o=t(this._targetImage).offset(),i=t(window).scrollTop(),e=i+t(window).height()/2,a=t(window).width()/2,s=o.top+this._targetImage.height/2,r=o.left+this._targetImage.width/2;this._translateY=e-s,this._translateX=a-r;var n="scale("+this._imgScaleFactor+")",h="translate("+this._translateX+"px, "+this._translateY+"px)";t.support.transition&&(h+=" translateZ(0)"),t(this._targetImage).css({"-webkit-transform":n,"-ms-transform":n,transform:n}),t(this._targetImageWrap).css({"-webkit-transform":h,"-ms-transform":h,transform:h}),this._$body.addClass("zoom-overlay-open")},i.prototype.close=function(){return this._$body.removeClass("zoom-overlay-open").addClass("zoom-overlay-transitioning"),t(this._targetImage).css({"-webkit-transform":"","-ms-transform":"",transform:""}),t(this._targetImageWrap).css({"-webkit-transform":"","-ms-transform":"",transform:""}),t.support.transition?void t(this._targetImage).one(t.support.transition.end,t.proxy(this.dispose,this)).emulateTransitionEnd(300):this.dispose()},i.prototype.dispose=function(){this._targetImageWrap&&this._targetImageWrap.parentNode&&(t(this._targetImage).removeClass("zoom-img").attr("data-action","zoom"),this._targetImageWrap.parentNode.replaceChild(this._targetImage,this._targetImageWrap),this._overlay.parentNode.removeChild(this._overlay),this._$body.removeClass("zoom-overlay-transitioning"))},t(function(){(new o).listen()})}(jQuery);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


require("/client/lib/definitions/behaviors/api.js");
require("/client/lib/definitions/behaviors/colorize.js");
require("/client/lib/definitions/behaviors/form.js");
require("/client/lib/definitions/behaviors/state.js");
require("/client/lib/definitions/behaviors/visibility.js");
require("/client/lib/definitions/behaviors/visit.js");
require("/client/lib/definitions/globals/site.js");
require("/client/lib/definitions/modules/accordion.js");
require("/client/lib/definitions/modules/checkbox.js");
require("/client/lib/definitions/modules/dimmer.js");
require("/client/lib/definitions/modules/dropdown.js");
require("/client/lib/definitions/modules/embed.js");
require("/client/lib/definitions/modules/modal.js");
require("/client/lib/definitions/modules/nag.js");
require("/client/lib/definitions/modules/popup.js");
require("/client/lib/definitions/modules/progress.js");
require("/client/lib/definitions/modules/rating.js");
require("/client/lib/definitions/modules/search.js");
require("/client/lib/definitions/modules/shape.js");
require("/client/lib/definitions/modules/sidebar.js");
require("/client/lib/definitions/modules/sticky.js");
require("/client/lib/definitions/modules/tab.js");
require("/client/lib/definitions/modules/transition.js");
require("/lib/yogiben.js");
require("/client/main.js");