<template name="slidesContainerIFrame">
  <iframe allowfullscreen src="{{pathFor 'slides'}}" class="frame"></iframe>
</template>



<template name="slides">
  <!-- for each header: a level 1 and 2 combination -->
  <!--         Create a chapter breaker if the level 1 has changed in the current row-->
  <!-- The current level 1 and 2 headers -->
  {{> slideShareModal}}
  {{#if showSelector}}
  {{> slideSelectionSheet }}
  {{/if}}



  <div class="reveal">
    <div class="slides">
      <div class="sr-only">Use your keyboard arrows to navigate through the slides</div>

      {{#if showSubjectAreaIntroduction}}
      <section>
        <div class="ui container">
          <h1 class="ui dividing header">{{presentationName}} - Select your favorite subject area<a class="anchor"
              id="types"></a></h1>
          <p>From the top menu select the subject area of choice. In the left menu you find additional chapters related
            to that subject area.
          </p>
          <div class="ui list">

            <div class="ui placeholder ">
              <img class="ui image" src="/images/subject area introduction.png">
              <!-- <div class="ui two column stackable center aligned grid">
                {{#each item in subjectAreas }}
                <div class="column">
                  <div id="{{item.qText}}" class="ui icon header subjectArea">
                    <i class="search icon"></i>
                    {{item.qText}}
                  </div>
                </div>
                {{/each}}
              </div> -->
            </div>

          </div>
        </div>
      </section>
      {{else}}

      {{#each slideHeaders }}
      {{#if chapterSlide this}}
      <section>
        <div class="ui grid">
          <div class="two wide column">
            {{>chapters}}
          </div>
          <div class="twelve wide column">
            <div class="ui integrationBreaker" style="text-align: left;font-size: 1em;">
              <h1 class="ui header" style="color: #0E2F4E;">
                Next chapter: {{this}} </h1>
              <div class="ui divider"></div>
              <div>

                <h2 class="ui header" style="font-size: 1em;">In this chapter you will see the following slides: </h2>
                {{#each slide in TableOfContentForChapter }}
                <div class="ui bulleted list">
                  <div class="item"> {{slide}}
                  </div>
                </div>
                {{/each}}
                <br>
                <div class="ui icon message">
                  <i class="book icon"></i>
                  <div class="content">
                    <div class="header">
                      How to move through the content library?
                    </div>
                    <p>You can click the right arrow to navigate through all the slides, or you can directly go to a
                      specific chapter by using the menu on the left,
                      or start over by selecting a different subject area in the top. </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      {{else}}
      {{> slide slide=this slideNr=@index}}
      {{/if}}
      {{/each}}
      {{/if}}
    </div>
  </div>
</template>

<template name="slide">
  <section class="slide">
    <div class="wrap">
      <div class="ui grid">
        <div class="two wide column">
          {{>chapters}}
        </div>
        <div class="twelve wide column">
          {{#if active slideNr}}
          <!-- <h1> {{{level 1 slide}}}</h1> -->
          <h2>{{{level 2 slide}}}
            <hr role="presentation">
          </h2>

          {{> slideContent slide=slide}}
          {{/if}}
        </div>

      </div>
    </div>
    <hr role="presentation">
    {{> footer}}
  </section>

</template>

<template name="chapters">
  <div id="chapters" class="ui secondary vertical fluid menu" style="text-align: left">
    <div class="header item">
      {{#if presentationName}}
      {{presentationName}} - {{currentSubjectArea}} chapters
      {{else}}
      Chapters shared with you
      {{/if}}
    </div>
    {{#each chapter in chapters }}

    <a id="{{chapter.qText}}" href="" class="{{active chapter}} item">
      {{chapter.qText}}
    </a>

    {{/each}}
  </div>
</template>

<template name="slideContent">
  <div class="slideContent">

    {{#each bullet in bullets}} {{{bullet}}} {{/each}}
    {{{ comment }}}
  </div>
</template>

<template name="slideShareModal">
  <div class="modal micromodal-slide" id="modal-1" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
      <div id="modal-container" class="modal__container" role="dialog" aria-modal="true"
        aria-labelledby="modal-1-title">
        <header id="modal-header" class="modal__header">
          <h2 class="modal__title">
            Get a link for this presentation
          </h2>
          <button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
        </header>
        <div id="modal-content-content" class="modal-content-content">
          <div id="modal-content" class="modal__content" style="display:none;">
            <p>Please copy this link: <a href="{{shareLinkURL}}">{{shareLinkURL}}</a>. With this link another user can
              open this presentation with exactly the same selection (slides).</p>
          </div>
          <footer id="modal-footer" class="modal__footer">
            <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
          </footer>
        </div>
      </div>
    </div>
  </div>
</template>